var iL=Object.defineProperty;var aL=(n,e,t)=>e in n?iL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $e=(n,e,t)=>aL(n,typeof e!="symbol"?e+"":e,t);function oL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function Ug(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var f0={exports:{}},gd={},m0={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function lL(){if(_E)return He;_E=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function T(H,te,be){this.props=H,this.context=te,this.refs=w,this.updater=be||b}T.prototype.isReactComponent={},T.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=T.prototype;function C(H,te,be){this.props=H,this.context=te,this.refs=w,this.updater=be||b}var D=C.prototype=new P;D.constructor=C,x(D,T.prototype),D.isPureReactComponent=!0;var B=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function I(H,te,be){var Ee,re={},le=null,he=null;if(te!=null)for(Ee in te.ref!==void 0&&(he=te.ref),te.key!==void 0&&(le=""+te.key),te)L.call(te,Ee)&&!M.hasOwnProperty(Ee)&&(re[Ee]=te[Ee]);var Se=arguments.length-2;if(Se===1)re.children=be;else if(1<Se){for(var De=Array(Se),tt=0;tt<Se;tt++)De[tt]=arguments[tt+2];re.children=De}if(H&&H.defaultProps)for(Ee in Se=H.defaultProps,Se)re[Ee]===void 0&&(re[Ee]=Se[Ee]);return{$$typeof:n,type:H,key:le,ref:he,props:re,_owner:U.current}}function N(H,te){return{$$typeof:n,type:H.type,key:te,ref:H.ref,props:H.props,_owner:H._owner}}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function A(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(be){return te[be]})}var O=/\/+/g;function R(H,te){return typeof H=="object"&&H!==null&&H.key!=null?A(""+H.key):te.toString(36)}function G(H,te,be,Ee,re){var le=typeof H;(le==="undefined"||le==="boolean")&&(H=null);var he=!1;if(H===null)he=!0;else switch(le){case"string":case"number":he=!0;break;case"object":switch(H.$$typeof){case n:case e:he=!0}}if(he)return he=H,re=re(he),H=Ee===""?"."+R(he,0):Ee,B(re)?(be="",H!=null&&(be=H.replace(O,"$&/")+"/"),G(re,te,be,"",function(tt){return tt})):re!=null&&(j(re)&&(re=N(re,be+(!re.key||he&&he.key===re.key?"":(""+re.key).replace(O,"$&/")+"/")+H)),te.push(re)),1;if(he=0,Ee=Ee===""?".":Ee+":",B(H))for(var Se=0;Se<H.length;Se++){le=H[Se];var De=Ee+R(le,Se);he+=G(le,te,be,De,re)}else if(De=v(H),typeof De=="function")for(H=De.call(H),Se=0;!(le=H.next()).done;)le=le.value,De=Ee+R(le,Se++),he+=G(le,te,be,De,re);else if(le==="object")throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return he}function J(H,te,be){if(H==null)return H;var Ee=[],re=0;return G(H,Ee,"","",function(le){return te.call(be,le,re++)}),Ee}function ie(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(be){(H._status===0||H._status===-1)&&(H._status=1,H._result=be)},function(be){(H._status===0||H._status===-1)&&(H._status=2,H._result=be)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var ue={current:null},ee={transition:null},ce={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:ee,ReactCurrentOwner:U};function se(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:J,forEach:function(H,te,be){J(H,function(){te.apply(this,arguments)},be)},count:function(H){var te=0;return J(H,function(){te++}),te},toArray:function(H){return J(H,function(te){return te})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},He.Component=T,He.Fragment=t,He.Profiler=s,He.PureComponent=C,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,He.act=se,He.cloneElement=function(H,te,be){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ee=x({},H.props),re=H.key,le=H.ref,he=H._owner;if(te!=null){if(te.ref!==void 0&&(le=te.ref,he=U.current),te.key!==void 0&&(re=""+te.key),H.type&&H.type.defaultProps)var Se=H.type.defaultProps;for(De in te)L.call(te,De)&&!M.hasOwnProperty(De)&&(Ee[De]=te[De]===void 0&&Se!==void 0?Se[De]:te[De])}var De=arguments.length-2;if(De===1)Ee.children=be;else if(1<De){Se=Array(De);for(var tt=0;tt<De;tt++)Se[tt]=arguments[tt+2];Ee.children=Se}return{$$typeof:n,type:H.type,key:re,ref:le,props:Ee,_owner:he}},He.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},He.createElement=I,He.createFactory=function(H){var te=I.bind(null,H);return te.type=H,te},He.createRef=function(){return{current:null}},He.forwardRef=function(H){return{$$typeof:l,render:H}},He.isValidElement=j,He.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:ie}},He.memo=function(H,te){return{$$typeof:d,type:H,compare:te===void 0?null:te}},He.startTransition=function(H){var te=ee.transition;ee.transition={};try{H()}finally{ee.transition=te}},He.unstable_act=se,He.useCallback=function(H,te){return ue.current.useCallback(H,te)},He.useContext=function(H){return ue.current.useContext(H)},He.useDebugValue=function(){},He.useDeferredValue=function(H){return ue.current.useDeferredValue(H)},He.useEffect=function(H,te){return ue.current.useEffect(H,te)},He.useId=function(){return ue.current.useId()},He.useImperativeHandle=function(H,te,be){return ue.current.useImperativeHandle(H,te,be)},He.useInsertionEffect=function(H,te){return ue.current.useInsertionEffect(H,te)},He.useLayoutEffect=function(H,te){return ue.current.useLayoutEffect(H,te)},He.useMemo=function(H,te){return ue.current.useMemo(H,te)},He.useReducer=function(H,te,be){return ue.current.useReducer(H,te,be)},He.useRef=function(H){return ue.current.useRef(H)},He.useState=function(H){return ue.current.useState(H)},He.useSyncExternalStore=function(H,te,be){return ue.current.useSyncExternalStore(H,te,be)},He.useTransition=function(){return ue.current.useTransition()},He.version="18.3.1",He}var TE;function Qw(){return TE||(TE=1,m0.exports=lL()),m0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function cL(){if(EE)return gd;EE=1;var n=Qw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,d){var f,p={},v=null,b=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(b=c.ref);for(f in c)r.call(c,f)&&!i.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:l,key:v,ref:b,props:p,_owner:s.current}}return gd.Fragment=t,gd.jsx=a,gd.jsxs=a,gd}var SE;function uL(){return SE||(SE=1,f0.exports=cL()),f0.exports}var h=uL(),F=Qw();const pe=Ug(F),Tx=oL({__proto__:null,default:pe},[F]);var Lm={},p0={exports:{}},pr={},g0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function dL(){return IE||(IE=1,function(n){function e(ee,ce){var se=ee.length;ee.push(ce);e:for(;0<se;){var H=se-1>>>1,te=ee[H];if(0<s(te,ce))ee[H]=ce,ee[se]=te,se=H;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ce=ee[0],se=ee.pop();if(se!==ce){ee[0]=se;e:for(var H=0,te=ee.length,be=te>>>1;H<be;){var Ee=2*(H+1)-1,re=ee[Ee],le=Ee+1,he=ee[le];if(0>s(re,se))le<te&&0>s(he,re)?(ee[H]=he,ee[le]=se,H=le):(ee[H]=re,ee[Ee]=se,H=Ee);else if(le<te&&0>s(he,se))ee[H]=he,ee[le]=se,H=le;else break e}}return ce}function s(ee,ce){var se=ee.sortIndex-ce.sortIndex;return se!==0?se:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,p=null,v=3,b=!1,x=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ee){for(var ce=t(d);ce!==null;){if(ce.callback===null)r(d);else if(ce.startTime<=ee)r(d),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=t(d)}}function B(ee){if(w=!1,D(ee),!x)if(t(c)!==null)x=!0,ie(L);else{var ce=t(d);ce!==null&&ue(B,ce.startTime-ee)}}function L(ee,ce){x=!1,w&&(w=!1,P(I),I=-1),b=!0;var se=v;try{for(D(ce),p=t(c);p!==null&&(!(p.expirationTime>ce)||ee&&!A());){var H=p.callback;if(typeof H=="function"){p.callback=null,v=p.priorityLevel;var te=H(p.expirationTime<=ce);ce=n.unstable_now(),typeof te=="function"?p.callback=te:p===t(c)&&r(c),D(ce)}else r(c);p=t(c)}if(p!==null)var be=!0;else{var Ee=t(d);Ee!==null&&ue(B,Ee.startTime-ce),be=!1}return be}finally{p=null,v=se,b=!1}}var U=!1,M=null,I=-1,N=5,j=-1;function A(){return!(n.unstable_now()-j<N)}function O(){if(M!==null){var ee=n.unstable_now();j=ee;var ce=!0;try{ce=M(!0,ee)}finally{ce?R():(U=!1,M=null)}}else U=!1}var R;if(typeof C=="function")R=function(){C(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=O,R=function(){J.postMessage(null)}}else R=function(){T(O,0)};function ie(ee){M=ee,U||(U=!0,R())}function ue(ee,ce){I=T(function(){ee(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,ie(L))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var se=v;v=ce;try{return ee()}finally{v=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var se=v;v=ee;try{return ce()}finally{v=se}},n.unstable_scheduleCallback=function(ee,ce,se){var H=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?H+se:H):se=H,ee){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=se+te,ee={id:f++,callback:ce,priorityLevel:ee,startTime:se,expirationTime:te,sortIndex:-1},se>H?(ee.sortIndex=se,e(d,ee),t(c)===null&&ee===t(d)&&(w?(P(I),I=-1):w=!0,ue(B,se-H))):(ee.sortIndex=te,e(c,ee),x||b||(x=!0,ie(L))),ee},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(ee){var ce=v;return function(){var se=v;v=ce;try{return ee.apply(this,arguments)}finally{v=se}}}}(y0)),y0}var PE;function hL(){return PE||(PE=1,g0.exports=dL()),g0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function fL(){if(CE)return pr;CE=1;var n=Qw(),e=hL();function t(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,u){a(o,u),a(o+"Capture",u)}function a(o,u){for(s[o]=u,o=0;o<u.length;o++)r.add(u[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(o){return c.call(p,o)?!0:c.call(f,o)?!1:d.test(o)?p[o]=!0:(f[o]=!0,!1)}function b(o,u,m,y){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,u,m,y){if(u===null||typeof u>"u"||b(o,u,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(o,u,m,y,_,S,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=o,this.type=u,this.sanitizeURL=S,this.removeEmptyString=V}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];T[u]=new w(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(P,C);T[u]=new w(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(P,C);T[u]=new w(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(P,C);T[u]=new w(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function D(o,u,m,y){var _=T.hasOwnProperty(u)?T[u]:null;(_!==null?_.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,m,_,y)&&(m=null),y||_===null?v(u)&&(m===null?o.removeAttribute(u):o.setAttribute(u,""+m)):_.mustUseProperty?o[_.propertyName]=m===null?_.type===3?!1:"":m:(u=_.attributeName,y=_.attributeNamespace,m===null?o.removeAttribute(u):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,y?o.setAttributeNS(y,u,m):o.setAttribute(u,m))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(o){return o===null||typeof o!="object"?null:(o=ee&&o[ee]||o["@@iterator"],typeof o=="function"?o:null)}var se=Object.assign,H;function te(o){if(H===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);H=u&&u[1]||""}return`
`+H+o}var be=!1;function Ee(o,u){if(!o||be)return"";be=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Z){var y=Z}Reflect.construct(o,[],u)}else{try{u.call()}catch(Z){y=Z}o.call(u.prototype)}else{try{throw Error()}catch(Z){y=Z}o()}}catch(Z){if(Z&&y&&typeof Z.stack=="string"){for(var _=Z.stack.split(`
`),S=y.stack.split(`
`),V=_.length-1,$=S.length-1;1<=V&&0<=$&&_[V]!==S[$];)$--;for(;1<=V&&0<=$;V--,$--)if(_[V]!==S[$]){if(V!==1||$!==1)do if(V--,$--,0>$||_[V]!==S[$]){var W=`
`+_[V].replace(" at new "," at ");return o.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",o.displayName)),W}while(1<=V&&0<=$);break}}}finally{be=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?te(o):""}function re(o){switch(o.tag){case 5:return te(o.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return o=Ee(o.type,!1),o;case 11:return o=Ee(o.type.render,!1),o;case 1:return o=Ee(o.type,!0),o;default:return""}}function le(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case M:return"Fragment";case U:return"Portal";case N:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case G:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case A:return(o.displayName||"Context")+".Consumer";case j:return(o._context.displayName||"Context")+".Provider";case O:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case J:return u=o.displayName||null,u!==null?u:le(o.type)||"Memo";case ie:u=o._payload,o=o._init;try{return le(o(u))}catch{}}return null}function he(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function De(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function tt(o){var u=De(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),y=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,S=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return _.call(this)},set:function(V){y=""+V,S.call(this,V)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(V){y=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Vt(o){o._valueTracker||(o._valueTracker=tt(o))}function Ut(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return o&&(y=De(o)?o.checked?"true":"false":o.value),o=y,o!==m?(u.setValue(o),!0):!1}function $t(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Be(o,u){var m=u.checked;return se({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??o._wrapperState.initialChecked})}function St(o,u){var m=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;m=Se(u.value!=null?u.value:m),o._wrapperState={initialChecked:y,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function It(o,u){u=u.checked,u!=null&&D(o,"checked",u,!1)}function qn(o,u){It(o,u);var m=Se(u.value),y=u.type;if(m!=null)y==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?An(o,u.type,m):u.hasOwnProperty("defaultValue")&&An(o,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function ir(o,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,m||u===o.value||(o.value=u),o.defaultValue=u}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function An(o,u,m){(u!=="number"||$t(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var Dn=Array.isArray;function Rn(o,u,m,y){if(o=o.options,u){u={};for(var _=0;_<m.length;_++)u["$"+m[_]]=!0;for(m=0;m<o.length;m++)_=u.hasOwnProperty("$"+o[m].value),o[m].selected!==_&&(o[m].selected=_),_&&y&&(o[m].defaultSelected=!0)}else{for(m=""+Se(m),u=null,_=0;_<o.length;_++){if(o[_].value===m){o[_].selected=!0,y&&(o[_].defaultSelected=!0);return}u!==null||o[_].disabled||(u=o[_])}u!==null&&(u.selected=!0)}}function ps(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Er(o,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(t(92));if(Dn(m)){if(1<m.length)throw Error(t(93));m=m[0]}u=m}u==null&&(u=""),m=u}o._wrapperState={initialValue:Se(m)}}function qr(o,u){var m=Se(u.value),y=Se(u.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),u.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),y!=null&&(o.defaultValue=""+y)}function gs(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function yt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?yt(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ar,Gn=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,y,_){MSApp.execUnsafeLocalFunction(function(){return o(u,m,y,_)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ar.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function ys(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(o){yi.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),Os[u]=Os[o]})});function Ls(o,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||Os.hasOwnProperty(o)&&Os[o]?(""+u).trim():u+"px"}function ra(o,u){o=o.style;for(var m in u)if(u.hasOwnProperty(m)){var y=m.indexOf("--")===0,_=Ls(m,u[m],y);m==="float"&&(m="cssFloat"),y?o.setProperty(m,_):o[m]=_}}var _o=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(o,u){if(u){if(_o[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function ia(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=null;function aa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var vi=null,or=null,Sr=null;function Wt(o){if(o=td(o)){if(typeof vi!="function")throw Error(t(280));var u=o.stateNode;u&&(u=Jf(u),vi(o.stateNode,o.type,u))}}function vt(o){or?Sr?Sr.push(o):Sr=[o]:or=o}function Vs(){if(or){var o=or,u=Sr;if(Sr=or=null,Wt(o),u)for(o=0;o<u.length;o++)Wt(u[o])}}function nt(o,u){return o(u)}function jn(){}var xs=!1;function xi(o,u,m){if(xs)return o(u,m);xs=!0;try{return nt(o,u,m)}finally{xs=!1,(or!==null||Sr!==null)&&(jn(),Vs())}}function Pt(o,u){var m=o.stateNode;if(m===null)return null;var y=Jf(m);if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(t(231,u,typeof m));return m}var wi=!1;if(l)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{wi=!1}function Gr(o,u,m,y,_,S,V,$,W){var Z=Array.prototype.slice.call(arguments,3);try{u.apply(m,Z)}catch(fe){this.onError(fe)}}var ws=!1,Fs=null,Kn=!1,To=null,Eo={onError:function(o){ws=!0,Fs=o}};function bi(o,u,m,y,_,S,V,$,W){ws=!1,Fs=null,Gr.apply(Eo,arguments)}function ql(o,u,m,y,_,S,V,$,W){if(bi.apply(this,arguments),ws){if(ws){var Z=Fs;ws=!1,Fs=null}else throw Error(t(198));Kn||(Kn=!0,To=Z)}}function Ir(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function ze(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Ke(o){if(Ir(o)!==o)throw Error(t(188))}function xt(o){var u=o.alternate;if(!u){if(u=Ir(o),u===null)throw Error(t(188));return u!==o?null:o}for(var m=o,y=u;;){var _=m.return;if(_===null)break;var S=_.alternate;if(S===null){if(y=_.return,y!==null){m=y;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===m)return Ke(_),o;if(S===y)return Ke(_),u;S=S.sibling}throw Error(t(188))}if(m.return!==y.return)m=_,y=S;else{for(var V=!1,$=_.child;$;){if($===m){V=!0,m=_,y=S;break}if($===y){V=!0,y=_,m=S;break}$=$.sibling}if(!V){for($=S.child;$;){if($===m){V=!0,m=S,y=_;break}if($===y){V=!0,y=S,m=_;break}$=$.sibling}if(!V)throw Error(t(189))}}if(m.alternate!==y)throw Error(t(190))}if(m.tag!==3)throw Error(t(188));return m.stateNode.current===m?o:u}function wn(o){return o=xt(o),o!==null?on(o):null}function on(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=on(o);if(u!==null)return u;o=o.sibling}return null}var Bs=e.unstable_scheduleCallback,So=e.unstable_cancelCallback,Gl=e.unstable_shouldYield,Uy=e.unstable_requestPaint,mt=e.unstable_now,If=e.unstable_getCurrentPriorityLevel,Io=e.unstable_ImmediatePriority,oa=e.unstable_UserBlockingPriority,Yr=e.unstable_NormalPriority,Vu=e.unstable_LowPriority,Pf=e.unstable_IdlePriority,Po=null,Pr=null;function Cf(o){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Po,o,void 0,(o.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:kf,Fu=Math.log,Nf=Math.LN2;function kf(o){return o>>>=0,o===0?32:31-(Fu(o)/Nf|0)|0}var Yl=64,Kl=4194304;function la(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Co(o,u){var m=o.pendingLanes;if(m===0)return 0;var y=0,_=o.suspendedLanes,S=o.pingedLanes,V=m&268435455;if(V!==0){var $=V&~_;$!==0?y=la($):(S&=V,S!==0&&(y=la(S)))}else V=m&~_,V!==0?y=la(V):S!==0&&(y=la(S));if(y===0)return 0;if(u!==0&&u!==y&&(u&_)===0&&(_=y&-y,S=u&-u,_>=S||_===16&&(S&4194240)!==0))return u;if((y&4)!==0&&(y|=m&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=y;0<u;)m=31-Xn(u),_=1<<m,y|=o[m],u&=~_;return y}function $y(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(o,u){for(var m=o.suspendedLanes,y=o.pingedLanes,_=o.expirationTimes,S=o.pendingLanes;0<S;){var V=31-Xn(S),$=1<<V,W=_[V];W===-1?(($&m)===0||($&y)!==0)&&(_[V]=$y($,u)):W<=u&&(o.expiredLanes|=$),S&=~$}}function Cr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function No(){var o=Yl;return Yl<<=1,(Yl&4194240)===0&&(Yl=64),o}function ca(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function ua(o,u,m){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-Xn(u),o[u]=m}function ft(o,u){var m=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<m;){var _=31-Xn(m),S=1<<_;u[_]=0,y[_]=-1,o[_]=-1,m&=~S}}function da(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var y=31-Xn(m),_=1<<y;_&u|o[y]&u&&(o[y]|=u),m&=~_}}var Ye=0;function ha(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Af,Xl,Df,Rf,jf,Bu=!1,zs=[],bn=null,bs=null,_s=null,fa=new Map,Kr=new Map,Us=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mf(o,u){switch(o){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":fa.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(u.pointerId)}}function lr(o,u,m,y,_,S){return o===null||o.nativeEvent!==S?(o={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:S,targetContainers:[_]},u!==null&&(u=td(u),u!==null&&Xl(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),o)}function Hy(o,u,m,y,_){switch(u){case"focusin":return bn=lr(bn,o,u,m,y,_),!0;case"dragenter":return bs=lr(bs,o,u,m,y,_),!0;case"mouseover":return _s=lr(_s,o,u,m,y,_),!0;case"pointerover":var S=_.pointerId;return fa.set(S,lr(fa.get(S)||null,o,u,m,y,_)),!0;case"gotpointercapture":return S=_.pointerId,Kr.set(S,lr(Kr.get(S)||null,o,u,m,y,_)),!0}return!1}function Of(o){var u=jo(o.target);if(u!==null){var m=Ir(u);if(m!==null){if(u=m.tag,u===13){if(u=ze(m),u!==null){o.blockedOn=u,jf(o.priority,function(){Df(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ti(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=Ql(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var y=new m.constructor(m.type,m);vs=y,m.target.dispatchEvent(y),vs=null}else return u=td(m),u!==null&&Xl(u),o.blockedOn=m,!1;u.shift()}return!0}function ko(o,u,m){Ti(o)&&m.delete(u)}function Lf(){Bu=!1,bn!==null&&Ti(bn)&&(bn=null),bs!==null&&Ti(bs)&&(bs=null),_s!==null&&Ti(_s)&&(_s=null),fa.forEach(ko),Kr.forEach(ko)}function Ts(o,u){o.blockedOn===u&&(o.blockedOn=null,Bu||(Bu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lf)))}function Es(o){function u(_){return Ts(_,o)}if(0<zs.length){Ts(zs[0],o);for(var m=1;m<zs.length;m++){var y=zs[m];y.blockedOn===o&&(y.blockedOn=null)}}for(bn!==null&&Ts(bn,o),bs!==null&&Ts(bs,o),_s!==null&&Ts(_s,o),fa.forEach(u),Kr.forEach(u),m=0;m<Us.length;m++)y=Us[m],y.blockedOn===o&&(y.blockedOn=null);for(;0<Us.length&&(m=Us[0],m.blockedOn===null);)Of(m),m.blockedOn===null&&Us.shift()}var Ei=B.ReactCurrentBatchConfig,ma=!0;function Ct(o,u,m,y){var _=Ye,S=Ei.transition;Ei.transition=null;try{Ye=1,zu(o,u,m,y)}finally{Ye=_,Ei.transition=S}}function qy(o,u,m,y){var _=Ye,S=Ei.transition;Ei.transition=null;try{Ye=4,zu(o,u,m,y)}finally{Ye=_,Ei.transition=S}}function zu(o,u,m,y){if(ma){var _=Ql(o,u,m,y);if(_===null)rv(o,u,y,Ao,m),Mf(o,y);else if(Hy(_,o,u,m,y))y.stopPropagation();else if(Mf(o,y),u&4&&-1<Wy.indexOf(o)){for(;_!==null;){var S=td(_);if(S!==null&&Af(S),S=Ql(o,u,m,y),S===null&&rv(o,u,y,Ao,m),S===_)break;_=S}_!==null&&y.stopPropagation()}else rv(o,u,y,null,m)}}var Ao=null;function Ql(o,u,m,y){if(Ao=null,o=aa(y),o=jo(o),o!==null)if(u=Ir(o),u===null)o=null;else if(m=u.tag,m===13){if(o=ze(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return Ao=o,null}function Uu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(If()){case Io:return 1;case oa:return 4;case Yr:case Vu:return 16;case Pf:return 536870912;default:return 16}default:return 16}}var Nr=null,Jl=null,cr=null;function $u(){if(cr)return cr;var o,u=Jl,m=u.length,y,_="value"in Nr?Nr.value:Nr.textContent,S=_.length;for(o=0;o<m&&u[o]===_[o];o++);var V=m-o;for(y=1;y<=V&&u[m-y]===_[S-y];y++);return cr=_.slice(o,1<y?1-y:void 0)}function Zl(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function $s(){return!0}function Wu(){return!1}function _n(o){function u(m,y,_,S,V){this._reactName=m,this._targetInst=_,this.type=y,this.nativeEvent=S,this.target=V,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(m=o[$],this[$]=m?m(S):S[$]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?$s:Wu,this.isPropagationStopped=Wu,this}return se(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),u}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=_n(Ss),Ws=se({},Ss,{view:0,detail:0}),Gy=_n(Ws),tc,Si,pa,Do=se({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pa&&(pa&&o.type==="mousemove"?(tc=o.screenX-pa.screenX,Si=o.screenY-pa.screenY):Si=tc=0,pa=o),tc)},movementY:function(o){return"movementY"in o?o.movementY:Si}}),nc=_n(Do),Hu=se({},Do,{dataTransfer:0}),Vf=_n(Hu),rc=se({},Ws,{relatedTarget:0}),sc=_n(rc),Ff=se({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Ii=_n(Ff),Bf=se({},Ss,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),zf=_n(Bf),Uf=se({},Ss,{data:0}),qu=_n(Uf),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wf(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=$f[o])?!!u[o]:!1}function Hs(){return Wf}var g=se({},Ws,{key:function(o){if(o.key){var u=ic[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Zl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Qn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(o){return o.type==="keypress"?Zl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Zl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),E=_n(g),k=se({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=_n(k),Y=se({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),ne=_n(Y),ve=se({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),ot=_n(ve),en=se({},Do,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=_n(en),ln=[9,13,27,32],Xt=l&&"CompositionEvent"in window,Xr=null;l&&"documentMode"in document&&(Xr=document.documentMode);var kr=l&&"TextEvent"in window&&!Xr,Ro=l&&(!Xt||Xr&&8<Xr&&11>=Xr),ac=" ",gT=!1;function yT(o,u){switch(o){case"keyup":return ln.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var oc=!1;function nO(o,u){switch(o){case"compositionend":return vT(u);case"keypress":return u.which!==32?null:(gT=!0,ac);case"textInput":return o=u.data,o===ac&&gT?null:o;default:return null}}function rO(o,u){if(oc)return o==="compositionend"||!Xt&&yT(o,u)?(o=$u(),cr=Jl=Nr=null,oc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ro&&u.locale!=="ko"?null:u.data;default:return null}}var sO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xT(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!sO[o.type]:u==="textarea"}function wT(o,u,m,y){vt(y),u=Kf(u,"onChange"),0<u.length&&(m=new ec("onChange","change",null,m,y),o.push({event:m,listeners:u}))}var Gu=null,Yu=null;function iO(o){VT(o,0)}function Hf(o){var u=hc(o);if(Ut(u))return o}function aO(o,u){if(o==="change")return u}var bT=!1;if(l){var Yy;if(l){var Ky="oninput"in document;if(!Ky){var _T=document.createElement("div");_T.setAttribute("oninput","return;"),Ky=typeof _T.oninput=="function"}Yy=Ky}else Yy=!1;bT=Yy&&(!document.documentMode||9<document.documentMode)}function TT(){Gu&&(Gu.detachEvent("onpropertychange",ET),Yu=Gu=null)}function ET(o){if(o.propertyName==="value"&&Hf(Yu)){var u=[];wT(u,Yu,o,aa(o)),xi(iO,u)}}function oO(o,u,m){o==="focusin"?(TT(),Gu=u,Yu=m,Gu.attachEvent("onpropertychange",ET)):o==="focusout"&&TT()}function lO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hf(Yu)}function cO(o,u){if(o==="click")return Hf(u)}function uO(o,u){if(o==="input"||o==="change")return Hf(u)}function dO(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Is=typeof Object.is=="function"?Object.is:dO;function Ku(o,u){if(Is(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var _=m[y];if(!c.call(u,_)||!Is(o[_],u[_]))return!1}return!0}function ST(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function IT(o,u){var m=ST(o);o=0;for(var y;m;){if(m.nodeType===3){if(y=o+m.textContent.length,o<=u&&y>=u)return{node:m,offset:u-o};o=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ST(m)}}function PT(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?PT(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function CT(){for(var o=window,u=$t();u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=$t(o.document)}return u}function Xy(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function hO(o){var u=CT(),m=o.focusedElem,y=o.selectionRange;if(u!==m&&m&&m.ownerDocument&&PT(m.ownerDocument.documentElement,m)){if(y!==null&&Xy(m)){if(u=y.start,o=y.end,o===void 0&&(o=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(o,m.value.length);else if(o=(u=m.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var _=m.textContent.length,S=Math.min(y.start,_);y=y.end===void 0?S:Math.min(y.end,_),!o.extend&&S>y&&(_=y,y=S,S=_),_=IT(m,S);var V=IT(m,y);_&&V&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),o.removeAllRanges(),S>y?(o.addRange(u),o.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),o.addRange(u)))}}for(u=[],o=m;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)o=u[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var fO=l&&"documentMode"in document&&11>=document.documentMode,lc=null,Qy=null,Xu=null,Jy=!1;function NT(o,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Jy||lc==null||lc!==$t(y)||(y=lc,"selectionStart"in y&&Xy(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Xu&&Ku(Xu,y)||(Xu=y,y=Kf(Qy,"onSelect"),0<y.length&&(u=new ec("onSelect","select",null,u,m),o.push({event:u,listeners:y}),u.target=lc)))}function qf(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var cc={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},Zy={},kT={};l&&(kT=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function Gf(o){if(Zy[o])return Zy[o];if(!cc[o])return o;var u=cc[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in kT)return Zy[o]=u[m];return o}var AT=Gf("animationend"),DT=Gf("animationiteration"),RT=Gf("animationstart"),jT=Gf("transitionend"),MT=new Map,OT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(o,u){MT.set(o,u),i(u,[o])}for(var ev=0;ev<OT.length;ev++){var tv=OT[ev],mO=tv.toLowerCase(),pO=tv[0].toUpperCase()+tv.slice(1);ga(mO,"on"+pO)}ga(AT,"onAnimationEnd"),ga(DT,"onAnimationIteration"),ga(RT,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(jT,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function LT(o,u,m){var y=o.type||"unknown-event";o.currentTarget=m,ql(y,u,void 0,o),o.currentTarget=null}function VT(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var y=o[m],_=y.event;y=y.listeners;e:{var S=void 0;if(u)for(var V=y.length-1;0<=V;V--){var $=y[V],W=$.instance,Z=$.currentTarget;if($=$.listener,W!==S&&_.isPropagationStopped())break e;LT(_,$,Z),S=W}else for(V=0;V<y.length;V++){if($=y[V],W=$.instance,Z=$.currentTarget,$=$.listener,W!==S&&_.isPropagationStopped())break e;LT(_,$,Z),S=W}}}if(Kn)throw o=To,Kn=!1,To=null,o}function wt(o,u){var m=u[cv];m===void 0&&(m=u[cv]=new Set);var y=o+"__bubble";m.has(y)||(FT(u,o,2,!1),m.add(y))}function nv(o,u,m){var y=0;u&&(y|=4),FT(m,o,y,u)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function Ju(o){if(!o[Yf]){o[Yf]=!0,r.forEach(function(m){m!=="selectionchange"&&(gO.has(m)||nv(m,!1,o),nv(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Yf]||(u[Yf]=!0,nv("selectionchange",!1,u))}}function FT(o,u,m,y){switch(Uu(u)){case 1:var _=Ct;break;case 4:_=qy;break;default:_=zu}m=_.bind(null,u,m,o),_=void 0,!wi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),y?_!==void 0?o.addEventListener(u,m,{capture:!0,passive:_}):o.addEventListener(u,m,!0):_!==void 0?o.addEventListener(u,m,{passive:_}):o.addEventListener(u,m,!1)}function rv(o,u,m,y,_){var S=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var V=y.tag;if(V===3||V===4){var $=y.stateNode.containerInfo;if($===_||$.nodeType===8&&$.parentNode===_)break;if(V===4)for(V=y.return;V!==null;){var W=V.tag;if((W===3||W===4)&&(W=V.stateNode.containerInfo,W===_||W.nodeType===8&&W.parentNode===_))return;V=V.return}for(;$!==null;){if(V=jo($),V===null)return;if(W=V.tag,W===5||W===6){y=S=V;continue e}$=$.parentNode}}y=y.return}xi(function(){var Z=S,fe=aa(m),me=[];e:{var de=MT.get(o);if(de!==void 0){var _e=ec,Ie=o;switch(o){case"keypress":if(Zl(m)===0)break e;case"keydown":case"keyup":_e=E;break;case"focusin":Ie="focus",_e=sc;break;case"focusout":Ie="blur",_e=sc;break;case"beforeblur":case"afterblur":_e=sc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=ne;break;case AT:case DT:case RT:_e=Ii;break;case jT:_e=ot;break;case"scroll":_e=Gy;break;case"wheel":_e=Xe;break;case"copy":case"cut":case"paste":_e=zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=z}var Pe=(u&4)!==0,Ht=!Pe&&o==="scroll",K=Pe?de!==null?de+"Capture":null:de;Pe=[];for(var q=Z,Q;q!==null;){Q=q;var ye=Q.stateNode;if(Q.tag===5&&ye!==null&&(Q=ye,K!==null&&(ye=Pt(q,K),ye!=null&&Pe.push(Zu(q,ye,Q)))),Ht)break;q=q.return}0<Pe.length&&(de=new _e(de,Ie,null,m,fe),me.push({event:de,listeners:Pe}))}}if((u&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",_e=o==="mouseout"||o==="pointerout",de&&m!==vs&&(Ie=m.relatedTarget||m.fromElement)&&(jo(Ie)||Ie[Pi]))break e;if((_e||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,_e?(Ie=m.relatedTarget||m.toElement,_e=Z,Ie=Ie?jo(Ie):null,Ie!==null&&(Ht=Ir(Ie),Ie!==Ht||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(_e=null,Ie=Z),_e!==Ie)){if(Pe=nc,ye="onMouseLeave",K="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=z,ye="onPointerLeave",K="onPointerEnter",q="pointer"),Ht=_e==null?de:hc(_e),Q=Ie==null?de:hc(Ie),de=new Pe(ye,q+"leave",_e,m,fe),de.target=Ht,de.relatedTarget=Q,ye=null,jo(fe)===Z&&(Pe=new Pe(K,q+"enter",Ie,m,fe),Pe.target=Q,Pe.relatedTarget=Ht,ye=Pe),Ht=ye,_e&&Ie)t:{for(Pe=_e,K=Ie,q=0,Q=Pe;Q;Q=uc(Q))q++;for(Q=0,ye=K;ye;ye=uc(ye))Q++;for(;0<q-Q;)Pe=uc(Pe),q--;for(;0<Q-q;)K=uc(K),Q--;for(;q--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=uc(Pe),K=uc(K)}Pe=null}else Pe=null;_e!==null&&BT(me,de,_e,Pe,!1),Ie!==null&&Ht!==null&&BT(me,Ht,Ie,Pe,!0)}}e:{if(de=Z?hc(Z):window,_e=de.nodeName&&de.nodeName.toLowerCase(),_e==="select"||_e==="input"&&de.type==="file")var Ne=aO;else if(xT(de))if(bT)Ne=uO;else{Ne=lO;var Re=oO}else(_e=de.nodeName)&&_e.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ne=cO);if(Ne&&(Ne=Ne(o,Z))){wT(me,Ne,m,fe);break e}Re&&Re(o,de,Z),o==="focusout"&&(Re=de._wrapperState)&&Re.controlled&&de.type==="number"&&An(de,"number",de.value)}switch(Re=Z?hc(Z):window,o){case"focusin":(xT(Re)||Re.contentEditable==="true")&&(lc=Re,Qy=Z,Xu=null);break;case"focusout":Xu=Qy=lc=null;break;case"mousedown":Jy=!0;break;case"contextmenu":case"mouseup":case"dragend":Jy=!1,NT(me,m,fe);break;case"selectionchange":if(fO)break;case"keydown":case"keyup":NT(me,m,fe)}var je;if(Xt)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else oc?yT(o,m)&&(Le="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Le="onCompositionStart");Le&&(Ro&&m.locale!=="ko"&&(oc||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&oc&&(je=$u()):(Nr=fe,Jl="value"in Nr?Nr.value:Nr.textContent,oc=!0)),Re=Kf(Z,Le),0<Re.length&&(Le=new qu(Le,o,null,m,fe),me.push({event:Le,listeners:Re}),je?Le.data=je:(je=vT(m),je!==null&&(Le.data=je)))),(je=kr?nO(o,m):rO(o,m))&&(Z=Kf(Z,"onBeforeInput"),0<Z.length&&(fe=new qu("onBeforeInput","beforeinput",null,m,fe),me.push({event:fe,listeners:Z}),fe.data=je))}VT(me,u)})}function Zu(o,u,m){return{instance:o,listener:u,currentTarget:m}}function Kf(o,u){for(var m=u+"Capture",y=[];o!==null;){var _=o,S=_.stateNode;_.tag===5&&S!==null&&(_=S,S=Pt(o,m),S!=null&&y.unshift(Zu(o,S,_)),S=Pt(o,u),S!=null&&y.push(Zu(o,S,_))),o=o.return}return y}function uc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function BT(o,u,m,y,_){for(var S=u._reactName,V=[];m!==null&&m!==y;){var $=m,W=$.alternate,Z=$.stateNode;if(W!==null&&W===y)break;$.tag===5&&Z!==null&&($=Z,_?(W=Pt(m,S),W!=null&&V.unshift(Zu(m,W,$))):_||(W=Pt(m,S),W!=null&&V.push(Zu(m,W,$)))),m=m.return}V.length!==0&&o.push({event:u,listeners:V})}var yO=/\r\n?/g,vO=/\u0000|\uFFFD/g;function zT(o){return(typeof o=="string"?o:""+o).replace(yO,`
`).replace(vO,"")}function Xf(o,u,m){if(u=zT(u),zT(o)!==u&&m)throw Error(t(425))}function Qf(){}var sv=null,iv=null;function av(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ov=typeof setTimeout=="function"?setTimeout:void 0,xO=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,wO=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(o){return UT.resolve(null).then(o).catch(bO)}:ov;function bO(o){setTimeout(function(){throw o})}function lv(o,u){var m=u,y=0;do{var _=m.nextSibling;if(o.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(y===0){o.removeChild(_),Es(u);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=_}while(m);Es(u)}function ya(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function $T(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}var dc=Math.random().toString(36).slice(2),qs="__reactFiber$"+dc,ed="__reactProps$"+dc,Pi="__reactContainer$"+dc,cv="__reactEvents$"+dc,_O="__reactListeners$"+dc,TO="__reactHandles$"+dc;function jo(o){var u=o[qs];if(u)return u;for(var m=o.parentNode;m;){if(u=m[Pi]||m[qs]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=$T(o);o!==null;){if(m=o[qs])return m;o=$T(o)}return u}o=m,m=o.parentNode}return null}function td(o){return o=o[qs]||o[Pi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function hc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Jf(o){return o[ed]||null}var uv=[],fc=-1;function va(o){return{current:o}}function bt(o){0>fc||(o.current=uv[fc],uv[fc]=null,fc--)}function pt(o,u){fc++,uv[fc]=o.current,o.current=u}var xa={},Mn=va(xa),ur=va(!1),Mo=xa;function mc(o,u){var m=o.type.contextTypes;if(!m)return xa;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var _={},S;for(S in m)_[S]=u[S];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=_),_}function dr(o){return o=o.childContextTypes,o!=null}function Zf(){bt(ur),bt(Mn)}function WT(o,u,m){if(Mn.current!==xa)throw Error(t(168));pt(Mn,u),pt(ur,m)}function HT(o,u,m){var y=o.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var _ in y)if(!(_ in u))throw Error(t(108,he(o)||"Unknown",_));return se({},m,y)}function em(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||xa,Mo=Mn.current,pt(Mn,o),pt(ur,ur.current),!0}function qT(o,u,m){var y=o.stateNode;if(!y)throw Error(t(169));m?(o=HT(o,u,Mo),y.__reactInternalMemoizedMergedChildContext=o,bt(ur),bt(Mn),pt(Mn,o)):bt(ur),pt(ur,m)}var Ci=null,tm=!1,dv=!1;function GT(o){Ci===null?Ci=[o]:Ci.push(o)}function EO(o){tm=!0,GT(o)}function wa(){if(!dv&&Ci!==null){dv=!0;var o=0,u=Ye;try{var m=Ci;for(Ye=1;o<m.length;o++){var y=m[o];do y=y(!0);while(y!==null)}Ci=null,tm=!1}catch(_){throw Ci!==null&&(Ci=Ci.slice(o+1)),Bs(Io,wa),_}finally{Ye=u,dv=!1}}return null}var pc=[],gc=0,nm=null,rm=0,Qr=[],Jr=0,Oo=null,Ni=1,ki="";function Lo(o,u){pc[gc++]=rm,pc[gc++]=nm,nm=o,rm=u}function YT(o,u,m){Qr[Jr++]=Ni,Qr[Jr++]=ki,Qr[Jr++]=Oo,Oo=o;var y=Ni;o=ki;var _=32-Xn(y)-1;y&=~(1<<_),m+=1;var S=32-Xn(u)+_;if(30<S){var V=_-_%5;S=(y&(1<<V)-1).toString(32),y>>=V,_-=V,Ni=1<<32-Xn(u)+_|m<<_|y,ki=S+o}else Ni=1<<S|m<<_|y,ki=o}function hv(o){o.return!==null&&(Lo(o,1),YT(o,1,0))}function fv(o){for(;o===nm;)nm=pc[--gc],pc[gc]=null,rm=pc[--gc],pc[gc]=null;for(;o===Oo;)Oo=Qr[--Jr],Qr[Jr]=null,ki=Qr[--Jr],Qr[Jr]=null,Ni=Qr[--Jr],Qr[Jr]=null}var Ar=null,Dr=null,Nt=!1,Ps=null;function KT(o,u){var m=ns(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=o,u=o.deletions,u===null?(o.deletions=[m],o.flags|=16):u.push(m)}function XT(o,u){switch(o.tag){case 5:var m=o.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,Ar=o,Dr=ya(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,Ar=o,Dr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Oo!==null?{id:Ni,overflow:ki}:null,o.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=ns(18,null,null,0),m.stateNode=u,m.return=o,o.child=m,Ar=o,Dr=null,!0):!1;default:return!1}}function mv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function pv(o){if(Nt){var u=Dr;if(u){var m=u;if(!XT(o,u)){if(mv(o))throw Error(t(418));u=ya(m.nextSibling);var y=Ar;u&&XT(o,u)?KT(y,m):(o.flags=o.flags&-4097|2,Nt=!1,Ar=o)}}else{if(mv(o))throw Error(t(418));o.flags=o.flags&-4097|2,Nt=!1,Ar=o}}}function QT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ar=o}function sm(o){if(o!==Ar)return!1;if(!Nt)return QT(o),Nt=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!av(o.type,o.memoizedProps)),u&&(u=Dr)){if(mv(o))throw JT(),Error(t(418));for(;u;)KT(o,u),u=ya(u.nextSibling)}if(QT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(u===0){Dr=ya(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}o=o.nextSibling}Dr=null}}else Dr=Ar?ya(o.stateNode.nextSibling):null;return!0}function JT(){for(var o=Dr;o;)o=ya(o.nextSibling)}function yc(){Dr=Ar=null,Nt=!1}function gv(o){Ps===null?Ps=[o]:Ps.push(o)}var SO=B.ReactCurrentBatchConfig;function nd(o,u,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(t(309));var y=m.stateNode}if(!y)throw Error(t(147,o));var _=y,S=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(V){var $=_.refs;V===null?delete $[S]:$[S]=V},u._stringRef=S,u)}if(typeof o!="string")throw Error(t(284));if(!m._owner)throw Error(t(290,o))}return o}function im(o,u){throw o=Object.prototype.toString.call(u),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function ZT(o){var u=o._init;return u(o._payload)}function e1(o){function u(K,q){if(o){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function m(K,q){if(!o)return null;for(;q!==null;)u(K,q),q=q.sibling;return null}function y(K,q){for(K=new Map;q!==null;)q.key!==null?K.set(q.key,q):K.set(q.index,q),q=q.sibling;return K}function _(K,q){return K=Ca(K,q),K.index=0,K.sibling=null,K}function S(K,q,Q){return K.index=Q,o?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=2,q):Q):(K.flags|=2,q)):(K.flags|=1048576,q)}function V(K){return o&&K.alternate===null&&(K.flags|=2),K}function $(K,q,Q,ye){return q===null||q.tag!==6?(q=o0(Q,K.mode,ye),q.return=K,q):(q=_(q,Q),q.return=K,q)}function W(K,q,Q,ye){var Ne=Q.type;return Ne===M?fe(K,q,Q.props.children,ye,Q.key):q!==null&&(q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ie&&ZT(Ne)===q.type)?(ye=_(q,Q.props),ye.ref=nd(K,q,Q),ye.return=K,ye):(ye=Nm(Q.type,Q.key,Q.props,null,K.mode,ye),ye.ref=nd(K,q,Q),ye.return=K,ye)}function Z(K,q,Q,ye){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=l0(Q,K.mode,ye),q.return=K,q):(q=_(q,Q.children||[]),q.return=K,q)}function fe(K,q,Q,ye,Ne){return q===null||q.tag!==7?(q=Ho(Q,K.mode,ye,Ne),q.return=K,q):(q=_(q,Q),q.return=K,q)}function me(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=o0(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return Q=Nm(q.type,q.key,q.props,null,K.mode,Q),Q.ref=nd(K,null,q),Q.return=K,Q;case U:return q=l0(q,K.mode,Q),q.return=K,q;case ie:var ye=q._init;return me(K,ye(q._payload),Q)}if(Dn(q)||ce(q))return q=Ho(q,K.mode,Q,null),q.return=K,q;im(K,q)}return null}function de(K,q,Q,ye){var Ne=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ne!==null?null:$(K,q,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:return Q.key===Ne?W(K,q,Q,ye):null;case U:return Q.key===Ne?Z(K,q,Q,ye):null;case ie:return Ne=Q._init,de(K,q,Ne(Q._payload),ye)}if(Dn(Q)||ce(Q))return Ne!==null?null:fe(K,q,Q,ye,null);im(K,Q)}return null}function _e(K,q,Q,ye,Ne){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return K=K.get(Q)||null,$(q,K,""+ye,Ne);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case L:return K=K.get(ye.key===null?Q:ye.key)||null,W(q,K,ye,Ne);case U:return K=K.get(ye.key===null?Q:ye.key)||null,Z(q,K,ye,Ne);case ie:var Re=ye._init;return _e(K,q,Q,Re(ye._payload),Ne)}if(Dn(ye)||ce(ye))return K=K.get(Q)||null,fe(q,K,ye,Ne,null);im(q,ye)}return null}function Ie(K,q,Q,ye){for(var Ne=null,Re=null,je=q,Le=q=0,dn=null;je!==null&&Le<Q.length;Le++){je.index>Le?(dn=je,je=null):dn=je.sibling;var et=de(K,je,Q[Le],ye);if(et===null){je===null&&(je=dn);break}o&&je&&et.alternate===null&&u(K,je),q=S(et,q,Le),Re===null?Ne=et:Re.sibling=et,Re=et,je=dn}if(Le===Q.length)return m(K,je),Nt&&Lo(K,Le),Ne;if(je===null){for(;Le<Q.length;Le++)je=me(K,Q[Le],ye),je!==null&&(q=S(je,q,Le),Re===null?Ne=je:Re.sibling=je,Re=je);return Nt&&Lo(K,Le),Ne}for(je=y(K,je);Le<Q.length;Le++)dn=_e(je,K,Le,Q[Le],ye),dn!==null&&(o&&dn.alternate!==null&&je.delete(dn.key===null?Le:dn.key),q=S(dn,q,Le),Re===null?Ne=dn:Re.sibling=dn,Re=dn);return o&&je.forEach(function(Na){return u(K,Na)}),Nt&&Lo(K,Le),Ne}function Pe(K,q,Q,ye){var Ne=ce(Q);if(typeof Ne!="function")throw Error(t(150));if(Q=Ne.call(Q),Q==null)throw Error(t(151));for(var Re=Ne=null,je=q,Le=q=0,dn=null,et=Q.next();je!==null&&!et.done;Le++,et=Q.next()){je.index>Le?(dn=je,je=null):dn=je.sibling;var Na=de(K,je,et.value,ye);if(Na===null){je===null&&(je=dn);break}o&&je&&Na.alternate===null&&u(K,je),q=S(Na,q,Le),Re===null?Ne=Na:Re.sibling=Na,Re=Na,je=dn}if(et.done)return m(K,je),Nt&&Lo(K,Le),Ne;if(je===null){for(;!et.done;Le++,et=Q.next())et=me(K,et.value,ye),et!==null&&(q=S(et,q,Le),Re===null?Ne=et:Re.sibling=et,Re=et);return Nt&&Lo(K,Le),Ne}for(je=y(K,je);!et.done;Le++,et=Q.next())et=_e(je,K,Le,et.value,ye),et!==null&&(o&&et.alternate!==null&&je.delete(et.key===null?Le:et.key),q=S(et,q,Le),Re===null?Ne=et:Re.sibling=et,Re=et);return o&&je.forEach(function(sL){return u(K,sL)}),Nt&&Lo(K,Le),Ne}function Ht(K,q,Q,ye){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:e:{for(var Ne=Q.key,Re=q;Re!==null;){if(Re.key===Ne){if(Ne=Q.type,Ne===M){if(Re.tag===7){m(K,Re.sibling),q=_(Re,Q.props.children),q.return=K,K=q;break e}}else if(Re.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ie&&ZT(Ne)===Re.type){m(K,Re.sibling),q=_(Re,Q.props),q.ref=nd(K,Re,Q),q.return=K,K=q;break e}m(K,Re);break}else u(K,Re);Re=Re.sibling}Q.type===M?(q=Ho(Q.props.children,K.mode,ye,Q.key),q.return=K,K=q):(ye=Nm(Q.type,Q.key,Q.props,null,K.mode,ye),ye.ref=nd(K,q,Q),ye.return=K,K=ye)}return V(K);case U:e:{for(Re=Q.key;q!==null;){if(q.key===Re)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){m(K,q.sibling),q=_(q,Q.children||[]),q.return=K,K=q;break e}else{m(K,q);break}else u(K,q);q=q.sibling}q=l0(Q,K.mode,ye),q.return=K,K=q}return V(K);case ie:return Re=Q._init,Ht(K,q,Re(Q._payload),ye)}if(Dn(Q))return Ie(K,q,Q,ye);if(ce(Q))return Pe(K,q,Q,ye);im(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(m(K,q.sibling),q=_(q,Q),q.return=K,K=q):(m(K,q),q=o0(Q,K.mode,ye),q.return=K,K=q),V(K)):m(K,q)}return Ht}var vc=e1(!0),t1=e1(!1),am=va(null),om=null,xc=null,yv=null;function vv(){yv=xc=om=null}function xv(o){var u=am.current;bt(am),o._currentValue=u}function wv(o,u,m){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===m)break;o=o.return}}function wc(o,u){om=o,yv=xc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(hr=!0),o.firstContext=null)}function Zr(o){var u=o._currentValue;if(yv!==o)if(o={context:o,memoizedValue:u,next:null},xc===null){if(om===null)throw Error(t(308));xc=o,om.dependencies={lanes:0,firstContext:o}}else xc=xc.next=o;return u}var Vo=null;function bv(o){Vo===null?Vo=[o]:Vo.push(o)}function n1(o,u,m,y){var _=u.interleaved;return _===null?(m.next=m,bv(u)):(m.next=_.next,_.next=m),u.interleaved=m,Ai(o,y)}function Ai(o,u){o.lanes|=u;var m=o.alternate;for(m!==null&&(m.lanes|=u),m=o,o=o.return;o!==null;)o.childLanes|=u,m=o.alternate,m!==null&&(m.childLanes|=u),m=o,o=o.return;return m.tag===3?m.stateNode:null}var ba=!1;function _v(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r1(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Di(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function _a(o,u,m){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Ze&2)!==0){var _=y.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),y.pending=u,Ai(o,m)}return _=y.interleaved,_===null?(u.next=u,bv(y)):(u.next=_.next,_.next=u),y.interleaved=u,Ai(o,m)}function lm(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var y=u.lanes;y&=o.pendingLanes,m|=y,u.lanes=m,da(o,m)}}function s1(o,u){var m=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var _=null,S=null;if(m=m.firstBaseUpdate,m!==null){do{var V={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};S===null?_=S=V:S=S.next=V,m=m.next}while(m!==null);S===null?_=S=u:S=S.next=u}else _=S=u;m={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:y.shared,effects:y.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}function cm(o,u,m,y){var _=o.updateQueue;ba=!1;var S=_.firstBaseUpdate,V=_.lastBaseUpdate,$=_.shared.pending;if($!==null){_.shared.pending=null;var W=$,Z=W.next;W.next=null,V===null?S=Z:V.next=Z,V=W;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,$=fe.lastBaseUpdate,$!==V&&($===null?fe.firstBaseUpdate=Z:$.next=Z,fe.lastBaseUpdate=W))}if(S!==null){var me=_.baseState;V=0,fe=Z=W=null,$=S;do{var de=$.lane,_e=$.eventTime;if((y&de)===de){fe!==null&&(fe=fe.next={eventTime:_e,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ie=o,Pe=$;switch(de=u,_e=m,Pe.tag){case 1:if(Ie=Pe.payload,typeof Ie=="function"){me=Ie.call(_e,me,de);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Pe.payload,de=typeof Ie=="function"?Ie.call(_e,me,de):Ie,de==null)break e;me=se({},me,de);break e;case 2:ba=!0}}$.callback!==null&&$.lane!==0&&(o.flags|=64,de=_.effects,de===null?_.effects=[$]:de.push($))}else _e={eventTime:_e,lane:de,tag:$.tag,payload:$.payload,callback:$.callback,next:null},fe===null?(Z=fe=_e,W=me):fe=fe.next=_e,V|=de;if($=$.next,$===null){if($=_.shared.pending,$===null)break;de=$,$=de.next,de.next=null,_.lastBaseUpdate=de,_.shared.pending=null}}while(!0);if(fe===null&&(W=me),_.baseState=W,_.firstBaseUpdate=Z,_.lastBaseUpdate=fe,u=_.shared.interleaved,u!==null){_=u;do V|=_.lane,_=_.next;while(_!==u)}else S===null&&(_.shared.lanes=0);zo|=V,o.lanes=V,o.memoizedState=me}}function i1(o,u,m){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var y=o[u],_=y.callback;if(_!==null){if(y.callback=null,y=m,typeof _!="function")throw Error(t(191,_));_.call(y)}}}var rd={},Gs=va(rd),sd=va(rd),id=va(rd);function Fo(o){if(o===rd)throw Error(t(174));return o}function Tv(o,u){switch(pt(id,u),pt(sd,o),pt(Gs,rd),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:dt(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=dt(u,o)}bt(Gs),pt(Gs,u)}function bc(){bt(Gs),bt(sd),bt(id)}function a1(o){Fo(id.current);var u=Fo(Gs.current),m=dt(u,o.type);u!==m&&(pt(sd,o),pt(Gs,m))}function Ev(o){sd.current===o&&(bt(Gs),bt(sd))}var Rt=va(0);function um(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Sv=[];function Iv(){for(var o=0;o<Sv.length;o++)Sv[o]._workInProgressVersionPrimary=null;Sv.length=0}var dm=B.ReactCurrentDispatcher,Pv=B.ReactCurrentBatchConfig,Bo=0,jt=null,tn=null,cn=null,hm=!1,ad=!1,od=0,IO=0;function On(){throw Error(t(321))}function Cv(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!Is(o[m],u[m]))return!1;return!0}function Nv(o,u,m,y,_,S){if(Bo=S,jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,dm.current=o===null||o.memoizedState===null?kO:AO,o=m(y,_),ad){S=0;do{if(ad=!1,od=0,25<=S)throw Error(t(301));S+=1,cn=tn=null,u.updateQueue=null,dm.current=DO,o=m(y,_)}while(ad)}if(dm.current=pm,u=tn!==null&&tn.next!==null,Bo=0,cn=tn=jt=null,hm=!1,u)throw Error(t(300));return o}function kv(){var o=od!==0;return od=0,o}function Ys(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?jt.memoizedState=cn=o:cn=cn.next=o,cn}function es(){if(tn===null){var o=jt.alternate;o=o!==null?o.memoizedState:null}else o=tn.next;var u=cn===null?jt.memoizedState:cn.next;if(u!==null)cn=u,tn=o;else{if(o===null)throw Error(t(310));tn=o,o={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},cn===null?jt.memoizedState=cn=o:cn=cn.next=o}return cn}function ld(o,u){return typeof u=="function"?u(o):u}function Av(o){var u=es(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=o;var y=tn,_=y.baseQueue,S=m.pending;if(S!==null){if(_!==null){var V=_.next;_.next=S.next,S.next=V}y.baseQueue=_=S,m.pending=null}if(_!==null){S=_.next,y=y.baseState;var $=V=null,W=null,Z=S;do{var fe=Z.lane;if((Bo&fe)===fe)W!==null&&(W=W.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),y=Z.hasEagerState?Z.eagerState:o(y,Z.action);else{var me={lane:fe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};W===null?($=W=me,V=y):W=W.next=me,jt.lanes|=fe,zo|=fe}Z=Z.next}while(Z!==null&&Z!==S);W===null?V=y:W.next=$,Is(y,u.memoizedState)||(hr=!0),u.memoizedState=y,u.baseState=V,u.baseQueue=W,m.lastRenderedState=y}if(o=m.interleaved,o!==null){_=o;do S=_.lane,jt.lanes|=S,zo|=S,_=_.next;while(_!==o)}else _===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Dv(o){var u=es(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=o;var y=m.dispatch,_=m.pending,S=u.memoizedState;if(_!==null){m.pending=null;var V=_=_.next;do S=o(S,V.action),V=V.next;while(V!==_);Is(S,u.memoizedState)||(hr=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),m.lastRenderedState=S}return[S,y]}function o1(){}function l1(o,u){var m=jt,y=es(),_=u(),S=!Is(y.memoizedState,_);if(S&&(y.memoizedState=_,hr=!0),y=y.queue,Rv(d1.bind(null,m,y,o),[o]),y.getSnapshot!==u||S||cn!==null&&cn.memoizedState.tag&1){if(m.flags|=2048,cd(9,u1.bind(null,m,y,_,u),void 0,null),un===null)throw Error(t(349));(Bo&30)!==0||c1(m,u,_)}return _}function c1(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=jt.updateQueue,u===null?(u={lastEffect:null,stores:null},jt.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function u1(o,u,m,y){u.value=m,u.getSnapshot=y,h1(u)&&f1(o)}function d1(o,u,m){return m(function(){h1(u)&&f1(o)})}function h1(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!Is(o,m)}catch{return!0}}function f1(o){var u=Ai(o,1);u!==null&&As(u,o,1,-1)}function m1(o){var u=Ys();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:o},u.queue=o,o=o.dispatch=NO.bind(null,jt,o),[u.memoizedState,o]}function cd(o,u,m,y){return o={tag:o,create:u,destroy:m,deps:y,next:null},u=jt.updateQueue,u===null?(u={lastEffect:null,stores:null},jt.updateQueue=u,u.lastEffect=o.next=o):(m=u.lastEffect,m===null?u.lastEffect=o.next=o:(y=m.next,m.next=o,o.next=y,u.lastEffect=o)),o}function p1(){return es().memoizedState}function fm(o,u,m,y){var _=Ys();jt.flags|=o,_.memoizedState=cd(1|u,m,void 0,y===void 0?null:y)}function mm(o,u,m,y){var _=es();y=y===void 0?null:y;var S=void 0;if(tn!==null){var V=tn.memoizedState;if(S=V.destroy,y!==null&&Cv(y,V.deps)){_.memoizedState=cd(u,m,S,y);return}}jt.flags|=o,_.memoizedState=cd(1|u,m,S,y)}function g1(o,u){return fm(8390656,8,o,u)}function Rv(o,u){return mm(2048,8,o,u)}function y1(o,u){return mm(4,2,o,u)}function v1(o,u){return mm(4,4,o,u)}function x1(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function w1(o,u,m){return m=m!=null?m.concat([o]):null,mm(4,4,x1.bind(null,u,o),m)}function jv(){}function b1(o,u){var m=es();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&Cv(u,y[1])?y[0]:(m.memoizedState=[o,u],o)}function _1(o,u){var m=es();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&Cv(u,y[1])?y[0]:(o=o(),m.memoizedState=[o,u],o)}function T1(o,u,m){return(Bo&21)===0?(o.baseState&&(o.baseState=!1,hr=!0),o.memoizedState=m):(Is(m,u)||(m=No(),jt.lanes|=m,zo|=m,o.baseState=!0),u)}function PO(o,u){var m=Ye;Ye=m!==0&&4>m?m:4,o(!0);var y=Pv.transition;Pv.transition={};try{o(!1),u()}finally{Ye=m,Pv.transition=y}}function E1(){return es().memoizedState}function CO(o,u,m){var y=Ia(o);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},S1(o))I1(u,m);else if(m=n1(o,u,m,y),m!==null){var _=Zn();As(m,o,y,_),P1(m,u,y)}}function NO(o,u,m){var y=Ia(o),_={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(S1(o))I1(u,_);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var V=u.lastRenderedState,$=S(V,m);if(_.hasEagerState=!0,_.eagerState=$,Is($,V)){var W=u.interleaved;W===null?(_.next=_,bv(u)):(_.next=W.next,W.next=_),u.interleaved=_;return}}catch{}finally{}m=n1(o,u,_,y),m!==null&&(_=Zn(),As(m,o,y,_),P1(m,u,y))}}function S1(o){var u=o.alternate;return o===jt||u!==null&&u===jt}function I1(o,u){ad=hm=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function P1(o,u,m){if((m&4194240)!==0){var y=u.lanes;y&=o.pendingLanes,m|=y,u.lanes=m,da(o,m)}}var pm={readContext:Zr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},kO={readContext:Zr,useCallback:function(o,u){return Ys().memoizedState=[o,u===void 0?null:u],o},useContext:Zr,useEffect:g1,useImperativeHandle:function(o,u,m){return m=m!=null?m.concat([o]):null,fm(4194308,4,x1.bind(null,u,o),m)},useLayoutEffect:function(o,u){return fm(4194308,4,o,u)},useInsertionEffect:function(o,u){return fm(4,2,o,u)},useMemo:function(o,u){var m=Ys();return u=u===void 0?null:u,o=o(),m.memoizedState=[o,u],o},useReducer:function(o,u,m){var y=Ys();return u=m!==void 0?m(u):u,y.memoizedState=y.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},y.queue=o,o=o.dispatch=CO.bind(null,jt,o),[y.memoizedState,o]},useRef:function(o){var u=Ys();return o={current:o},u.memoizedState=o},useState:m1,useDebugValue:jv,useDeferredValue:function(o){return Ys().memoizedState=o},useTransition:function(){var o=m1(!1),u=o[0];return o=PO.bind(null,o[1]),Ys().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,m){var y=jt,_=Ys();if(Nt){if(m===void 0)throw Error(t(407));m=m()}else{if(m=u(),un===null)throw Error(t(349));(Bo&30)!==0||c1(y,u,m)}_.memoizedState=m;var S={value:m,getSnapshot:u};return _.queue=S,g1(d1.bind(null,y,S,o),[o]),y.flags|=2048,cd(9,u1.bind(null,y,S,m,u),void 0,null),m},useId:function(){var o=Ys(),u=un.identifierPrefix;if(Nt){var m=ki,y=Ni;m=(y&~(1<<32-Xn(y)-1)).toString(32)+m,u=":"+u+"R"+m,m=od++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=IO++,u=":"+u+"r"+m.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},AO={readContext:Zr,useCallback:b1,useContext:Zr,useEffect:Rv,useImperativeHandle:w1,useInsertionEffect:y1,useLayoutEffect:v1,useMemo:_1,useReducer:Av,useRef:p1,useState:function(){return Av(ld)},useDebugValue:jv,useDeferredValue:function(o){var u=es();return T1(u,tn.memoizedState,o)},useTransition:function(){var o=Av(ld)[0],u=es().memoizedState;return[o,u]},useMutableSource:o1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1},DO={readContext:Zr,useCallback:b1,useContext:Zr,useEffect:Rv,useImperativeHandle:w1,useInsertionEffect:y1,useLayoutEffect:v1,useMemo:_1,useReducer:Dv,useRef:p1,useState:function(){return Dv(ld)},useDebugValue:jv,useDeferredValue:function(o){var u=es();return tn===null?u.memoizedState=o:T1(u,tn.memoizedState,o)},useTransition:function(){var o=Dv(ld)[0],u=es().memoizedState;return[o,u]},useMutableSource:o1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1};function Cs(o,u){if(o&&o.defaultProps){u=se({},u),o=o.defaultProps;for(var m in o)u[m]===void 0&&(u[m]=o[m]);return u}return u}function Mv(o,u,m,y){u=o.memoizedState,m=m(y,u),m=m==null?u:se({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var gm={isMounted:function(o){return(o=o._reactInternals)?Ir(o)===o:!1},enqueueSetState:function(o,u,m){o=o._reactInternals;var y=Zn(),_=Ia(o),S=Di(y,_);S.payload=u,m!=null&&(S.callback=m),u=_a(o,S,_),u!==null&&(As(u,o,_,y),lm(u,o,_))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var y=Zn(),_=Ia(o),S=Di(y,_);S.tag=1,S.payload=u,m!=null&&(S.callback=m),u=_a(o,S,_),u!==null&&(As(u,o,_,y),lm(u,o,_))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=Zn(),y=Ia(o),_=Di(m,y);_.tag=2,u!=null&&(_.callback=u),u=_a(o,_,y),u!==null&&(As(u,o,y,m),lm(u,o,y))}};function C1(o,u,m,y,_,S,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,S,V):u.prototype&&u.prototype.isPureReactComponent?!Ku(m,y)||!Ku(_,S):!0}function N1(o,u,m){var y=!1,_=xa,S=u.contextType;return typeof S=="object"&&S!==null?S=Zr(S):(_=dr(u)?Mo:Mn.current,y=u.contextTypes,S=(y=y!=null)?mc(o,_):xa),u=new u(m,S),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=gm,o.stateNode=u,u._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=S),u}function k1(o,u,m,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==o&&gm.enqueueReplaceState(u,u.state,null)}function Ov(o,u,m,y){var _=o.stateNode;_.props=m,_.state=o.memoizedState,_.refs={},_v(o);var S=u.contextType;typeof S=="object"&&S!==null?_.context=Zr(S):(S=dr(u)?Mo:Mn.current,_.context=mc(o,S)),_.state=o.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Mv(o,u,S,m),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&gm.enqueueReplaceState(_,_.state,null),cm(o,m,_,y),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function _c(o,u){try{var m="",y=u;do m+=re(y),y=y.return;while(y);var _=m}catch(S){_=`
Error generating stack: `+S.message+`
`+S.stack}return{value:o,source:u,stack:_,digest:null}}function Lv(o,u,m){return{value:o,source:null,stack:m??null,digest:u??null}}function Vv(o,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var RO=typeof WeakMap=="function"?WeakMap:Map;function A1(o,u,m){m=Di(-1,m),m.tag=3,m.payload={element:null};var y=u.value;return m.callback=function(){Tm||(Tm=!0,Zv=y),Vv(o,u)},m}function D1(o,u,m){m=Di(-1,m),m.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var _=u.value;m.payload=function(){return y(_)},m.callback=function(){Vv(o,u)}}var S=o.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(m.callback=function(){Vv(o,u),typeof y!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),m}function R1(o,u,m){var y=o.pingCache;if(y===null){y=o.pingCache=new RO;var _=new Set;y.set(u,_)}else _=y.get(u),_===void 0&&(_=new Set,y.set(u,_));_.has(m)||(_.add(m),o=GO.bind(null,o,u,m),u.then(o,o))}function j1(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function M1(o,u,m,y,_){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Di(-1,1),u.tag=2,_a(m,u,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var jO=B.ReactCurrentOwner,hr=!1;function Jn(o,u,m,y){u.child=o===null?t1(u,null,m,y):vc(u,o.child,m,y)}function O1(o,u,m,y,_){m=m.render;var S=u.ref;return wc(u,_),y=Nv(o,u,m,y,S,_),m=kv(),o!==null&&!hr?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~_,Ri(o,u,_)):(Nt&&m&&hv(u),u.flags|=1,Jn(o,u,y,_),u.child)}function L1(o,u,m,y,_){if(o===null){var S=m.type;return typeof S=="function"&&!a0(S)&&S.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=S,V1(o,u,S,y,_)):(o=Nm(m.type,null,y,u,u.mode,_),o.ref=u.ref,o.return=u,u.child=o)}if(S=o.child,(o.lanes&_)===0){var V=S.memoizedProps;if(m=m.compare,m=m!==null?m:Ku,m(V,y)&&o.ref===u.ref)return Ri(o,u,_)}return u.flags|=1,o=Ca(S,y),o.ref=u.ref,o.return=u,u.child=o}function V1(o,u,m,y,_){if(o!==null){var S=o.memoizedProps;if(Ku(S,y)&&o.ref===u.ref)if(hr=!1,u.pendingProps=y=S,(o.lanes&_)!==0)(o.flags&131072)!==0&&(hr=!0);else return u.lanes=o.lanes,Ri(o,u,_)}return Fv(o,u,m,y,_)}function F1(o,u,m){var y=u.pendingProps,_=y.children,S=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Ec,Rr),Rr|=m;else{if((m&1073741824)===0)return o=S!==null?S.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,pt(Ec,Rr),Rr|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=S!==null?S.baseLanes:m,pt(Ec,Rr),Rr|=y}else S!==null?(y=S.baseLanes|m,u.memoizedState=null):y=m,pt(Ec,Rr),Rr|=y;return Jn(o,u,_,m),u.child}function B1(o,u){var m=u.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Fv(o,u,m,y,_){var S=dr(m)?Mo:Mn.current;return S=mc(u,S),wc(u,_),m=Nv(o,u,m,y,S,_),y=kv(),o!==null&&!hr?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~_,Ri(o,u,_)):(Nt&&y&&hv(u),u.flags|=1,Jn(o,u,m,_),u.child)}function z1(o,u,m,y,_){if(dr(m)){var S=!0;em(u)}else S=!1;if(wc(u,_),u.stateNode===null)vm(o,u),N1(u,m,y),Ov(u,m,y,_),y=!0;else if(o===null){var V=u.stateNode,$=u.memoizedProps;V.props=$;var W=V.context,Z=m.contextType;typeof Z=="object"&&Z!==null?Z=Zr(Z):(Z=dr(m)?Mo:Mn.current,Z=mc(u,Z));var fe=m.getDerivedStateFromProps,me=typeof fe=="function"||typeof V.getSnapshotBeforeUpdate=="function";me||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||($!==y||W!==Z)&&k1(u,V,y,Z),ba=!1;var de=u.memoizedState;V.state=de,cm(u,y,V,_),W=u.memoizedState,$!==y||de!==W||ur.current||ba?(typeof fe=="function"&&(Mv(u,m,fe,y),W=u.memoizedState),($=ba||C1(u,m,$,y,de,W,Z))?(me||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=W),V.props=y,V.state=W,V.context=Z,y=$):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{V=u.stateNode,r1(o,u),$=u.memoizedProps,Z=u.type===u.elementType?$:Cs(u.type,$),V.props=Z,me=u.pendingProps,de=V.context,W=m.contextType,typeof W=="object"&&W!==null?W=Zr(W):(W=dr(m)?Mo:Mn.current,W=mc(u,W));var _e=m.getDerivedStateFromProps;(fe=typeof _e=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||($!==me||de!==W)&&k1(u,V,y,W),ba=!1,de=u.memoizedState,V.state=de,cm(u,y,V,_);var Ie=u.memoizedState;$!==me||de!==Ie||ur.current||ba?(typeof _e=="function"&&(Mv(u,m,_e,y),Ie=u.memoizedState),(Z=ba||C1(u,m,Z,y,de,Ie,W)||!1)?(fe||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(y,Ie,W),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(y,Ie,W)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||$===o.memoizedProps&&de===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&de===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ie),V.props=y,V.state=Ie,V.context=W,y=Z):(typeof V.componentDidUpdate!="function"||$===o.memoizedProps&&de===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&de===o.memoizedState||(u.flags|=1024),y=!1)}return Bv(o,u,m,y,S,_)}function Bv(o,u,m,y,_,S){B1(o,u);var V=(u.flags&128)!==0;if(!y&&!V)return _&&qT(u,m,!1),Ri(o,u,S);y=u.stateNode,jO.current=u;var $=V&&typeof m.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,o!==null&&V?(u.child=vc(u,o.child,null,S),u.child=vc(u,null,$,S)):Jn(o,u,$,S),u.memoizedState=y.state,_&&qT(u,m,!0),u.child}function U1(o){var u=o.stateNode;u.pendingContext?WT(o,u.pendingContext,u.pendingContext!==u.context):u.context&&WT(o,u.context,!1),Tv(o,u.containerInfo)}function $1(o,u,m,y,_){return yc(),gv(_),u.flags|=256,Jn(o,u,m,y),u.child}var zv={dehydrated:null,treeContext:null,retryLane:0};function Uv(o){return{baseLanes:o,cachePool:null,transitions:null}}function W1(o,u,m){var y=u.pendingProps,_=Rt.current,S=!1,V=(u.flags&128)!==0,$;if(($=V)||($=o!==null&&o.memoizedState===null?!1:(_&2)!==0),$?(S=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),pt(Rt,_&1),o===null)return pv(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=y.children,o=y.fallback,S?(y=u.mode,S=u.child,V={mode:"hidden",children:V},(y&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=V):S=km(V,y,0,null),o=Ho(o,y,m,null),S.return=u,o.return=u,S.sibling=o,u.child=S,u.child.memoizedState=Uv(m),u.memoizedState=zv,o):$v(u,V));if(_=o.memoizedState,_!==null&&($=_.dehydrated,$!==null))return MO(o,u,V,y,$,_,m);if(S){S=y.fallback,V=u.mode,_=o.child,$=_.sibling;var W={mode:"hidden",children:y.children};return(V&1)===0&&u.child!==_?(y=u.child,y.childLanes=0,y.pendingProps=W,u.deletions=null):(y=Ca(_,W),y.subtreeFlags=_.subtreeFlags&14680064),$!==null?S=Ca($,S):(S=Ho(S,V,m,null),S.flags|=2),S.return=u,y.return=u,y.sibling=S,u.child=y,y=S,S=u.child,V=o.child.memoizedState,V=V===null?Uv(m):{baseLanes:V.baseLanes|m,cachePool:null,transitions:V.transitions},S.memoizedState=V,S.childLanes=o.childLanes&~m,u.memoizedState=zv,y}return S=o.child,o=S.sibling,y=Ca(S,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=m),y.return=u,y.sibling=null,o!==null&&(m=u.deletions,m===null?(u.deletions=[o],u.flags|=16):m.push(o)),u.child=y,u.memoizedState=null,y}function $v(o,u){return u=km({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function ym(o,u,m,y){return y!==null&&gv(y),vc(u,o.child,null,m),o=$v(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function MO(o,u,m,y,_,S,V){if(m)return u.flags&256?(u.flags&=-257,y=Lv(Error(t(422))),ym(o,u,V,y)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(S=y.fallback,_=u.mode,y=km({mode:"visible",children:y.children},_,0,null),S=Ho(S,_,V,null),S.flags|=2,y.return=u,S.return=u,y.sibling=S,u.child=y,(u.mode&1)!==0&&vc(u,o.child,null,V),u.child.memoizedState=Uv(V),u.memoizedState=zv,S);if((u.mode&1)===0)return ym(o,u,V,null);if(_.data==="$!"){if(y=_.nextSibling&&_.nextSibling.dataset,y)var $=y.dgst;return y=$,S=Error(t(419)),y=Lv(S,y,void 0),ym(o,u,V,y)}if($=(V&o.childLanes)!==0,hr||$){if(y=un,y!==null){switch(V&-V){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(y.suspendedLanes|V))!==0?0:_,_!==0&&_!==S.retryLane&&(S.retryLane=_,Ai(o,_),As(y,o,_,-1))}return i0(),y=Lv(Error(t(421))),ym(o,u,V,y)}return _.data==="$?"?(u.flags|=128,u.child=o.child,u=YO.bind(null,o),_._reactRetry=u,null):(o=S.treeContext,Dr=ya(_.nextSibling),Ar=u,Nt=!0,Ps=null,o!==null&&(Qr[Jr++]=Ni,Qr[Jr++]=ki,Qr[Jr++]=Oo,Ni=o.id,ki=o.overflow,Oo=u),u=$v(u,y.children),u.flags|=4096,u)}function H1(o,u,m){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),wv(o.return,u,m)}function Wv(o,u,m,y,_){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:_}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=y,S.tail=m,S.tailMode=_)}function q1(o,u,m){var y=u.pendingProps,_=y.revealOrder,S=y.tail;if(Jn(o,u,y.children,m),y=Rt.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&H1(o,m,u);else if(o.tag===19)H1(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(pt(Rt,y),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(m=u.child,_=null;m!==null;)o=m.alternate,o!==null&&um(o)===null&&(_=m),m=m.sibling;m=_,m===null?(_=u.child,u.child=null):(_=m.sibling,m.sibling=null),Wv(u,!1,_,m,S);break;case"backwards":for(m=null,_=u.child,u.child=null;_!==null;){if(o=_.alternate,o!==null&&um(o)===null){u.child=_;break}o=_.sibling,_.sibling=m,m=_,_=o}Wv(u,!0,m,null,S);break;case"together":Wv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function vm(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function Ri(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),zo|=u.lanes,(m&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(t(153));if(u.child!==null){for(o=u.child,m=Ca(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=Ca(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function OO(o,u,m){switch(u.tag){case 3:U1(u),yc();break;case 5:a1(u);break;case 1:dr(u.type)&&em(u);break;case 4:Tv(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,_=u.memoizedProps.value;pt(am,y._currentValue),y._currentValue=_;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(pt(Rt,Rt.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?W1(o,u,m):(pt(Rt,Rt.current&1),o=Ri(o,u,m),o!==null?o.sibling:null);pt(Rt,Rt.current&1);break;case 19:if(y=(m&u.childLanes)!==0,(o.flags&128)!==0){if(y)return q1(o,u,m);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),pt(Rt,Rt.current),y)break;return null;case 22:case 23:return u.lanes=0,F1(o,u,m)}return Ri(o,u,m)}var G1,Hv,Y1,K1;G1=function(o,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Hv=function(){},Y1=function(o,u,m,y){var _=o.memoizedProps;if(_!==y){o=u.stateNode,Fo(Gs.current);var S=null;switch(m){case"input":_=Be(o,_),y=Be(o,y),S=[];break;case"select":_=se({},_,{value:void 0}),y=se({},y,{value:void 0}),S=[];break;case"textarea":_=ps(o,_),y=ps(o,y),S=[];break;default:typeof _.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Qf)}sa(m,y);var V;m=null;for(Z in _)if(!y.hasOwnProperty(Z)&&_.hasOwnProperty(Z)&&_[Z]!=null)if(Z==="style"){var $=_[Z];for(V in $)$.hasOwnProperty(V)&&(m||(m={}),m[V]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?S||(S=[]):(S=S||[]).push(Z,null));for(Z in y){var W=y[Z];if($=_!=null?_[Z]:void 0,y.hasOwnProperty(Z)&&W!==$&&(W!=null||$!=null))if(Z==="style")if($){for(V in $)!$.hasOwnProperty(V)||W&&W.hasOwnProperty(V)||(m||(m={}),m[V]="");for(V in W)W.hasOwnProperty(V)&&$[V]!==W[V]&&(m||(m={}),m[V]=W[V])}else m||(S||(S=[]),S.push(Z,m)),m=W;else Z==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,$=$?$.__html:void 0,W!=null&&$!==W&&(S=S||[]).push(Z,W)):Z==="children"?typeof W!="string"&&typeof W!="number"||(S=S||[]).push(Z,""+W):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(W!=null&&Z==="onScroll"&&wt("scroll",o),S||$===W||(S=[])):(S=S||[]).push(Z,W))}m&&(S=S||[]).push("style",m);var Z=S;(u.updateQueue=Z)&&(u.flags|=4)}},K1=function(o,u,m,y){m!==y&&(u.flags|=4)};function ud(o,u){if(!Nt)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ln(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,y=0;if(u)for(var _=o.child;_!==null;)m|=_.lanes|_.childLanes,y|=_.subtreeFlags&14680064,y|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)m|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=y,o.childLanes=m,u}function LO(o,u,m){var y=u.pendingProps;switch(fv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(u),null;case 1:return dr(u.type)&&Zf(),Ln(u),null;case 3:return y=u.stateNode,bc(),bt(ur),bt(Mn),Iv(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(sm(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ps!==null&&(n0(Ps),Ps=null))),Hv(o,u),Ln(u),null;case 5:Ev(u);var _=Fo(id.current);if(m=u.type,o!==null&&u.stateNode!=null)Y1(o,u,m,y,_),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(t(166));return Ln(u),null}if(o=Fo(Gs.current),sm(u)){y=u.stateNode,m=u.type;var S=u.memoizedProps;switch(y[qs]=u,y[ed]=S,o=(u.mode&1)!==0,m){case"dialog":wt("cancel",y),wt("close",y);break;case"iframe":case"object":case"embed":wt("load",y);break;case"video":case"audio":for(_=0;_<Qu.length;_++)wt(Qu[_],y);break;case"source":wt("error",y);break;case"img":case"image":case"link":wt("error",y),wt("load",y);break;case"details":wt("toggle",y);break;case"input":St(y,S),wt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!S.multiple},wt("invalid",y);break;case"textarea":Er(y,S),wt("invalid",y)}sa(m,S),_=null;for(var V in S)if(S.hasOwnProperty(V)){var $=S[V];V==="children"?typeof $=="string"?y.textContent!==$&&(S.suppressHydrationWarning!==!0&&Xf(y.textContent,$,o),_=["children",$]):typeof $=="number"&&y.textContent!==""+$&&(S.suppressHydrationWarning!==!0&&Xf(y.textContent,$,o),_=["children",""+$]):s.hasOwnProperty(V)&&$!=null&&V==="onScroll"&&wt("scroll",y)}switch(m){case"input":Vt(y),ir(y,S,!0);break;case"textarea":Vt(y),gs(y);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(y.onclick=Qf)}y=_,u.updateQueue=y,y!==null&&(u.flags|=4)}else{V=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=yt(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=V.createElement(m,{is:y.is}):(o=V.createElement(m),m==="select"&&(V=o,y.multiple?V.multiple=!0:y.size&&(V.size=y.size))):o=V.createElementNS(o,m),o[qs]=u,o[ed]=y,G1(o,u,!1,!1),u.stateNode=o;e:{switch(V=ia(m,y),m){case"dialog":wt("cancel",o),wt("close",o),_=y;break;case"iframe":case"object":case"embed":wt("load",o),_=y;break;case"video":case"audio":for(_=0;_<Qu.length;_++)wt(Qu[_],o);_=y;break;case"source":wt("error",o),_=y;break;case"img":case"image":case"link":wt("error",o),wt("load",o),_=y;break;case"details":wt("toggle",o),_=y;break;case"input":St(o,y),_=Be(o,y),wt("invalid",o);break;case"option":_=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},_=se({},y,{value:void 0}),wt("invalid",o);break;case"textarea":Er(o,y),_=ps(o,y),wt("invalid",o);break;default:_=y}sa(m,_),$=_;for(S in $)if($.hasOwnProperty(S)){var W=$[S];S==="style"?ra(o,W):S==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Gn(o,W)):S==="children"?typeof W=="string"?(m!=="textarea"||W!=="")&&ys(o,W):typeof W=="number"&&ys(o,""+W):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?W!=null&&S==="onScroll"&&wt("scroll",o):W!=null&&D(o,S,W,V))}switch(m){case"input":Vt(o),ir(o,y,!1);break;case"textarea":Vt(o),gs(o);break;case"option":y.value!=null&&o.setAttribute("value",""+Se(y.value));break;case"select":o.multiple=!!y.multiple,S=y.value,S!=null?Rn(o,!!y.multiple,S,!1):y.defaultValue!=null&&Rn(o,!!y.multiple,y.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=Qf)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ln(u),null;case 6:if(o&&u.stateNode!=null)K1(o,u,o.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(t(166));if(m=Fo(id.current),Fo(Gs.current),sm(u)){if(y=u.stateNode,m=u.memoizedProps,y[qs]=u,(S=y.nodeValue!==m)&&(o=Ar,o!==null))switch(o.tag){case 3:Xf(y.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Xf(y.nodeValue,m,(o.mode&1)!==0)}S&&(u.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[qs]=u,u.stateNode=y}return Ln(u),null;case 13:if(bt(Rt),y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Nt&&Dr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)JT(),yc(),u.flags|=98560,S=!1;else if(S=sm(u),y!==null&&y.dehydrated!==null){if(o===null){if(!S)throw Error(t(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[qs]=u}else yc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ln(u),S=!1}else Ps!==null&&(n0(Ps),Ps=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Rt.current&1)!==0?nn===0&&(nn=3):i0())),u.updateQueue!==null&&(u.flags|=4),Ln(u),null);case 4:return bc(),Hv(o,u),o===null&&Ju(u.stateNode.containerInfo),Ln(u),null;case 10:return xv(u.type._context),Ln(u),null;case 17:return dr(u.type)&&Zf(),Ln(u),null;case 19:if(bt(Rt),S=u.memoizedState,S===null)return Ln(u),null;if(y=(u.flags&128)!==0,V=S.rendering,V===null)if(y)ud(S,!1);else{if(nn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(V=um(o),V!==null){for(u.flags|=128,ud(S,!1),y=V.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=m,m=u.child;m!==null;)S=m,o=y,S.flags&=14680066,V=S.alternate,V===null?(S.childLanes=0,S.lanes=o,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=V.childLanes,S.lanes=V.lanes,S.child=V.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=V.memoizedProps,S.memoizedState=V.memoizedState,S.updateQueue=V.updateQueue,S.type=V.type,o=V.dependencies,S.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return pt(Rt,Rt.current&1|2),u.child}o=o.sibling}S.tail!==null&&mt()>Sc&&(u.flags|=128,y=!0,ud(S,!1),u.lanes=4194304)}else{if(!y)if(o=um(V),o!==null){if(u.flags|=128,y=!0,m=o.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),ud(S,!0),S.tail===null&&S.tailMode==="hidden"&&!V.alternate&&!Nt)return Ln(u),null}else 2*mt()-S.renderingStartTime>Sc&&m!==1073741824&&(u.flags|=128,y=!0,ud(S,!1),u.lanes=4194304);S.isBackwards?(V.sibling=u.child,u.child=V):(m=S.last,m!==null?m.sibling=V:u.child=V,S.last=V)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=mt(),u.sibling=null,m=Rt.current,pt(Rt,y?m&1|2:m&1),u):(Ln(u),null);case 22:case 23:return s0(),y=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(Rr&1073741824)!==0&&(Ln(u),u.subtreeFlags&6&&(u.flags|=8192)):Ln(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function VO(o,u){switch(fv(u),u.tag){case 1:return dr(u.type)&&Zf(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return bc(),bt(ur),bt(Mn),Iv(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return Ev(u),null;case 13:if(bt(Rt),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(t(340));yc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return bt(Rt),null;case 4:return bc(),null;case 10:return xv(u.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var xm=!1,Vn=!1,FO=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Tc(o,u){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Ft(o,u,y)}else m.current=null}function qv(o,u,m){try{m()}catch(y){Ft(o,u,y)}}var X1=!1;function BO(o,u){if(sv=ma,o=CT(),Xy(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var _=y.anchorOffset,S=y.focusNode;y=y.focusOffset;try{m.nodeType,S.nodeType}catch{m=null;break e}var V=0,$=-1,W=-1,Z=0,fe=0,me=o,de=null;t:for(;;){for(var _e;me!==m||_!==0&&me.nodeType!==3||($=V+_),me!==S||y!==0&&me.nodeType!==3||(W=V+y),me.nodeType===3&&(V+=me.nodeValue.length),(_e=me.firstChild)!==null;)de=me,me=_e;for(;;){if(me===o)break t;if(de===m&&++Z===_&&($=V),de===S&&++fe===y&&(W=V),(_e=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=_e}m=$===-1||W===-1?null:{start:$,end:W}}else m=null}m=m||{start:0,end:0}}else m=null;for(iv={focusedElem:o,selectionRange:m},ma=!1,Te=u;Te!==null;)if(u=Te,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Te=o;else for(;Te!==null;){u=Te;try{var Ie=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Pe=Ie.memoizedProps,Ht=Ie.memoizedState,K=u.stateNode,q=K.getSnapshotBeforeUpdate(u.elementType===u.type?Pe:Cs(u.type,Pe),Ht);K.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=u.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ye){Ft(u,u.return,ye)}if(o=u.sibling,o!==null){o.return=u.return,Te=o;break}Te=u.return}return Ie=X1,X1=!1,Ie}function dd(o,u,m){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var _=y=y.next;do{if((_.tag&o)===o){var S=_.destroy;_.destroy=void 0,S!==void 0&&qv(u,m,S)}_=_.next}while(_!==y)}}function wm(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&o)===o){var y=m.create;m.destroy=y()}m=m.next}while(m!==u)}}function Gv(o){var u=o.ref;if(u!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof u=="function"?u(o):u.current=o}}function Q1(o){var u=o.alternate;u!==null&&(o.alternate=null,Q1(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[qs],delete u[ed],delete u[cv],delete u[_O],delete u[TO])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function J1(o){return o.tag===5||o.tag===3||o.tag===4}function Z1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||J1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Yv(o,u,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(o,u):m.insertBefore(o,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(o,m)):(u=m,u.appendChild(o)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=Qf));else if(y!==4&&(o=o.child,o!==null))for(Yv(o,u,m),o=o.sibling;o!==null;)Yv(o,u,m),o=o.sibling}function Kv(o,u,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Kv(o,u,m),o=o.sibling;o!==null;)Kv(o,u,m),o=o.sibling}var Tn=null,Ns=!1;function Ta(o,u,m){for(m=m.child;m!==null;)eE(o,u,m),m=m.sibling}function eE(o,u,m){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Po,m)}catch{}switch(m.tag){case 5:Vn||Tc(m,u);case 6:var y=Tn,_=Ns;Tn=null,Ta(o,u,m),Tn=y,Ns=_,Tn!==null&&(Ns?(o=Tn,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):Tn.removeChild(m.stateNode));break;case 18:Tn!==null&&(Ns?(o=Tn,m=m.stateNode,o.nodeType===8?lv(o.parentNode,m):o.nodeType===1&&lv(o,m),Es(o)):lv(Tn,m.stateNode));break;case 4:y=Tn,_=Ns,Tn=m.stateNode.containerInfo,Ns=!0,Ta(o,u,m),Tn=y,Ns=_;break;case 0:case 11:case 14:case 15:if(!Vn&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){_=y=y.next;do{var S=_,V=S.destroy;S=S.tag,V!==void 0&&((S&2)!==0||(S&4)!==0)&&qv(m,u,V),_=_.next}while(_!==y)}Ta(o,u,m);break;case 1:if(!Vn&&(Tc(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch($){Ft(m,u,$)}Ta(o,u,m);break;case 21:Ta(o,u,m);break;case 22:m.mode&1?(Vn=(y=Vn)||m.memoizedState!==null,Ta(o,u,m),Vn=y):Ta(o,u,m);break;default:Ta(o,u,m)}}function tE(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new FO),u.forEach(function(y){var _=KO.bind(null,o,y);m.has(y)||(m.add(y),y.then(_,_))})}}function ks(o,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var _=m[y];try{var S=o,V=u,$=V;e:for(;$!==null;){switch($.tag){case 5:Tn=$.stateNode,Ns=!1;break e;case 3:Tn=$.stateNode.containerInfo,Ns=!0;break e;case 4:Tn=$.stateNode.containerInfo,Ns=!0;break e}$=$.return}if(Tn===null)throw Error(t(160));eE(S,V,_),Tn=null,Ns=!1;var W=_.alternate;W!==null&&(W.return=null),_.return=null}catch(Z){Ft(_,u,Z)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)nE(u,o),u=u.sibling}function nE(o,u){var m=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ks(u,o),Ks(o),y&4){try{dd(3,o,o.return),wm(3,o)}catch(Pe){Ft(o,o.return,Pe)}try{dd(5,o,o.return)}catch(Pe){Ft(o,o.return,Pe)}}break;case 1:ks(u,o),Ks(o),y&512&&m!==null&&Tc(m,m.return);break;case 5:if(ks(u,o),Ks(o),y&512&&m!==null&&Tc(m,m.return),o.flags&32){var _=o.stateNode;try{ys(_,"")}catch(Pe){Ft(o,o.return,Pe)}}if(y&4&&(_=o.stateNode,_!=null)){var S=o.memoizedProps,V=m!==null?m.memoizedProps:S,$=o.type,W=o.updateQueue;if(o.updateQueue=null,W!==null)try{$==="input"&&S.type==="radio"&&S.name!=null&&It(_,S),ia($,V);var Z=ia($,S);for(V=0;V<W.length;V+=2){var fe=W[V],me=W[V+1];fe==="style"?ra(_,me):fe==="dangerouslySetInnerHTML"?Gn(_,me):fe==="children"?ys(_,me):D(_,fe,me,Z)}switch($){case"input":qn(_,S);break;case"textarea":qr(_,S);break;case"select":var de=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!S.multiple;var _e=S.value;_e!=null?Rn(_,!!S.multiple,_e,!1):de!==!!S.multiple&&(S.defaultValue!=null?Rn(_,!!S.multiple,S.defaultValue,!0):Rn(_,!!S.multiple,S.multiple?[]:"",!1))}_[ed]=S}catch(Pe){Ft(o,o.return,Pe)}}break;case 6:if(ks(u,o),Ks(o),y&4){if(o.stateNode===null)throw Error(t(162));_=o.stateNode,S=o.memoizedProps;try{_.nodeValue=S}catch(Pe){Ft(o,o.return,Pe)}}break;case 3:if(ks(u,o),Ks(o),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Es(u.containerInfo)}catch(Pe){Ft(o,o.return,Pe)}break;case 4:ks(u,o),Ks(o);break;case 13:ks(u,o),Ks(o),_=o.child,_.flags&8192&&(S=_.memoizedState!==null,_.stateNode.isHidden=S,!S||_.alternate!==null&&_.alternate.memoizedState!==null||(Jv=mt())),y&4&&tE(o);break;case 22:if(fe=m!==null&&m.memoizedState!==null,o.mode&1?(Vn=(Z=Vn)||fe,ks(u,o),Vn=Z):ks(u,o),Ks(o),y&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!fe&&(o.mode&1)!==0)for(Te=o,fe=o.child;fe!==null;){for(me=Te=fe;Te!==null;){switch(de=Te,_e=de.child,de.tag){case 0:case 11:case 14:case 15:dd(4,de,de.return);break;case 1:Tc(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){y=de,m=de.return;try{u=y,Ie.props=u.memoizedProps,Ie.state=u.memoizedState,Ie.componentWillUnmount()}catch(Pe){Ft(y,m,Pe)}}break;case 5:Tc(de,de.return);break;case 22:if(de.memoizedState!==null){iE(me);continue}}_e!==null?(_e.return=de,Te=_e):iE(me)}fe=fe.sibling}e:for(fe=null,me=o;;){if(me.tag===5){if(fe===null){fe=me;try{_=me.stateNode,Z?(S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):($=me.stateNode,W=me.memoizedProps.style,V=W!=null&&W.hasOwnProperty("display")?W.display:null,$.style.display=Ls("display",V))}catch(Pe){Ft(o,o.return,Pe)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=Z?"":me.memoizedProps}catch(Pe){Ft(o,o.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:ks(u,o),Ks(o),y&4&&tE(o);break;case 21:break;default:ks(u,o),Ks(o)}}function Ks(o){var u=o.flags;if(u&2){try{e:{for(var m=o.return;m!==null;){if(J1(m)){var y=m;break e}m=m.return}throw Error(t(160))}switch(y.tag){case 5:var _=y.stateNode;y.flags&32&&(ys(_,""),y.flags&=-33);var S=Z1(o);Kv(o,S,_);break;case 3:case 4:var V=y.stateNode.containerInfo,$=Z1(o);Yv(o,$,V);break;default:throw Error(t(161))}}catch(W){Ft(o,o.return,W)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function zO(o,u,m){Te=o,rE(o)}function rE(o,u,m){for(var y=(o.mode&1)!==0;Te!==null;){var _=Te,S=_.child;if(_.tag===22&&y){var V=_.memoizedState!==null||xm;if(!V){var $=_.alternate,W=$!==null&&$.memoizedState!==null||Vn;$=xm;var Z=Vn;if(xm=V,(Vn=W)&&!Z)for(Te=_;Te!==null;)V=Te,W=V.child,V.tag===22&&V.memoizedState!==null?aE(_):W!==null?(W.return=V,Te=W):aE(_);for(;S!==null;)Te=S,rE(S),S=S.sibling;Te=_,xm=$,Vn=Z}sE(o)}else(_.subtreeFlags&8772)!==0&&S!==null?(S.return=_,Te=S):sE(o)}}function sE(o){for(;Te!==null;){var u=Te;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Vn||wm(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!Vn)if(m===null)y.componentDidMount();else{var _=u.elementType===u.type?m.memoizedProps:Cs(u.type,m.memoizedProps);y.componentDidUpdate(_,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&i1(u,S,y);break;case 3:var V=u.updateQueue;if(V!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}i1(u,V,m)}break;case 5:var $=u.stateNode;if(m===null&&u.flags&4){m=$;var W=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&m.focus();break;case"img":W.src&&(m.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Z=u.alternate;if(Z!==null){var fe=Z.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&Es(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vn||u.flags&512&&Gv(u)}catch(de){Ft(u,u.return,de)}}if(u===o){Te=null;break}if(m=u.sibling,m!==null){m.return=u.return,Te=m;break}Te=u.return}}function iE(o){for(;Te!==null;){var u=Te;if(u===o){Te=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Te=m;break}Te=u.return}}function aE(o){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{wm(4,u)}catch(W){Ft(u,m,W)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var _=u.return;try{y.componentDidMount()}catch(W){Ft(u,_,W)}}var S=u.return;try{Gv(u)}catch(W){Ft(u,S,W)}break;case 5:var V=u.return;try{Gv(u)}catch(W){Ft(u,V,W)}}}catch(W){Ft(u,u.return,W)}if(u===o){Te=null;break}var $=u.sibling;if($!==null){$.return=u.return,Te=$;break}Te=u.return}}var UO=Math.ceil,bm=B.ReactCurrentDispatcher,Xv=B.ReactCurrentOwner,ts=B.ReactCurrentBatchConfig,Ze=0,un=null,Qt=null,En=0,Rr=0,Ec=va(0),nn=0,hd=null,zo=0,_m=0,Qv=0,fd=null,fr=null,Jv=0,Sc=1/0,ji=null,Tm=!1,Zv=null,Ea=null,Em=!1,Sa=null,Sm=0,md=0,e0=null,Im=-1,Pm=0;function Zn(){return(Ze&6)!==0?mt():Im!==-1?Im:Im=mt()}function Ia(o){return(o.mode&1)===0?1:(Ze&2)!==0&&En!==0?En&-En:SO.transition!==null?(Pm===0&&(Pm=No()),Pm):(o=Ye,o!==0||(o=window.event,o=o===void 0?16:Uu(o.type)),o)}function As(o,u,m,y){if(50<md)throw md=0,e0=null,Error(t(185));ua(o,m,y),((Ze&2)===0||o!==un)&&(o===un&&((Ze&2)===0&&(_m|=m),nn===4&&Pa(o,En)),mr(o,y),m===1&&Ze===0&&(u.mode&1)===0&&(Sc=mt()+500,tm&&wa()))}function mr(o,u){var m=o.callbackNode;_i(o,u);var y=Co(o,o===un?En:0);if(y===0)m!==null&&So(m),o.callbackNode=null,o.callbackPriority=0;else if(u=y&-y,o.callbackPriority!==u){if(m!=null&&So(m),u===1)o.tag===0?EO(lE.bind(null,o)):GT(lE.bind(null,o)),wO(function(){(Ze&6)===0&&wa()}),m=null;else{switch(ha(y)){case 1:m=Io;break;case 4:m=oa;break;case 16:m=Yr;break;case 536870912:m=Pf;break;default:m=Yr}m=gE(m,oE.bind(null,o))}o.callbackPriority=u,o.callbackNode=m}}function oE(o,u){if(Im=-1,Pm=0,(Ze&6)!==0)throw Error(t(327));var m=o.callbackNode;if(Ic()&&o.callbackNode!==m)return null;var y=Co(o,o===un?En:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||u)u=Cm(o,y);else{u=y;var _=Ze;Ze|=2;var S=uE();(un!==o||En!==u)&&(ji=null,Sc=mt()+500,$o(o,u));do try{HO();break}catch($){cE(o,$)}while(!0);vv(),bm.current=S,Ze=_,Qt!==null?u=0:(un=null,En=0,u=nn)}if(u!==0){if(u===2&&(_=Cr(o),_!==0&&(y=_,u=t0(o,_))),u===1)throw m=hd,$o(o,0),Pa(o,y),mr(o,mt()),m;if(u===6)Pa(o,y);else{if(_=o.current.alternate,(y&30)===0&&!$O(_)&&(u=Cm(o,y),u===2&&(S=Cr(o),S!==0&&(y=S,u=t0(o,S))),u===1))throw m=hd,$o(o,0),Pa(o,y),mr(o,mt()),m;switch(o.finishedWork=_,o.finishedLanes=y,u){case 0:case 1:throw Error(t(345));case 2:Wo(o,fr,ji);break;case 3:if(Pa(o,y),(y&130023424)===y&&(u=Jv+500-mt(),10<u)){if(Co(o,0)!==0)break;if(_=o.suspendedLanes,(_&y)!==y){Zn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=ov(Wo.bind(null,o,fr,ji),u);break}Wo(o,fr,ji);break;case 4:if(Pa(o,y),(y&4194240)===y)break;for(u=o.eventTimes,_=-1;0<y;){var V=31-Xn(y);S=1<<V,V=u[V],V>_&&(_=V),y&=~S}if(y=_,y=mt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*UO(y/1960))-y,10<y){o.timeoutHandle=ov(Wo.bind(null,o,fr,ji),y);break}Wo(o,fr,ji);break;case 5:Wo(o,fr,ji);break;default:throw Error(t(329))}}}return mr(o,mt()),o.callbackNode===m?oE.bind(null,o):null}function t0(o,u){var m=fd;return o.current.memoizedState.isDehydrated&&($o(o,u).flags|=256),o=Cm(o,u),o!==2&&(u=fr,fr=m,u!==null&&n0(u)),o}function n0(o){fr===null?fr=o:fr.push.apply(fr,o)}function $O(o){for(var u=o;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var _=m[y],S=_.getSnapshot;_=_.value;try{if(!Is(S(),_))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Pa(o,u){for(u&=~Qv,u&=~_m,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var m=31-Xn(u),y=1<<m;o[m]=-1,u&=~y}}function lE(o){if((Ze&6)!==0)throw Error(t(327));Ic();var u=Co(o,0);if((u&1)===0)return mr(o,mt()),null;var m=Cm(o,u);if(o.tag!==0&&m===2){var y=Cr(o);y!==0&&(u=y,m=t0(o,y))}if(m===1)throw m=hd,$o(o,0),Pa(o,u),mr(o,mt()),m;if(m===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Wo(o,fr,ji),mr(o,mt()),null}function r0(o,u){var m=Ze;Ze|=1;try{return o(u)}finally{Ze=m,Ze===0&&(Sc=mt()+500,tm&&wa())}}function Uo(o){Sa!==null&&Sa.tag===0&&(Ze&6)===0&&Ic();var u=Ze;Ze|=1;var m=ts.transition,y=Ye;try{if(ts.transition=null,Ye=1,o)return o()}finally{Ye=y,ts.transition=m,Ze=u,(Ze&6)===0&&wa()}}function s0(){Rr=Ec.current,bt(Ec)}function $o(o,u){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,xO(m)),Qt!==null)for(m=Qt.return;m!==null;){var y=m;switch(fv(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Zf();break;case 3:bc(),bt(ur),bt(Mn),Iv();break;case 5:Ev(y);break;case 4:bc();break;case 13:bt(Rt);break;case 19:bt(Rt);break;case 10:xv(y.type._context);break;case 22:case 23:s0()}m=m.return}if(un=o,Qt=o=Ca(o.current,null),En=Rr=u,nn=0,hd=null,Qv=_m=zo=0,fr=fd=null,Vo!==null){for(u=0;u<Vo.length;u++)if(m=Vo[u],y=m.interleaved,y!==null){m.interleaved=null;var _=y.next,S=m.pending;if(S!==null){var V=S.next;S.next=_,y.next=V}m.pending=y}Vo=null}return o}function cE(o,u){do{var m=Qt;try{if(vv(),dm.current=pm,hm){for(var y=jt.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}hm=!1}if(Bo=0,cn=tn=jt=null,ad=!1,od=0,Xv.current=null,m===null||m.return===null){nn=1,hd=u,Qt=null;break}e:{var S=o,V=m.return,$=m,W=u;if(u=En,$.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var Z=W,fe=$,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var _e=j1(V);if(_e!==null){_e.flags&=-257,M1(_e,V,$,S,u),_e.mode&1&&R1(S,Z,u),u=_e,W=Z;var Ie=u.updateQueue;if(Ie===null){var Pe=new Set;Pe.add(W),u.updateQueue=Pe}else Ie.add(W);break e}else{if((u&1)===0){R1(S,Z,u),i0();break e}W=Error(t(426))}}else if(Nt&&$.mode&1){var Ht=j1(V);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),M1(Ht,V,$,S,u),gv(_c(W,$));break e}}S=W=_c(W,$),nn!==4&&(nn=2),fd===null?fd=[S]:fd.push(S),S=V;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var K=A1(S,W,u);s1(S,K);break e;case 1:$=W;var q=S.type,Q=S.stateNode;if((S.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ea===null||!Ea.has(Q)))){S.flags|=65536,u&=-u,S.lanes|=u;var ye=D1(S,$,u);s1(S,ye);break e}}S=S.return}while(S!==null)}hE(m)}catch(Ne){u=Ne,Qt===m&&m!==null&&(Qt=m=m.return);continue}break}while(!0)}function uE(){var o=bm.current;return bm.current=pm,o===null?pm:o}function i0(){(nn===0||nn===3||nn===2)&&(nn=4),un===null||(zo&268435455)===0&&(_m&268435455)===0||Pa(un,En)}function Cm(o,u){var m=Ze;Ze|=2;var y=uE();(un!==o||En!==u)&&(ji=null,$o(o,u));do try{WO();break}catch(_){cE(o,_)}while(!0);if(vv(),Ze=m,bm.current=y,Qt!==null)throw Error(t(261));return un=null,En=0,nn}function WO(){for(;Qt!==null;)dE(Qt)}function HO(){for(;Qt!==null&&!Gl();)dE(Qt)}function dE(o){var u=pE(o.alternate,o,Rr);o.memoizedProps=o.pendingProps,u===null?hE(o):Qt=u,Xv.current=null}function hE(o){var u=o;do{var m=u.alternate;if(o=u.return,(u.flags&32768)===0){if(m=LO(m,u,Rr),m!==null){Qt=m;return}}else{if(m=VO(m,u),m!==null){m.flags&=32767,Qt=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{nn=6,Qt=null;return}}if(u=u.sibling,u!==null){Qt=u;return}Qt=u=o}while(u!==null);nn===0&&(nn=5)}function Wo(o,u,m){var y=Ye,_=ts.transition;try{ts.transition=null,Ye=1,qO(o,u,m,y)}finally{ts.transition=_,Ye=y}return null}function qO(o,u,m,y){do Ic();while(Sa!==null);if((Ze&6)!==0)throw Error(t(327));m=o.finishedWork;var _=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var S=m.lanes|m.childLanes;if(ft(o,S),o===un&&(Qt=un=null,En=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Em||(Em=!0,gE(Yr,function(){return Ic(),null})),S=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||S){S=ts.transition,ts.transition=null;var V=Ye;Ye=1;var $=Ze;Ze|=4,Xv.current=null,BO(o,m),nE(m,o),hO(iv),ma=!!sv,iv=sv=null,o.current=m,zO(m),Uy(),Ze=$,Ye=V,ts.transition=S}else o.current=m;if(Em&&(Em=!1,Sa=o,Sm=_),S=o.pendingLanes,S===0&&(Ea=null),Cf(m.stateNode),mr(o,mt()),u!==null)for(y=o.onRecoverableError,m=0;m<u.length;m++)_=u[m],y(_.value,{componentStack:_.stack,digest:_.digest});if(Tm)throw Tm=!1,o=Zv,Zv=null,o;return(Sm&1)!==0&&o.tag!==0&&Ic(),S=o.pendingLanes,(S&1)!==0?o===e0?md++:(md=0,e0=o):md=0,wa(),null}function Ic(){if(Sa!==null){var o=ha(Sm),u=ts.transition,m=Ye;try{if(ts.transition=null,Ye=16>o?16:o,Sa===null)var y=!1;else{if(o=Sa,Sa=null,Sm=0,(Ze&6)!==0)throw Error(t(331));var _=Ze;for(Ze|=4,Te=o.current;Te!==null;){var S=Te,V=S.child;if((Te.flags&16)!==0){var $=S.deletions;if($!==null){for(var W=0;W<$.length;W++){var Z=$[W];for(Te=Z;Te!==null;){var fe=Te;switch(fe.tag){case 0:case 11:case 15:dd(8,fe,S)}var me=fe.child;if(me!==null)me.return=fe,Te=me;else for(;Te!==null;){fe=Te;var de=fe.sibling,_e=fe.return;if(Q1(fe),fe===Z){Te=null;break}if(de!==null){de.return=_e,Te=de;break}Te=_e}}}var Ie=S.alternate;if(Ie!==null){var Pe=Ie.child;if(Pe!==null){Ie.child=null;do{var Ht=Pe.sibling;Pe.sibling=null,Pe=Ht}while(Pe!==null)}}Te=S}}if((S.subtreeFlags&2064)!==0&&V!==null)V.return=S,Te=V;else e:for(;Te!==null;){if(S=Te,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:dd(9,S,S.return)}var K=S.sibling;if(K!==null){K.return=S.return,Te=K;break e}Te=S.return}}var q=o.current;for(Te=q;Te!==null;){V=Te;var Q=V.child;if((V.subtreeFlags&2064)!==0&&Q!==null)Q.return=V,Te=Q;else e:for(V=q;Te!==null;){if($=Te,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:wm(9,$)}}catch(Ne){Ft($,$.return,Ne)}if($===V){Te=null;break e}var ye=$.sibling;if(ye!==null){ye.return=$.return,Te=ye;break e}Te=$.return}}if(Ze=_,wa(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Po,o)}catch{}y=!0}return y}finally{Ye=m,ts.transition=u}}return!1}function fE(o,u,m){u=_c(m,u),u=A1(o,u,1),o=_a(o,u,1),u=Zn(),o!==null&&(ua(o,1,u),mr(o,u))}function Ft(o,u,m){if(o.tag===3)fE(o,o,m);else for(;u!==null;){if(u.tag===3){fE(u,o,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ea===null||!Ea.has(y))){o=_c(m,o),o=D1(u,o,1),u=_a(u,o,1),o=Zn(),u!==null&&(ua(u,1,o),mr(u,o));break}}u=u.return}}function GO(o,u,m){var y=o.pingCache;y!==null&&y.delete(u),u=Zn(),o.pingedLanes|=o.suspendedLanes&m,un===o&&(En&m)===m&&(nn===4||nn===3&&(En&130023424)===En&&500>mt()-Jv?$o(o,0):Qv|=m),mr(o,u)}function mE(o,u){u===0&&((o.mode&1)===0?u=1:(u=Kl,Kl<<=1,(Kl&130023424)===0&&(Kl=4194304)));var m=Zn();o=Ai(o,u),o!==null&&(ua(o,u,m),mr(o,m))}function YO(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),mE(o,m)}function KO(o,u){var m=0;switch(o.tag){case 13:var y=o.stateNode,_=o.memoizedState;_!==null&&(m=_.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(u),mE(o,m)}var pE;pE=function(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps||ur.current)hr=!0;else{if((o.lanes&m)===0&&(u.flags&128)===0)return hr=!1,OO(o,u,m);hr=(o.flags&131072)!==0}else hr=!1,Nt&&(u.flags&1048576)!==0&&YT(u,rm,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;vm(o,u),o=u.pendingProps;var _=mc(u,Mn.current);wc(u,m),_=Nv(null,u,y,o,_,m);var S=kv();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,dr(y)?(S=!0,em(u)):S=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_v(u),_.updater=gm,u.stateNode=_,_._reactInternals=u,Ov(u,y,o,m),u=Bv(null,u,y,!0,S,m)):(u.tag=0,Nt&&S&&hv(u),Jn(null,u,_,m),u=u.child),u;case 16:y=u.elementType;e:{switch(vm(o,u),o=u.pendingProps,_=y._init,y=_(y._payload),u.type=y,_=u.tag=QO(y),o=Cs(y,o),_){case 0:u=Fv(null,u,y,o,m);break e;case 1:u=z1(null,u,y,o,m);break e;case 11:u=O1(null,u,y,o,m);break e;case 14:u=L1(null,u,y,Cs(y.type,o),m);break e}throw Error(t(306,y,""))}return u;case 0:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:Cs(y,_),Fv(o,u,y,_,m);case 1:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:Cs(y,_),z1(o,u,y,_,m);case 3:e:{if(U1(u),o===null)throw Error(t(387));y=u.pendingProps,S=u.memoizedState,_=S.element,r1(o,u),cm(u,y,null,m);var V=u.memoizedState;if(y=V.element,S.isDehydrated)if(S={element:y,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){_=_c(Error(t(423)),u),u=$1(o,u,y,m,_);break e}else if(y!==_){_=_c(Error(t(424)),u),u=$1(o,u,y,m,_);break e}else for(Dr=ya(u.stateNode.containerInfo.firstChild),Ar=u,Nt=!0,Ps=null,m=t1(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(yc(),y===_){u=Ri(o,u,m);break e}Jn(o,u,y,m)}u=u.child}return u;case 5:return a1(u),o===null&&pv(u),y=u.type,_=u.pendingProps,S=o!==null?o.memoizedProps:null,V=_.children,av(y,_)?V=null:S!==null&&av(y,S)&&(u.flags|=32),B1(o,u),Jn(o,u,V,m),u.child;case 6:return o===null&&pv(u),null;case 13:return W1(o,u,m);case 4:return Tv(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=vc(u,null,y,m):Jn(o,u,y,m),u.child;case 11:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:Cs(y,_),O1(o,u,y,_,m);case 7:return Jn(o,u,u.pendingProps,m),u.child;case 8:return Jn(o,u,u.pendingProps.children,m),u.child;case 12:return Jn(o,u,u.pendingProps.children,m),u.child;case 10:e:{if(y=u.type._context,_=u.pendingProps,S=u.memoizedProps,V=_.value,pt(am,y._currentValue),y._currentValue=V,S!==null)if(Is(S.value,V)){if(S.children===_.children&&!ur.current){u=Ri(o,u,m);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var $=S.dependencies;if($!==null){V=S.child;for(var W=$.firstContext;W!==null;){if(W.context===y){if(S.tag===1){W=Di(-1,m&-m),W.tag=2;var Z=S.updateQueue;if(Z!==null){Z=Z.shared;var fe=Z.pending;fe===null?W.next=W:(W.next=fe.next,fe.next=W),Z.pending=W}}S.lanes|=m,W=S.alternate,W!==null&&(W.lanes|=m),wv(S.return,m,u),$.lanes|=m;break}W=W.next}}else if(S.tag===10)V=S.type===u.type?null:S.child;else if(S.tag===18){if(V=S.return,V===null)throw Error(t(341));V.lanes|=m,$=V.alternate,$!==null&&($.lanes|=m),wv(V,m,u),V=S.sibling}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===u){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}Jn(o,u,_.children,m),u=u.child}return u;case 9:return _=u.type,y=u.pendingProps.children,wc(u,m),_=Zr(_),y=y(_),u.flags|=1,Jn(o,u,y,m),u.child;case 14:return y=u.type,_=Cs(y,u.pendingProps),_=Cs(y.type,_),L1(o,u,y,_,m);case 15:return V1(o,u,u.type,u.pendingProps,m);case 17:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:Cs(y,_),vm(o,u),u.tag=1,dr(y)?(o=!0,em(u)):o=!1,wc(u,m),N1(u,y,_),Ov(u,y,_,m),Bv(null,u,y,!0,o,m);case 19:return q1(o,u,m);case 22:return F1(o,u,m)}throw Error(t(156,u.tag))};function gE(o,u){return Bs(o,u)}function XO(o,u,m,y){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(o,u,m,y){return new XO(o,u,m,y)}function a0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function QO(o){if(typeof o=="function")return a0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===O)return 11;if(o===J)return 14}return 2}function Ca(o,u){var m=o.alternate;return m===null?(m=ns(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function Nm(o,u,m,y,_,S){var V=2;if(y=o,typeof o=="function")a0(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case M:return Ho(m.children,_,S,u);case I:V=8,_|=8;break;case N:return o=ns(12,m,u,_|2),o.elementType=N,o.lanes=S,o;case R:return o=ns(13,m,u,_),o.elementType=R,o.lanes=S,o;case G:return o=ns(19,m,u,_),o.elementType=G,o.lanes=S,o;case ue:return km(m,_,S,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case j:V=10;break e;case A:V=9;break e;case O:V=11;break e;case J:V=14;break e;case ie:V=16,y=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return u=ns(V,m,u,_),u.elementType=o,u.type=y,u.lanes=S,u}function Ho(o,u,m,y){return o=ns(7,o,y,u),o.lanes=m,o}function km(o,u,m,y){return o=ns(22,o,y,u),o.elementType=ue,o.lanes=m,o.stateNode={isHidden:!1},o}function o0(o,u,m){return o=ns(6,o,null,u),o.lanes=m,o}function l0(o,u,m){return u=ns(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function JO(o,u,m,y,_){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ca(0),this.expirationTimes=ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.identifierPrefix=y,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function c0(o,u,m,y,_,S,V,$,W){return o=new JO(o,u,m,$,W),u===1?(u=1,S===!0&&(u|=8)):u=0,S=ns(3,null,null,u),o.current=S,S.stateNode=o,S.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},_v(S),o}function ZO(o,u,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:y==null?null:""+y,children:o,containerInfo:u,implementation:m}}function yE(o){if(!o)return xa;o=o._reactInternals;e:{if(Ir(o)!==o||o.tag!==1)throw Error(t(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(dr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(o.tag===1){var m=o.type;if(dr(m))return HT(o,m,u)}return u}function vE(o,u,m,y,_,S,V,$,W){return o=c0(m,y,!0,o,_,S,V,$,W),o.context=yE(null),m=o.current,y=Zn(),_=Ia(m),S=Di(y,_),S.callback=u??null,_a(m,S,_),o.current.lanes=_,ua(o,_,y),mr(o,y),o}function Am(o,u,m,y){var _=u.current,S=Zn(),V=Ia(_);return m=yE(m),u.context===null?u.context=m:u.pendingContext=m,u=Di(S,V),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=_a(_,u,V),o!==null&&(As(o,_,V,S),lm(o,_,V)),V}function Dm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function xE(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function u0(o,u){xE(o,u),(o=o.alternate)&&xE(o,u)}function eL(){return null}var wE=typeof reportError=="function"?reportError:function(o){console.error(o)};function d0(o){this._internalRoot=o}Rm.prototype.render=d0.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(t(409));Am(o,u,null,null)},Rm.prototype.unmount=d0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Uo(function(){Am(null,o,null,null)}),u[Pi]=null}};function Rm(o){this._internalRoot=o}Rm.prototype.unstable_scheduleHydration=function(o){if(o){var u=Rf();o={blockedOn:null,target:o,priority:u};for(var m=0;m<Us.length&&u!==0&&u<Us[m].priority;m++);Us.splice(m,0,o),m===0&&Of(o)}};function h0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function jm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function bE(){}function tL(o,u,m,y,_){if(_){if(typeof y=="function"){var S=y;y=function(){var Z=Dm(V);S.call(Z)}}var V=vE(u,y,o,0,null,!1,!1,"",bE);return o._reactRootContainer=V,o[Pi]=V.current,Ju(o.nodeType===8?o.parentNode:o),Uo(),V}for(;_=o.lastChild;)o.removeChild(_);if(typeof y=="function"){var $=y;y=function(){var Z=Dm(W);$.call(Z)}}var W=c0(o,0,!1,null,null,!1,!1,"",bE);return o._reactRootContainer=W,o[Pi]=W.current,Ju(o.nodeType===8?o.parentNode:o),Uo(function(){Am(u,W,m,y)}),W}function Mm(o,u,m,y,_){var S=m._reactRootContainer;if(S){var V=S;if(typeof _=="function"){var $=_;_=function(){var W=Dm(V);$.call(W)}}Am(u,V,o,_)}else V=tL(m,u,o,_,y);return Dm(V)}Af=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var m=la(u.pendingLanes);m!==0&&(da(u,m|1),mr(u,mt()),(Ze&6)===0&&(Sc=mt()+500,wa()))}break;case 13:Uo(function(){var y=Ai(o,1);if(y!==null){var _=Zn();As(y,o,1,_)}}),u0(o,1)}},Xl=function(o){if(o.tag===13){var u=Ai(o,134217728);if(u!==null){var m=Zn();As(u,o,134217728,m)}u0(o,134217728)}},Df=function(o){if(o.tag===13){var u=Ia(o),m=Ai(o,u);if(m!==null){var y=Zn();As(m,o,u,y)}u0(o,u)}},Rf=function(){return Ye},jf=function(o,u){var m=Ye;try{return Ye=o,u()}finally{Ye=m}},vi=function(o,u,m){switch(u){case"input":if(qn(o,m),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==o&&y.form===o.form){var _=Jf(y);if(!_)throw Error(t(90));Ut(y),qn(y,_)}}}break;case"textarea":qr(o,m);break;case"select":u=m.value,u!=null&&Rn(o,!!m.multiple,u,!1)}},nt=r0,jn=Uo;var nL={usingClientEntryPoint:!1,Events:[td,hc,Jf,vt,Vs,r0]},pd={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rL={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=wn(o),o===null?null:o.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||eL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Om.isDisabled&&Om.supportsFiber)try{Po=Om.inject(rL),Pr=Om}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nL,pr.createPortal=function(o,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(u))throw Error(t(200));return ZO(o,u,null,m)},pr.createRoot=function(o,u){if(!h0(o))throw Error(t(299));var m=!1,y="",_=wE;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=c0(o,1,!1,null,null,m,!1,y,_),o[Pi]=u.current,Ju(o.nodeType===8?o.parentNode:o),new d0(u)},pr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=wn(u),o=o===null?null:o.stateNode,o},pr.flushSync=function(o){return Uo(o)},pr.hydrate=function(o,u,m){if(!jm(u))throw Error(t(200));return Mm(null,o,u,!0,m)},pr.hydrateRoot=function(o,u,m){if(!h0(o))throw Error(t(405));var y=m!=null&&m.hydratedSources||null,_=!1,S="",V=wE;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onRecoverableError!==void 0&&(V=m.onRecoverableError)),u=vE(u,null,o,1,m??null,_,!1,S,V),o[Pi]=u.current,Ju(o),y)for(o=0;o<y.length;o++)m=y[o],_=m._getVersion,_=_(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,_]:u.mutableSourceEagerHydrationData.push(m,_);return new Rm(u)},pr.render=function(o,u,m){if(!jm(u))throw Error(t(200));return Mm(null,o,u,!1,m)},pr.unmountComponentAtNode=function(o){if(!jm(o))throw Error(t(40));return o._reactRootContainer?(Uo(function(){Mm(null,null,o,!1,function(){o._reactRootContainer=null,o[Pi]=null})}),!0):!1},pr.unstable_batchedUpdates=r0,pr.unstable_renderSubtreeIntoContainer=function(o,u,m,y){if(!jm(m))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Mm(o,u,m,!1,y)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var NE;function ik(){if(NE)return p0.exports;NE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),p0.exports=fL(),p0.exports}var kE;function mL(){if(kE)return Lm;kE=1;var n=ik();return Lm.createRoot=n.createRoot,Lm.hydrateRoot=n.hydrateRoot,Lm}var pL=mL();ik();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vh.apply(this,arguments)}var Wa;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Wa||(Wa={}));const AE="popstate";function gL(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Ex("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Bp(s)}return vL(e,t,null,n)}function Yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ak(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yL(){return Math.random().toString(36).substr(2,8)}function DE(n,e){return{usr:n.state,key:n.key,idx:e}}function Ex(n,e,t,r){return t===void 0&&(t=null),vh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?_u(e):e,{state:t,key:e&&e.key||r||yL()})}function Bp(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _u(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function vL(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Wa.Pop,c=null,d=f();d==null&&(d=0,a.replaceState(vh({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){l=Wa.Pop;let T=f(),P=T==null?null:T-d;d=T,c&&c({action:l,location:w.location,delta:P})}function v(T,P){l=Wa.Push;let C=Ex(w.location,T,P);d=f()+1;let D=DE(C,d),B=w.createHref(C);try{a.pushState(D,"",B)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(B)}i&&c&&c({action:l,location:w.location,delta:1})}function b(T,P){l=Wa.Replace;let C=Ex(w.location,T,P);d=f();let D=DE(C,d),B=w.createHref(C);a.replaceState(D,"",B),i&&c&&c({action:l,location:w.location,delta:0})}function x(T){let P=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof T=="string"?T:Bp(T);return C=C.replace(/ $/,"%20"),Yt(P,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,P)}let w={get action(){return l},get location(){return n(s,a)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(AE,p),c=T,()=>{s.removeEventListener(AE,p),c=null}},createHref(T){return e(s,T)},createURL:x,encodeLocation(T){let P=x(T);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:b,go(T){return a.go(T)}};return w}var RE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(RE||(RE={}));function xL(n,e,t){return t===void 0&&(t="/"),wL(n,e,t)}function wL(n,e,t,r){let s=typeof e=="string"?_u(e):e,i=Jw(s.pathname||"/",t);if(i==null)return null;let a=ok(n);bL(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=RL(i);l=kL(a[c],d)}return l}function ok(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Yt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Ka([r,c.relativePath]),f=t.concat(c);i.children&&i.children.length>0&&(Yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ok(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:CL(d,i.index),routesMeta:f})};return n.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of lk(i.path))s(i,a,c)}),e}function lk(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=lk(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function bL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NL(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const _L=/^:[\w-]+$/,TL=3,EL=2,SL=1,IL=10,PL=-2,jE=n=>n==="*";function CL(n,e){let t=n.split("/"),r=t.length;return t.some(jE)&&(r+=PL),e&&(r+=EL),t.filter(s=>!jE(s)).reduce((s,i)=>s+(_L.test(i)?TL:i===""?SL:IL),r)}function NL(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function kL(n,e,t){let{routesMeta:r}=n,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=AL({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),v=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Ka([i,p.pathname]),pathnameBase:LL(Ka([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=Ka([i,p.pathnameBase]))}return a}function AL(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=DL(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:v,isOptional:b}=f;if(v==="*"){let w=l[p]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[p];return b&&!x?d[v]=void 0:d[v]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:n}}function DL(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ak(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function RL(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ak(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Jw(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function jL(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?_u(n):n;return{pathname:t?t.startsWith("/")?t:ML(t,e):e,search:VL(r),hash:FL(s)}}function ML(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function v0(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zw(n,e){let t=OL(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function eb(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=_u(n):(s=vh({},n),Yt(!s.pathname||!s.pathname.includes("?"),v0("?","pathname","search",s)),Yt(!s.pathname||!s.pathname.includes("#"),v0("#","pathname","hash",s)),Yt(!s.search||!s.search.includes("#"),v0("#","search","hash",s)));let i=n===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=t;else{let p=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;s.pathname=v.join("/")}l=p>=0?e[p]:"/"}let c=jL(s,l),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const Ka=n=>n.join("/").replace(/\/\/+/g,"/"),LL=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function BL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const ck=["post","put","patch","delete"];new Set(ck);const zL=["get",...ck];new Set(zL);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xh(){return xh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xh.apply(this,arguments)}const tb=F.createContext(null),UL=F.createContext(null),ho=F.createContext(null),$g=F.createContext(null),Zi=F.createContext({outlet:null,matches:[],isDataRoute:!1}),uk=F.createContext(null);function $L(n,e){let{relative:t}=e===void 0?{}:e;Tu()||Yt(!1);let{basename:r,navigator:s}=F.useContext(ho),{hash:i,pathname:a,search:l}=fk(n,{relative:t}),c=a;return r!=="/"&&(c=a==="/"?r:Ka([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Tu(){return F.useContext($g)!=null}function Eu(){return Tu()||Yt(!1),F.useContext($g).location}function dk(n){F.useContext(ho).static||F.useLayoutEffect(n)}function jl(){let{isDataRoute:n}=F.useContext(Zi);return n?nV():WL()}function WL(){Tu()||Yt(!1);let n=F.useContext(tb),{basename:e,future:t,navigator:r}=F.useContext(ho),{matches:s}=F.useContext(Zi),{pathname:i}=Eu(),a=JSON.stringify(Zw(s,t.v7_relativeSplatPath)),l=F.useRef(!1);return dk(()=>{l.current=!0}),F.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=eb(d,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ka([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,i,n])}function hk(){let{matches:n}=F.useContext(Zi),e=n[n.length-1];return e?e.params:{}}function fk(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=F.useContext(ho),{matches:s}=F.useContext(Zi),{pathname:i}=Eu(),a=JSON.stringify(Zw(s,r.v7_relativeSplatPath));return F.useMemo(()=>eb(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function HL(n,e){return qL(n,e)}function qL(n,e,t,r){Tu()||Yt(!1);let{navigator:s,static:i}=F.useContext(ho),{matches:a}=F.useContext(Zi),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Eu(),p;if(e){var v;let P=typeof e=="string"?_u(e):e;d==="/"||(v=P.pathname)!=null&&v.startsWith(d)||Yt(!1),p=P}else p=f;let b=p.pathname||"/",x=b;if(d!=="/"){let P=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=xL(n,{pathname:x}),T=QL(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Ka([d,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:Ka([d,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,r);return e&&T?F.createElement($g.Provider,{value:{location:xh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Wa.Pop}},T):T}function GL(){let n=tV(),e=BL(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:s},t):null,null)}const YL=F.createElement(GL,null);class KL extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(Zi.Provider,{value:this.props.routeContext},F.createElement(uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XL(n){let{routeContext:e,match:t,children:r}=n,s=F.useContext(tb);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Zi.Provider,{value:e},r)}function QL(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=(s=t)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||Yt(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:v,errors:b}=t,x=p.route.loader&&v[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,v)=>{let b,x=!1,w=null,T=null;t&&(b=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||YL,c&&(d<0&&v===0?(rV("route-fallback"),x=!0,T=null):d===v&&(x=!0,T=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,v+1)),C=()=>{let D;return b?D=w:x?D=T:p.route.Component?D=F.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=f,F.createElement(XL,{match:p,routeContext:{outlet:f,matches:P,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?F.createElement(KL,{location:t.location,revalidation:t.revalidation,component:w,error:b,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):C()},null)}var mk=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(mk||{}),pk=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(pk||{});function JL(n){let e=F.useContext(tb);return e||Yt(!1),e}function ZL(n){let e=F.useContext(UL);return e||Yt(!1),e}function eV(n){let e=F.useContext(Zi);return e||Yt(!1),e}function gk(n){let e=eV(),t=e.matches[e.matches.length-1];return t.route.id||Yt(!1),t.route.id}function tV(){var n;let e=F.useContext(uk),t=ZL(),r=gk();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function nV(){let{router:n}=JL(mk.UseNavigateStable),e=gk(pk.UseNavigateStable),t=F.useRef(!1);return dk(()=>{t.current=!0}),F.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,xh({fromRouteId:e},i)))},[n,e])}const ME={};function rV(n,e,t){ME[n]||(ME[n]=!0)}function sV(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function iV(n){let{to:e,replace:t,state:r,relative:s}=n;Tu()||Yt(!1);let{future:i,static:a}=F.useContext(ho),{matches:l}=F.useContext(Zi),{pathname:c}=Eu(),d=jl(),f=eb(e,Zw(l,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(f);return F.useEffect(()=>d(JSON.parse(p),{replace:t,state:r,relative:s}),[d,p,s,t,r]),null}function fn(n){Yt(!1)}function aV(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Wa.Pop,navigator:i,static:a=!1,future:l}=n;Tu()&&Yt(!1);let c=e.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:i,static:a,future:xh({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=_u(r));let{pathname:f="/",search:p="",hash:v="",state:b=null,key:x="default"}=r,w=F.useMemo(()=>{let T=Jw(f,c);return T==null?null:{location:{pathname:T,search:p,hash:v,state:b,key:x},navigationType:s}},[c,f,p,v,b,x,s]);return w==null?null:F.createElement(ho.Provider,{value:d},F.createElement($g.Provider,{children:t,value:w}))}function oV(n){let{children:e,location:t}=n;return HL(Sx(e),t)}new Promise(()=>{});function Sx(n,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(n,(r,s)=>{if(!F.isValidElement(r))return;let i=[...e,s];if(r.type===F.Fragment){t.push.apply(t,Sx(r.props.children,i));return}r.type!==fn&&Yt(!1),!r.props.index||!r.props.children||Yt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Sx(r.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ix(){return Ix=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ix.apply(this,arguments)}function lV(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function cV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uV(n,e){return n.button===0&&(!e||e==="_self")&&!cV(n)}const dV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hV="6";try{window.__reactRouterVersion=hV}catch{}const fV="startTransition",OE=Tx[fV];function mV(n){let{basename:e,children:t,future:r,window:s}=n,i=F.useRef();i.current==null&&(i.current=gL({window:s,v5Compat:!0}));let a=i.current,[l,c]=F.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},f=F.useCallback(p=>{d&&OE?OE(()=>c(p)):c(p)},[c,d]);return F.useLayoutEffect(()=>a.listen(f),[a,f]),F.useEffect(()=>sV(r),[r]),F.createElement(aV,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a,future:r})}const pV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=F.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:f,viewTransition:p}=e,v=lV(e,dV),{basename:b}=F.useContext(ho),x,w=!1;if(typeof d=="string"&&gV.test(d)&&(x=d,pV))try{let D=new URL(window.location.href),B=d.startsWith("//")?new URL(D.protocol+d):new URL(d),L=Jw(B.pathname,b);B.origin===D.origin&&L!=null?d=L+B.search+B.hash:w=!0}catch{}let T=$L(d,{relative:s}),P=yV(d,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:p});function C(D){r&&r(D),D.defaultPrevented||P(D)}return F.createElement("a",Ix({},v,{href:x||T,onClick:w||i?r:C,ref:t,target:c}))});var LE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(LE||(LE={}));var VE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(VE||(VE={}));function yV(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=jl(),d=Eu(),f=fk(n,{relative:a});return F.useCallback(p=>{if(uV(p,t)){p.preventDefault();let v=r!==void 0?r:Bp(d)===Bp(f);c(n,{replace:v,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,f,r,s,t,n,i,a,l])}var FE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},vV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],a=n[t++],l=n[t++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=n[t++],a=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},vk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],a=s+1<n.length,l=a?n[s+1]:0,c=s+2<n.length,d=c?n[s+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let v=(l&15)<<2|d>>6,b=d&63;c||(b=64,a||(v=64)),r.push(t[f],t[p],t[v],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const p=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||l==null||d==null||p==null)throw new xV;const v=i<<2|l>>4;if(r.push(v),d!==64){const b=l<<4&240|d>>2;if(r.push(b),p!==64){const x=d<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wV=function(n){const e=yk(n);return vk.encodeByteArray(e,!0)},zp=function(n){return wV(n).replace(/\./g,"")},xk=function(n){try{return vk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=()=>bV().__FIREBASE_DEFAULTS__,TV=()=>{if(typeof process>"u"||typeof FE>"u")return;const n=FE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xk(n[1]);return e&&JSON.parse(e)},Wg=()=>{try{return _V()||TV()||EV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wk=n=>{var e,t;return(t=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bk=n=>{const e=wk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_k=()=>{var n;return(n=Wg())===null||n===void 0?void 0:n.config},Tk=n=>{var e;return(e=Wg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zp(JSON.stringify(t)),zp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function PV(){var n;const e=(n=Wg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AV(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Sk(){return!PV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ik(){try{return typeof indexedDB=="object"}catch{return!1}}function DV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="FirebaseError";class mi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=RV,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zh.prototype.create)}}class Zh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?jV(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new mi(s,l,r)}}function jV(n,e){return n.replace(MV,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MV=/\{\$([^}]+)}/g;function OV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function su(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],a=e[s];if(BE(i)&&BE(a)){if(!su(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function BE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Md(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function LV(n,e){const t=new VV(n,e);return t.subscribe.bind(t)}class VV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FV(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=x0),s.error===void 0&&(s.error=x0),s.complete===void 0&&(s.complete=x0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function x0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n){return n&&n._delegate?n._delegate:n}class no{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new SV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UV(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zV(n){return n===Qo?void 0:n}function UV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const WV={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},HV=qe.INFO,qV={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},GV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=qV[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nb{constructor(e){this.name=e,this._logLevel=HV,this._logHandler=GV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const YV=(n,e)=>e.some(t=>n instanceof t);let zE,UE;function KV(){return zE||(zE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XV(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pk=new WeakMap,Px=new WeakMap,Ck=new WeakMap,w0=new WeakMap,rb=new WeakMap;function QV(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",a)},i=()=>{t(Xa(n.result)),s()},a=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Pk.set(t,n)}).catch(()=>{}),rb.set(e,n),e}function JV(n){if(Px.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",a),n.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",a),n.addEventListener("abort",a)});Px.set(n,e)}let Cx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Px.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ck.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZV(n){Cx=n(Cx)}function eF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(b0(this),e,...t);return Ck.set(r,e.sort?e.sort():[e]),Xa(r)}:XV().includes(n)?function(...e){return n.apply(b0(this),e),Xa(Pk.get(this))}:function(...e){return Xa(n.apply(b0(this),e))}}function tF(n){return typeof n=="function"?eF(n):(n instanceof IDBTransaction&&JV(n),YV(n,KV())?new Proxy(n,Cx):n)}function Xa(n){if(n instanceof IDBRequest)return QV(n);if(w0.has(n))return w0.get(n);const e=tF(n);return e!==n&&(w0.set(n,e),rb.set(e,n)),e}const b0=n=>rb.get(n);function nF(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(n,e),l=Xa(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Xa(a.result),c.oldVersion,c.newVersion,Xa(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const rF=["get","getKey","getAll","getAllKeys","count"],sF=["put","add","delete","clear"],_0=new Map;function $E(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_0.get(e))return _0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=sF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rF.includes(t)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),s&&c.done]))[0]};return _0.set(e,i),i}ZV(n=>({...n,get:(e,t,r)=>$E(e,t)||n.get(e,t,r),has:(e,t)=>!!$E(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aF(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function aF(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nx="@firebase/app",WE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new nb("@firebase/app"),oF="@firebase/app-compat",lF="@firebase/analytics-compat",cF="@firebase/analytics",uF="@firebase/app-check-compat",dF="@firebase/app-check",hF="@firebase/auth",fF="@firebase/auth-compat",mF="@firebase/database",pF="@firebase/data-connect",gF="@firebase/database-compat",yF="@firebase/functions",vF="@firebase/functions-compat",xF="@firebase/installations",wF="@firebase/installations-compat",bF="@firebase/messaging",_F="@firebase/messaging-compat",TF="@firebase/performance",EF="@firebase/performance-compat",SF="@firebase/remote-config",IF="@firebase/remote-config-compat",PF="@firebase/storage",CF="@firebase/storage-compat",NF="@firebase/firestore",kF="@firebase/vertexai-preview",AF="@firebase/firestore-compat",DF="firebase",RF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="[DEFAULT]",jF={[Nx]:"fire-core",[oF]:"fire-core-compat",[cF]:"fire-analytics",[lF]:"fire-analytics-compat",[dF]:"fire-app-check",[uF]:"fire-app-check-compat",[hF]:"fire-auth",[fF]:"fire-auth-compat",[mF]:"fire-rtdb",[pF]:"fire-data-connect",[gF]:"fire-rtdb-compat",[yF]:"fire-fn",[vF]:"fire-fn-compat",[xF]:"fire-iid",[wF]:"fire-iid-compat",[bF]:"fire-fcm",[_F]:"fire-fcm-compat",[TF]:"fire-perf",[EF]:"fire-perf-compat",[SF]:"fire-rc",[IF]:"fire-rc-compat",[PF]:"fire-gcs",[CF]:"fire-gcs-compat",[NF]:"fire-fst",[AF]:"fire-fst-compat",[kF]:"fire-vertex","fire-js":"fire-js",[DF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Map,MF=new Map,Ax=new Map;function HE(n,e){try{n.container.addComponent(e)}catch(t){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xl(n){const e=n.name;if(Ax.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;Ax.set(e,n);for(const t of Up.values())HE(t,n);for(const t of MF.values())HE(t,n);return!0}function Hg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ei(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Zh("app","Firebase",OF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=RF;function Nk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kx,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Qa.create("bad-app-name",{appName:String(s)});if(t||(t=_k()),!t)throw Qa.create("no-options");const i=Up.get(s);if(i){if(su(t,i.options)&&su(r,i.config))return i;throw Qa.create("duplicate-app",{appName:s})}const a=new $V(s);for(const c of Ax.values())a.addComponent(c);const l=new LF(t,r,a);return Up.set(s,l),l}function sb(n=kx){const e=Up.get(n);if(!e&&n===kx&&_k())return Nk();if(!e)throw Qa.create("no-app",{appName:n});return e}function ri(n,e,t){var r;let s=(r=jF[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(l.join(" "));return}xl(new no(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="firebase-heartbeat-database",FF=1,wh="firebase-heartbeat-store";let T0=null;function kk(){return T0||(T0=nF(VF,FF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qa.create("idb-open",{originalErrorMessage:n.message})})),T0}async function BF(n){try{const t=(await kk()).transaction(wh),r=await t.objectStore(wh).get(Ak(n));return await t.done,r}catch(e){if(e instanceof mi)Yi.warn(e.message);else{const t=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yi.warn(t.message)}}}async function qE(n,e){try{const r=(await kk()).transaction(wh,"readwrite");await r.objectStore(wh).put(e,Ak(n)),await r.done}catch(t){if(t instanceof mi)Yi.warn(t.message);else{const r=Qa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Yi.warn(r.message)}}}function Ak(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=1024,UF=30*24*60*60*1e3;class $F{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=UF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=GE(),{heartbeatsToSend:r,unsentEntries:s}=WF(this._heartbeatsCache.heartbeats),i=zp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Yi.warn(t),""}}}function GE(){return new Date().toISOString().substring(0,10)}function WF(n,e=zF){const t=[];let r=n.slice();for(const s of n){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),YE(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),YE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class HF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ik()?DV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function YE(n){return zp(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(n){xl(new no("platform-logger",e=>new iF(e),"PRIVATE")),xl(new no("heartbeat",e=>new $F(e),"PRIVATE")),ri(Nx,WE,n),ri(Nx,WE,"esm2017"),ri("fire-js","")}qF("");function ib(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Dk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GF=Dk,Rk=new Zh("auth","Firebase",Dk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new nb("@firebase/auth");function YF(n,...e){$p.logLevel<=qe.WARN&&$p.warn(`Auth (${Ml}): ${n}`,...e)}function gp(n,...e){$p.logLevel<=qe.ERROR&&$p.error(`Auth (${Ml}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,...e){throw ab(n,...e)}function si(n,...e){return ab(n,...e)}function jk(n,e,t){const r=Object.assign(Object.assign({},GF()),{[e]:t});return new Zh("auth","Firebase",r).create(e,{appName:n.name})}function Hi(n){return jk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ab(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Rk.create(n,...e)}function Oe(n,e,...t){if(!n)throw ab(e,...t)}function zi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gp(e),new Error(e)}function Ki(n,e){n||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KF(){return KE()==="http:"||KE()==="https:"}function KE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KF()||NV()||"connection"in navigator)?navigator.onLine:!0}function QF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ki(t>e,"Short delay should be less than long delay!"),this.isMobile=IV()||kV()}get(){return XF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n,e){Ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=new tf(3e4,6e4);function ea(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function pi(n,e,t,r,s={}){return Ok(n,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=ef(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:c},i);return CV()||(d.referrerPolicy="no-referrer"),Mk.fetch()(Lk(n,n.config.apiHost,t,l),d)})}async function Ok(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},JF),e);try{const s=new t4(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Vm(n,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vm(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Vm(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw Vm(n,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw jk(n,f,d);Ms(n,f)}}catch(s){if(s instanceof mi)throw s;Ms(n,"network-request-failed",{message:String(s)})}}async function nf(n,e,t,r,s={}){const i=await pi(n,e,t,r,s);return"mfaPendingCredential"in i&&Ms(n,"multi-factor-auth-required",{_serverResponse:i}),i}function Lk(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?ob(n.config,s):`${n.config.apiScheme}://${s}`}function e4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),ZF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=si(n,e,r);return s.customData._tokenResponse=t,s}function XE(n){return n!==void 0&&n.enterprise!==void 0}class n4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return e4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function r4(n,e){return pi(n,"GET","/v2/recaptchaConfig",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(n,e){return pi(n,"POST","/v1/accounts:delete",e)}async function Vk(n,e){return pi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i4(n,e=!1){const t=Kt(n),r=await t.getIdToken(e),s=lb(r);Oe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Jd(E0(s.auth_time)),issuedAtTime:Jd(E0(s.iat)),expirationTime:Jd(E0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function E0(n){return Number(n)*1e3}function lb(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gp("JWT malformed, contained fewer than 3 sections"),null;try{const s=xk(t);return s?JSON.parse(s):(gp("Failed to decode base64 JWT payload"),null)}catch(s){return gp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function QE(n){const e=lb(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof mi&&a4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function a4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jd(this.lastLoginAt),this.creationTime=Jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wp(n){var e;const t=n.auth,r=await n.getIdToken(),s=await iu(n,Vk(t,{idToken:r}));Oe(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Fk(i.providerUserInfo):[],l=c4(n.providerData,a),c=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),f=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Rx(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function l4(n){const e=Kt(n);await Wp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c4(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Fk(n){return n.map(e=>{var{providerId:t}=e,r=ib(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(n,e){const t=await Ok(n,{},async()=>{const r=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,a=Lk(n,s,"/v1/token",`key=${i}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Mk.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function d4(n,e){return pi(n,"POST","/v2/accounts:revokeToken",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=QE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await u4(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,a=new Xc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Oe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ui{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=ib(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return i4(this,e)}reload(){return l4(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await iu(this,s4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,a,l,c,d,f;const p=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(s=t.email)!==null&&s!==void 0?s:void 0,b=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,x=(a=t.photoURL)!==null&&a!==void 0?a:void 0,w=(l=t.tenantId)!==null&&l!==void 0?l:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,P=(d=t.createdAt)!==null&&d!==void 0?d:void 0,C=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:D,emailVerified:B,isAnonymous:L,providerData:U,stsTokenManager:M}=t;Oe(D&&M,e,"internal-error");const I=Xc.fromJSON(this.name,M);Oe(typeof D=="string",e,"internal-error"),ka(p,e.name),ka(v,e.name),Oe(typeof B=="boolean",e,"internal-error"),Oe(typeof L=="boolean",e,"internal-error"),ka(b,e.name),ka(x,e.name),ka(w,e.name),ka(T,e.name),ka(P,e.name),ka(C,e.name);const N=new Ui({uid:D,auth:e,email:v,emailVerified:B,displayName:p,isAnonymous:L,photoURL:x,phoneNumber:b,tenantId:w,stsTokenManager:I,createdAt:P,lastLoginAt:C});return U&&Array.isArray(U)&&(N.providerData=U.map(j=>Object.assign({},j))),T&&(N._redirectEventId=T),N}static async _fromIdTokenResponse(e,t,r=!1){const s=new Xc;s.updateFromServerResponse(t);const i=new Ui({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wp(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Fk(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Xc;l.updateFromIdToken(r);const c=new Ui({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Rx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;function $i(n){Ki(n instanceof Function,"Expected a class definition");let e=JE.get(n);return e?(Ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bk.type="NONE";const ZE=Bk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n,e,t){return`firebase:${n}:${e}:${t}`}class Qc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yp(this.userKey,s.apiKey,i),this.fullPersistenceKey=yp("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qc($i(ZE),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||$i(ZE);const a=yp(r,e.config.apiKey,e.name);let l=null;for(const d of t)try{const f=await d._get(a);if(f){const p=Ui._fromJSON(e,f);d!==i&&(l=p),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Qc(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(t.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Qc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qk(e))return"Blackberry";if(Gk(e))return"Webos";if(Uk(e))return"Safari";if((e.includes("chrome/")||$k(e))&&!e.includes("edge/"))return"Chrome";if(Hk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zk(n=sn()){return/firefox\//i.test(n)}function Uk(n=sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $k(n=sn()){return/crios\//i.test(n)}function Wk(n=sn()){return/iemobile/i.test(n)}function Hk(n=sn()){return/android/i.test(n)}function qk(n=sn()){return/blackberry/i.test(n)}function Gk(n=sn()){return/webos/i.test(n)}function cb(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function h4(n=sn()){var e;return cb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f4(){return AV()&&document.documentMode===10}function Yk(n=sn()){return cb(n)||Hk(n)||Gk(n)||qk(n)||/windows phone/i.test(n)||Wk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n,e=[]){let t;switch(n){case"Browser":t=eS(sn());break;case"Worker":t=`${eS(sn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(n,e={}){return pi(n,"GET","/v2/passwordPolicy",ea(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=6;class y4{constructor(e){var t,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:g4,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tS(this),this.idTokenSubscription=new tS(this),this.beforeStateQueue=new m4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Qc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vk(this,{idToken:e}),r=await Ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ei(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Hi(this));const t=e?Kt(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p4(this),t=new y4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await d4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$i(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Qc.create(this,[$i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&YF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fo(n){return Kt(n)}class tS{constructor(e){this.auth=e,this.observer=null,this.addObserver=LV(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x4(n){qg=n}function Xk(n){return qg.loadJS(n)}function w4(){return qg.recaptchaEnterpriseScript}function b4(){return qg.gapiScript}function _4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const T4="recaptcha-enterprise",E4="NO_RECAPTCHA";class S4{constructor(e){this.type=T4,this.auth=fo(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{r4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new n4(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;XE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(E4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!t&&XE(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=w4();c.length!==0&&(c+=l),Xk(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function nS(n,e,t,r=!1){const s=new S4(n);let i;try{i=await s.verify(t)}catch{i=await s.verify(t,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Hp(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await nS(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await nS(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(n,e){const t=Hg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(su(i,e??{}))return s;Ms(s,"already-initialized")}return t.initialize({options:e})}function P4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map($i);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function C4(n,e,t){const r=fo(n);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Qk(e),{host:a,port:l}=N4(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),k4()}function Qk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function N4(n){const e=Qk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:rS(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:rS(a)}}}function rS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function k4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,t){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function A4(n,e){return pi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(n,e){return nf(n,"POST","/v1/accounts:signInWithPassword",ea(n,e))}async function R4(n,e){return pi(n,"POST","/v1/accounts:sendOobCode",ea(n,e))}async function j4(n,e){return R4(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(n,e){return nf(n,"POST","/v1/accounts:signInWithEmailLink",ea(n,e))}async function O4(n,e){return nf(n,"POST","/v1/accounts:signInWithEmailLink",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends ub{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new bh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hp(e,t,"signInWithPassword",D4);case"emailLink":return M4(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hp(e,r,"signUpPassword",A4);case"emailLink":return O4(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n,e){return nf(n,"POST","/v1/accounts:signInWithIdp",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="http://localhost";class wl extends ub{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=ib(t,["providerId","signInMethod"]);if(!r||!s)return null;const a=new wl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Jc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jc(e,t)}buildRequest(){const e={requestUri:L4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ef(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F4(n){const e=jd(Md(n)).link,t=e?jd(Md(e)).deep_link_id:null,r=jd(Md(n)).deep_link_id;return(r?jd(Md(r)).link:null)||r||t||e||n}class db{constructor(e){var t,r,s,i,a,l;const c=jd(Md(e)),d=(t=c.apiKey)!==null&&t!==void 0?t:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,p=V4((s=c.mode)!==null&&s!==void 0?s:null);Oe(d&&f&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=f,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=F4(e);try{return new db(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.providerId=Su.PROVIDER_ID}static credential(e,t){return bh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=db.parseLink(t);return Oe(r,"argument-error"),bh._fromEmailAndCode(e,r.code,r.tenantId)}}Su.PROVIDER_ID="password";Su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Jk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends rf{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.FACEBOOK_SIGN_IN_METHOD="facebook.com";Va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fa.credential(t,r)}catch{return null}}}Fa.GOOGLE_SIGN_IN_METHOD="google.com";Fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends rf{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends rf{constructor(){super("twitter.com")}static credential(e,t){return wl._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return za.credential(t,r)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(n,e){return nf(n,"POST","/v1/accounts:signUp",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Ui._fromIdTokenResponse(e,r,s),a=sS(r);return new bl({user:i,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=sS(r);return new bl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function sS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends mi{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new qp(e,t,r,s)}}function Zk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(n,i,e,r):i})}async function z4(n,e,t=!1){const r=await iu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return bl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(n,e,t=!1){const{auth:r}=n;if(ei(r.app))return Promise.reject(Hi(r));const s="reauthenticate";try{const i=await iu(n,Zk(r,s,e,n),t);Oe(i.idToken,r,"internal-error");const a=lb(i.idToken);Oe(a,r,"internal-error");const{sub:l}=a;return Oe(n.uid===l,r,"user-mismatch"),bl._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ms(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(n,e,t=!1){if(ei(n.app))return Promise.reject(Hi(n));const r="signIn",s=await Zk(n,r,e),i=await bl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function $4(n,e){return eA(fo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(n){const e=fo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W4(n,e,t){const r=fo(n);await Hp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",j4)}async function H4(n,e,t){if(ei(n.app))return Promise.reject(Hi(n));const r=fo(n),a=await Hp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&tA(n),c}),l=await bl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function q4(n,e,t){return ei(n.app)?Promise.reject(Hi(n)):$4(Kt(n),Su.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tA(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(n,e){return pi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Kt(n),i={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await iu(r,G4(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(n,e){return Kt(n).setPersistence(e)}function K4(n,e,t,r){return Kt(n).onIdTokenChanged(e,t,r)}function X4(n,e,t){return Kt(n).beforeAuthStateChanged(e,t)}function Q4(n,e,t,r){return Kt(n).onAuthStateChanged(e,t,r)}function J4(n){return Kt(n).signOut()}const Gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=1e3,e5=10;class rA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);f4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,e5):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rA.type="LOCAL";const sA=rA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iA.type="SESSION";const aA=iA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(t.origin,i)),c=await t5(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=hb("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const v=p;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(v.data.response);break;default:clearTimeout(f),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function r5(n){ii().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function s5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function a5(){return oA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebaseLocalStorageDb",o5=1,Yp="firebaseLocalStorage",cA="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yg(n,e){return n.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function l5(){const n=indexedDB.deleteDatabase(lA);return new sf(n).toPromise()}function jx(){const n=indexedDB.open(lA,o5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Yp,{keyPath:cA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),await l5(),e(await jx()))})})}async function aS(n,e,t){const r=Yg(n,!0).put({[cA]:e,value:t});return new sf(r).toPromise()}async function c5(n,e){const t=Yg(n,!1).get(e),r=await new sf(t).toPromise();return r===void 0?null:r.value}function oS(n,e){const t=Yg(n,!0).delete(e);return new sf(t).toPromise()}const u5=800,d5=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jx(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>d5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gg._getInstance(a5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await s5(),!this.activeServiceWorker)return;this.sender=new n5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jx();return await aS(e,Gp,"1"),await oS(e,Gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>aS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>c5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yg(s,!1).getAll();return new sf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const h5=uA;new tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(n,e){return e?$i(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends ub{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function m5(n){return eA(n.auth,new fb(n),n.bypassAuthState)}function p5(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),U4(t,new fb(n),n.bypassAuthState)}async function g5(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),z4(t,new fb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m5;case"linkViaPopup":case"linkViaRedirect":return g5;case"reauthViaPopup":case"reauthViaRedirect":return p5;default:Ms(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new tf(2e3,1e4);class zc extends dA{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,zc.currentPopupAction&&zc.currentPopupAction.cancel(),zc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=hb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y5.get())};e()}}zc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="pendingRedirect",vp=new Map;class x5 extends dA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vp.get(this.auth._key());if(!e){try{const r=await w5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vp.set(this.auth._key(),e)}return this.bypassAuthState||vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w5(n,e){const t=T5(e),r=_5(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function b5(n,e){vp.set(n._key(),e)}function _5(n){return $i(n._redirectPersistence)}function T5(n){return yp(v5,n.config.apiKey,n.name)}async function E5(n,e,t=!1){if(ei(n.app))return Promise.reject(Hi(n));const r=fo(n),s=f5(r,e),a=await new x5(r,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=10*60*1e3;class I5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!hA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(si(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lS(e))}saveEventToCache(e){this.cachedEventUids.add(lS(e)),this.lastProcessedEventTime=Date.now()}}function lS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(n,e={}){return pi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k5=/^https?/;async function A5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await C5(n);for(const t of e)try{if(D5(t))return}catch{}Ms(n,"unauthorized-domain")}function D5(n){const e=Dx(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!k5.test(t))return!1;if(N5.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=new tf(3e4,6e4);function cS(){const n=ii().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function j5(n){return new Promise((e,t)=>{var r,s,i;function a(){cS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cS(),t(si(n,"network-request-failed"))},timeout:R5.get()})}if(!((s=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ii().gapi)===null||i===void 0)&&i.load)a();else{const l=_4("iframefcb");return ii()[l]=()=>{gapi.load?a():t(si(n,"network-request-failed"))},Xk(`${b4()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw xp=null,e})}let xp=null;function M5(n){return xp=xp||j5(n),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new tf(5e3,15e3),L5="__/auth/iframe",V5="emulator/auth/iframe",F5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z5(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ob(e,V5):`https://${n.config.authDomain}/${L5}`,r={apiKey:e.apiKey,appName:n.name,v:Ml},s=B5.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${ef(r).slice(1)}`}async function U5(n){const e=await M5(n),t=ii().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:z5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=si(n,"network-request-failed"),l=ii().setTimeout(()=>{i(a)},O5.get());function c(){ii().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W5=500,H5=600,q5="_blank",G5="http://localhost";class uS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y5(n,e,t,r=W5,s=H5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},$5),{width:r.toString(),height:s.toString(),top:i,left:a}),d=sn().toLowerCase();t&&(l=$k(d)?q5:t),zk(d)&&(e=e||G5,c.scrollbars="yes");const f=Object.entries(c).reduce((v,[b,x])=>`${v}${b}=${x},`,"");if(h4(d)&&l!=="_self")return K5(e||"",l),new uS(null);const p=window.open(e||"",l,f);Oe(p,n,"popup-blocked");try{p.focus()}catch{}return new uS(p)}function K5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="__/auth/handler",Q5="emulator/auth/handler",J5=encodeURIComponent("fac");async function dS(n,e,t,r,s,i){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ml,eventId:s};if(e instanceof Jk){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",OV(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof rf){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}n.tenantId&&(a.tid=n.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await n._getAppCheckToken(),d=c?`#${J5}=${encodeURIComponent(c)}`:"";return`${Z5(n)}?${ef(l).slice(1)}${d}`}function Z5({config:n}){return n.emulator?ob(n,Q5):`https://${n.authDomain}/${X5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="webStorageSupport";class e6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aA,this._completeRedirectFn=E5,this._overrideRedirectResult=b5}async _openPopup(e,t,r,s){var i;Ki((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await dS(e,t,r,Dx(),s);return Y5(e,a,hb())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await dS(e,t,r,Dx(),s);return r5(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Ki(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await U5(e),r=new I5(e);return t.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(S0,{type:S0},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[S0];a!==void 0&&t(!!a),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=A5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yk()||Uk()||cb()}}const t6=e6;var hS="@firebase/auth",fS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s6(n){xl(new no("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Oe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kk(n)},d=new v4(r,s,i,c);return P4(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xl(new no("auth-internal",e=>{const t=fo(e.getProvider("auth").getImmediate());return(r=>new n6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(hS,fS,r6(n)),ri(hS,fS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=5*60,a6=Tk("authIdTokenMaxAge")||i6;let mS=null;const o6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>a6)return;const s=t==null?void 0:t.token;mS!==s&&(mS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function l6(n=sb()){const e=Hg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=I4(n,{popupRedirectResolver:t6,persistence:[h5,sA,aA]}),r=Tk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=o6(i.toString());X4(t,a,()=>a(t.currentUser)),K4(t,l=>a(l))}}const s=wk("auth");return s&&C4(t,`http://${s}`),t}function c6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}x4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=si("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",c6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s6("Browser");var pS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fl,fA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function N(){}N.prototype=I.prototype,M.D=I.prototype,M.prototype=new N,M.prototype.constructor=M,M.C=function(j,A,O){for(var R=Array(arguments.length-2),G=2;G<arguments.length;G++)R[G-2]=arguments[G];return I.prototype[A].apply(j,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,I,N){N||(N=0);var j=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)j[A]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(A=0;16>A;++A)j[A]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=M.g[0],N=M.g[1],A=M.g[2];var O=M.g[3],R=I+(O^N&(A^O))+j[0]+3614090360&4294967295;I=N+(R<<7&4294967295|R>>>25),R=O+(A^I&(N^A))+j[1]+3905402710&4294967295,O=I+(R<<12&4294967295|R>>>20),R=A+(N^O&(I^N))+j[2]+606105819&4294967295,A=O+(R<<17&4294967295|R>>>15),R=N+(I^A&(O^I))+j[3]+3250441966&4294967295,N=A+(R<<22&4294967295|R>>>10),R=I+(O^N&(A^O))+j[4]+4118548399&4294967295,I=N+(R<<7&4294967295|R>>>25),R=O+(A^I&(N^A))+j[5]+1200080426&4294967295,O=I+(R<<12&4294967295|R>>>20),R=A+(N^O&(I^N))+j[6]+2821735955&4294967295,A=O+(R<<17&4294967295|R>>>15),R=N+(I^A&(O^I))+j[7]+4249261313&4294967295,N=A+(R<<22&4294967295|R>>>10),R=I+(O^N&(A^O))+j[8]+1770035416&4294967295,I=N+(R<<7&4294967295|R>>>25),R=O+(A^I&(N^A))+j[9]+2336552879&4294967295,O=I+(R<<12&4294967295|R>>>20),R=A+(N^O&(I^N))+j[10]+4294925233&4294967295,A=O+(R<<17&4294967295|R>>>15),R=N+(I^A&(O^I))+j[11]+2304563134&4294967295,N=A+(R<<22&4294967295|R>>>10),R=I+(O^N&(A^O))+j[12]+1804603682&4294967295,I=N+(R<<7&4294967295|R>>>25),R=O+(A^I&(N^A))+j[13]+4254626195&4294967295,O=I+(R<<12&4294967295|R>>>20),R=A+(N^O&(I^N))+j[14]+2792965006&4294967295,A=O+(R<<17&4294967295|R>>>15),R=N+(I^A&(O^I))+j[15]+1236535329&4294967295,N=A+(R<<22&4294967295|R>>>10),R=I+(A^O&(N^A))+j[1]+4129170786&4294967295,I=N+(R<<5&4294967295|R>>>27),R=O+(N^A&(I^N))+j[6]+3225465664&4294967295,O=I+(R<<9&4294967295|R>>>23),R=A+(I^N&(O^I))+j[11]+643717713&4294967295,A=O+(R<<14&4294967295|R>>>18),R=N+(O^I&(A^O))+j[0]+3921069994&4294967295,N=A+(R<<20&4294967295|R>>>12),R=I+(A^O&(N^A))+j[5]+3593408605&4294967295,I=N+(R<<5&4294967295|R>>>27),R=O+(N^A&(I^N))+j[10]+38016083&4294967295,O=I+(R<<9&4294967295|R>>>23),R=A+(I^N&(O^I))+j[15]+3634488961&4294967295,A=O+(R<<14&4294967295|R>>>18),R=N+(O^I&(A^O))+j[4]+3889429448&4294967295,N=A+(R<<20&4294967295|R>>>12),R=I+(A^O&(N^A))+j[9]+568446438&4294967295,I=N+(R<<5&4294967295|R>>>27),R=O+(N^A&(I^N))+j[14]+3275163606&4294967295,O=I+(R<<9&4294967295|R>>>23),R=A+(I^N&(O^I))+j[3]+4107603335&4294967295,A=O+(R<<14&4294967295|R>>>18),R=N+(O^I&(A^O))+j[8]+1163531501&4294967295,N=A+(R<<20&4294967295|R>>>12),R=I+(A^O&(N^A))+j[13]+2850285829&4294967295,I=N+(R<<5&4294967295|R>>>27),R=O+(N^A&(I^N))+j[2]+4243563512&4294967295,O=I+(R<<9&4294967295|R>>>23),R=A+(I^N&(O^I))+j[7]+1735328473&4294967295,A=O+(R<<14&4294967295|R>>>18),R=N+(O^I&(A^O))+j[12]+2368359562&4294967295,N=A+(R<<20&4294967295|R>>>12),R=I+(N^A^O)+j[5]+4294588738&4294967295,I=N+(R<<4&4294967295|R>>>28),R=O+(I^N^A)+j[8]+2272392833&4294967295,O=I+(R<<11&4294967295|R>>>21),R=A+(O^I^N)+j[11]+1839030562&4294967295,A=O+(R<<16&4294967295|R>>>16),R=N+(A^O^I)+j[14]+4259657740&4294967295,N=A+(R<<23&4294967295|R>>>9),R=I+(N^A^O)+j[1]+2763975236&4294967295,I=N+(R<<4&4294967295|R>>>28),R=O+(I^N^A)+j[4]+1272893353&4294967295,O=I+(R<<11&4294967295|R>>>21),R=A+(O^I^N)+j[7]+4139469664&4294967295,A=O+(R<<16&4294967295|R>>>16),R=N+(A^O^I)+j[10]+3200236656&4294967295,N=A+(R<<23&4294967295|R>>>9),R=I+(N^A^O)+j[13]+681279174&4294967295,I=N+(R<<4&4294967295|R>>>28),R=O+(I^N^A)+j[0]+3936430074&4294967295,O=I+(R<<11&4294967295|R>>>21),R=A+(O^I^N)+j[3]+3572445317&4294967295,A=O+(R<<16&4294967295|R>>>16),R=N+(A^O^I)+j[6]+76029189&4294967295,N=A+(R<<23&4294967295|R>>>9),R=I+(N^A^O)+j[9]+3654602809&4294967295,I=N+(R<<4&4294967295|R>>>28),R=O+(I^N^A)+j[12]+3873151461&4294967295,O=I+(R<<11&4294967295|R>>>21),R=A+(O^I^N)+j[15]+530742520&4294967295,A=O+(R<<16&4294967295|R>>>16),R=N+(A^O^I)+j[2]+3299628645&4294967295,N=A+(R<<23&4294967295|R>>>9),R=I+(A^(N|~O))+j[0]+4096336452&4294967295,I=N+(R<<6&4294967295|R>>>26),R=O+(N^(I|~A))+j[7]+1126891415&4294967295,O=I+(R<<10&4294967295|R>>>22),R=A+(I^(O|~N))+j[14]+2878612391&4294967295,A=O+(R<<15&4294967295|R>>>17),R=N+(O^(A|~I))+j[5]+4237533241&4294967295,N=A+(R<<21&4294967295|R>>>11),R=I+(A^(N|~O))+j[12]+1700485571&4294967295,I=N+(R<<6&4294967295|R>>>26),R=O+(N^(I|~A))+j[3]+2399980690&4294967295,O=I+(R<<10&4294967295|R>>>22),R=A+(I^(O|~N))+j[10]+4293915773&4294967295,A=O+(R<<15&4294967295|R>>>17),R=N+(O^(A|~I))+j[1]+2240044497&4294967295,N=A+(R<<21&4294967295|R>>>11),R=I+(A^(N|~O))+j[8]+1873313359&4294967295,I=N+(R<<6&4294967295|R>>>26),R=O+(N^(I|~A))+j[15]+4264355552&4294967295,O=I+(R<<10&4294967295|R>>>22),R=A+(I^(O|~N))+j[6]+2734768916&4294967295,A=O+(R<<15&4294967295|R>>>17),R=N+(O^(A|~I))+j[13]+1309151649&4294967295,N=A+(R<<21&4294967295|R>>>11),R=I+(A^(N|~O))+j[4]+4149444226&4294967295,I=N+(R<<6&4294967295|R>>>26),R=O+(N^(I|~A))+j[11]+3174756917&4294967295,O=I+(R<<10&4294967295|R>>>22),R=A+(I^(O|~N))+j[2]+718787259&4294967295,A=O+(R<<15&4294967295|R>>>17),R=N+(O^(A|~I))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+A&4294967295,M.g[3]=M.g[3]+O&4294967295}r.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var N=I-this.blockSize,j=this.B,A=this.h,O=0;O<I;){if(A==0)for(;O<=N;)s(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<I;)if(j[A++]=M.charCodeAt(O++),A==this.blockSize){s(this,j),A=0;break}}else for(;O<I;)if(j[A++]=M[O++],A==this.blockSize){s(this,j),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var N=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=N&255,N/=256;for(this.u(M),M=Array(16),I=N=0;4>I;++I)for(var j=0;32>j;j+=8)M[N++]=this.g[I]>>>j&255;return M};function i(M,I){var N=l;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=I(M)}function a(M,I){this.h=I;for(var N=[],j=!0,A=M.length-1;0<=A;A--){var O=M[A]|0;j&&O==I||(N[A]=O,j=!1)}this.g=N}var l={};function c(M){return-128<=M&&128>M?i(M,function(I){return new a([I|0],0>I?-1:0)}):new a([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return p;if(0>M)return T(d(-M));for(var I=[],N=1,j=0;M>=N;j++)I[j]=M/N|0,N*=4294967296;return new a(I,0)}function f(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return T(f(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(I,8)),j=p,A=0;A<M.length;A+=8){var O=Math.min(8,M.length-A),R=parseInt(M.substring(A,A+O),I);8>O?(O=d(Math.pow(I,O)),j=j.j(O).add(d(R))):(j=j.j(N),j=j.add(d(R)))}return j}var p=c(0),v=c(1),b=c(16777216);n=a.prototype,n.m=function(){if(w(this))return-T(this).m();for(var M=0,I=1,N=0;N<this.g.length;N++){var j=this.i(N);M+=(0<=j?j:4294967296+j)*I,I*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(w(this))return"-"+T(this).toString(M);for(var I=d(Math.pow(M,6)),N=this,j="";;){var A=B(N,I).g;N=P(N,A.j(I));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(M);if(N=A,x(N))return O+j;for(;6>O.length;)O="0"+O;j=O+j}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function w(M){return M.h==-1}n.l=function(M){return M=P(this,M),w(M)?-1:x(M)?0:1};function T(M){for(var I=M.g.length,N=[],j=0;j<I;j++)N[j]=~M.g[j];return new a(N,~M.h).add(v)}n.abs=function(){return w(this)?T(this):this},n.add=function(M){for(var I=Math.max(this.g.length,M.g.length),N=[],j=0,A=0;A<=I;A++){var O=j+(this.i(A)&65535)+(M.i(A)&65535),R=(O>>>16)+(this.i(A)>>>16)+(M.i(A)>>>16);j=R>>>16,O&=65535,R&=65535,N[A]=R<<16|O}return new a(N,N[N.length-1]&-2147483648?-1:0)};function P(M,I){return M.add(T(I))}n.j=function(M){if(x(this)||x(M))return p;if(w(this))return w(M)?T(this).j(T(M)):T(T(this).j(M));if(w(M))return T(this.j(T(M)));if(0>this.l(b)&&0>M.l(b))return d(this.m()*M.m());for(var I=this.g.length+M.g.length,N=[],j=0;j<2*I;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(var A=0;A<M.g.length;A++){var O=this.i(j)>>>16,R=this.i(j)&65535,G=M.i(A)>>>16,J=M.i(A)&65535;N[2*j+2*A]+=R*J,C(N,2*j+2*A),N[2*j+2*A+1]+=O*J,C(N,2*j+2*A+1),N[2*j+2*A+1]+=R*G,C(N,2*j+2*A+1),N[2*j+2*A+2]+=O*G,C(N,2*j+2*A+2)}for(j=0;j<I;j++)N[j]=N[2*j+1]<<16|N[2*j];for(j=I;j<2*I;j++)N[j]=0;return new a(N,0)};function C(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function D(M,I){this.g=M,this.h=I}function B(M,I){if(x(I))throw Error("division by zero");if(x(M))return new D(p,p);if(w(M))return I=B(T(M),I),new D(T(I.g),T(I.h));if(w(I))return I=B(M,T(I)),new D(T(I.g),I.h);if(30<M.g.length){if(w(M)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var N=v,j=I;0>=j.l(M);)N=L(N),j=L(j);var A=U(N,1),O=U(j,1);for(j=U(j,2),N=U(N,2);!x(j);){var R=O.add(j);0>=R.l(M)&&(A=A.add(N),O=R),j=U(j,1),N=U(N,1)}return I=P(M,A.j(I)),new D(A,I)}for(A=p;0<=M.l(I);){for(N=Math.max(1,Math.floor(M.m()/I.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),O=d(N),R=O.j(I);w(R)||0<R.l(M);)N-=j,O=d(N),R=O.j(I);x(O)&&(O=v),A=A.add(O),M=P(M,R)}return new D(A,M)}n.A=function(M){return B(this,M).h},n.and=function(M){for(var I=Math.max(this.g.length,M.g.length),N=[],j=0;j<I;j++)N[j]=this.i(j)&M.i(j);return new a(N,this.h&M.h)},n.or=function(M){for(var I=Math.max(this.g.length,M.g.length),N=[],j=0;j<I;j++)N[j]=this.i(j)|M.i(j);return new a(N,this.h|M.h)},n.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),N=[],j=0;j<I;j++)N[j]=this.i(j)^M.i(j);return new a(N,this.h^M.h)};function L(M){for(var I=M.g.length+1,N=[],j=0;j<I;j++)N[j]=M.i(j)<<1|M.i(j-1)>>>31;return new a(N,M.h)}function U(M,I){var N=I>>5;I%=32;for(var j=M.g.length-N,A=[],O=0;O<j;O++)A[O]=0<I?M.i(O+N)>>>I|M.i(O+N+1)<<32-I:M.i(O+N);return new a(A,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fA=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,fl=a}).apply(typeof pS<"u"?pS:typeof self<"u"?self:typeof window<"u"?window:{});var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mA,Od,pA,wp,Mx,gA,yA,vA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,k){return g==Array.prototype||g==Object.prototype||(g[E]=k.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fm=="object"&&Fm];for(var E=0;E<g.length;++E){var k=g[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function s(g,E){if(E)e:{var k=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var Y=g[z];if(!(Y in k))break e;k=k[Y]}g=g[g.length-1],z=k[g],E=E(z),E!=z&&E!=null&&e(k,g,{configurable:!0,writable:!0,value:E})}}function i(g,E){g instanceof String&&(g+="");var k=0,z=!1,Y={next:function(){if(!z&&k<g.length){var ne=k++;return{value:E(ne,g[ne]),done:!1}}return z=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(g){return g||function(){return i(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function d(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function f(g,E,k){return g.call.apply(g.bind,arguments)}function p(g,E,k){if(!g)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,z),g.apply(E,Y)}}return function(){return g.apply(E,arguments)}}function v(g,E,k){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,v.apply(null,arguments)}function b(g,E){var k=Array.prototype.slice.call(arguments,1);return function(){var z=k.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function x(g,E){function k(){}k.prototype=E.prototype,g.aa=E.prototype,g.prototype=new k,g.prototype.constructor=g,g.Qb=function(z,Y,ne){for(var ve=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)ve[ot-2]=arguments[ot];return E.prototype[Y].apply(z,ve)}}function w(g){const E=g.length;if(0<E){const k=Array(E);for(let z=0;z<E;z++)k[z]=g[z];return k}return[]}function T(g,E){for(let k=1;k<arguments.length;k++){const z=arguments[k];if(c(z)){const Y=g.length||0,ne=z.length||0;g.length=Y+ne;for(let ve=0;ve<ne;ve++)g[Y+ve]=z[ve]}else g.push(z)}}class P{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function C(g){return/^[\s\xa0]*$/.test(g)}function D(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function B(g){return B[" "](g),g}B[" "]=function(){};var L=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function U(g,E,k){for(const z in g)E.call(k,g[z],z,g)}function M(g,E){for(const k in g)E.call(void 0,g[k],k,g)}function I(g){const E={};for(const k in g)E[k]=g[k];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(g,E){let k,z;for(let Y=1;Y<arguments.length;Y++){z=arguments[Y];for(k in z)g[k]=z[k];for(let ne=0;ne<N.length;ne++)k=N[ne],Object.prototype.hasOwnProperty.call(z,k)&&(g[k]=z[k])}}function A(g){var E=1;g=g.split(":");const k=[];for(;0<E&&g.length;)k.push(g.shift()),E--;return g.length&&k.push(g.join(":")),k}function O(g){l.setTimeout(()=>{throw g},0)}function R(){var g=ce;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class G{constructor(){this.h=this.g=null}add(E,k){const z=J.get();z.set(E,k),this.h?this.h.next=z:this.g=z,this.h=z}}var J=new P(()=>new ie,g=>g.reset());class ie{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ee=!1,ce=new G,se=()=>{const g=l.Promise.resolve(void 0);ue=()=>{g.then(H)}};var H=()=>{for(var g;g=R();){try{g.h.call(g.g)}catch(k){O(k)}var E=J;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}ee=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};l.addEventListener("test",k,E),l.removeEventListener("test",k,E)}catch{}return g}();function re(g,E){if(be.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var k=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(L){e:{try{B(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else k=="mouseover"?E=g.fromElement:k=="mouseout"&&(E=g.toElement);this.relatedTarget=E,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:le[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&re.aa.h.call(this)}}x(re,be);var le={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Se=0;function De(g,E,k,z,Y){this.listener=g,this.proxy=null,this.src=E,this.type=k,this.capture=!!z,this.ha=Y,this.key=++Se,this.da=this.fa=!1}function tt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Vt(g){this.src=g,this.g={},this.h=0}Vt.prototype.add=function(g,E,k,z,Y){var ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);var ve=$t(g,E,z,Y);return-1<ve?(E=g[ve],k||(E.fa=!1)):(E=new De(E,this.src,ne,!!z,Y),E.fa=k,g.push(E)),E};function Ut(g,E){var k=E.type;if(k in g.g){var z=g.g[k],Y=Array.prototype.indexOf.call(z,E,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(z,Y,1),ne&&(tt(E),g.g[k].length==0&&(delete g.g[k],g.h--))}}function $t(g,E,k,z){for(var Y=0;Y<g.length;++Y){var ne=g[Y];if(!ne.da&&ne.listener==E&&ne.capture==!!k&&ne.ha==z)return Y}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),St={};function It(g,E,k,z,Y){if(Array.isArray(E)){for(var ne=0;ne<E.length;ne++)It(g,E[ne],k,z,Y);return null}return k=gs(k),g&&g[he]?g.K(E,k,d(z)?!!z.capture:!1,Y):qn(g,E,k,!1,z,Y)}function qn(g,E,k,z,Y,ne){if(!E)throw Error("Invalid event type");var ve=d(Y)?!!Y.capture:!!Y,ot=Er(g);if(ot||(g[Be]=ot=new Vt(g)),k=ot.add(E,k,z,ve,ne),k.proxy)return k;if(z=ir(),k.proxy=z,z.src=g,z.listener=k,g.addEventListener)Ee||(Y=ve),Y===void 0&&(Y=!1),g.addEventListener(E.toString(),z,Y);else if(g.attachEvent)g.attachEvent(Rn(E.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return k}function ir(){function g(k){return E.call(g.src,g.listener,k)}const E=ps;return g}function An(g,E,k,z,Y){if(Array.isArray(E))for(var ne=0;ne<E.length;ne++)An(g,E[ne],k,z,Y);else z=d(z)?!!z.capture:!!z,k=gs(k),g&&g[he]?(g=g.i,E=String(E).toString(),E in g.g&&(ne=g.g[E],k=$t(ne,k,z,Y),-1<k&&(tt(ne[k]),Array.prototype.splice.call(ne,k,1),ne.length==0&&(delete g.g[E],g.h--)))):g&&(g=Er(g))&&(E=g.g[E.toString()],g=-1,E&&(g=$t(E,k,z,Y)),(k=-1<g?E[g]:null)&&Dn(k))}function Dn(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[he])Ut(E.i,g);else{var k=g.type,z=g.proxy;E.removeEventListener?E.removeEventListener(k,z,g.capture):E.detachEvent?E.detachEvent(Rn(k),z):E.addListener&&E.removeListener&&E.removeListener(z),(k=Er(E))?(Ut(k,g),k.h==0&&(k.src=null,E[Be]=null)):tt(g)}}}function Rn(g){return g in St?St[g]:St[g]="on"+g}function ps(g,E){if(g.da)g=!0;else{E=new re(E,this);var k=g.listener,z=g.ha||g.src;g.fa&&Dn(g),g=k.call(z,E)}return g}function Er(g){return g=g[Be],g instanceof Vt?g:null}var qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function gs(g){return typeof g=="function"?g:(g[qr]||(g[qr]=function(E){return g.handleEvent(E)}),g[qr])}function yt(){te.call(this),this.i=new Vt(this),this.M=this,this.F=null}x(yt,te),yt.prototype[he]=!0,yt.prototype.removeEventListener=function(g,E,k,z){An(this,g,E,k,z)};function dt(g,E){var k,z=g.F;if(z)for(k=[];z;z=z.F)k.push(z);if(g=g.M,z=E.type||E,typeof E=="string")E=new be(E,g);else if(E instanceof be)E.target=E.target||g;else{var Y=E;E=new be(z,g),j(E,Y)}if(Y=!0,k)for(var ne=k.length-1;0<=ne;ne--){var ve=E.g=k[ne];Y=ar(ve,z,!0,E)&&Y}if(ve=E.g=g,Y=ar(ve,z,!0,E)&&Y,Y=ar(ve,z,!1,E)&&Y,k)for(ne=0;ne<k.length;ne++)ve=E.g=k[ne],Y=ar(ve,z,!1,E)&&Y}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var k=g.g[E],z=0;z<k.length;z++)tt(k[z]);delete g.g[E],g.h--}}this.F=null},yt.prototype.K=function(g,E,k,z){return this.i.add(String(g),E,!1,k,z)},yt.prototype.L=function(g,E,k,z){return this.i.add(String(g),E,!0,k,z)};function ar(g,E,k,z){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ne=0;ne<E.length;++ne){var ve=E[ne];if(ve&&!ve.da&&ve.capture==k){var ot=ve.listener,en=ve.ha||ve.src;ve.fa&&Ut(g.i,ve),Y=ot.call(en,z)!==!1&&Y}}return Y&&!z.defaultPrevented}function Gn(g,E,k){if(typeof g=="function")k&&(g=v(g,k));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(g,E||0)}function ys(g){g.g=Gn(()=>{g.g=null,g.i&&(g.i=!1,ys(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Os extends te{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ys(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(g){te.call(this),this.h=g,this.g={}}x(yi,te);var Ls=[];function ra(g){U(g.g,function(E,k){this.g.hasOwnProperty(k)&&Dn(E)},g),g.g={}}yi.prototype.N=function(){yi.aa.N.call(this),ra(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _o=l.JSON.stringify,sa=l.JSON.parse,ia=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function vs(){}vs.prototype.h=null;function aa(g){return g.h||(g.h=g.i())}function vi(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){be.call(this,"d")}x(Sr,be);function Wt(){be.call(this,"c")}x(Wt,be);var vt={},Vs=null;function nt(){return Vs=Vs||new yt}vt.La="serverreachability";function jn(g){be.call(this,vt.La,g)}x(jn,be);function xs(g){const E=nt();dt(E,new jn(E))}vt.STAT_EVENT="statevent";function xi(g,E){be.call(this,vt.STAT_EVENT,g),this.stat=E}x(xi,be);function Pt(g){const E=nt();dt(E,new xi(E,g))}vt.Ma="timingevent";function wi(g,E){be.call(this,vt.Ma,g),this.size=E}x(wi,be);function Yn(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},E)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function ws(g,E,k,z,Y,ne){g.info(function(){if(g.g)if(ne)for(var ve="",ot=ne.split("&"),en=0;en<ot.length;en++){var Xe=ot[en].split("=");if(1<Xe.length){var ln=Xe[0];Xe=Xe[1];var Xt=ln.split("_");ve=2<=Xt.length&&Xt[1]=="type"?ve+(ln+"="+Xe+"&"):ve+(ln+"=redacted&")}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+z+") [attempt "+Y+"]: "+E+`
`+k+`
`+ve})}function Fs(g,E,k,z,Y,ne,ve){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Y+"]: "+E+`
`+k+`
`+ne+" "+ve})}function Kn(g,E,k,z){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Eo(g,k)+(z?" "+z:"")})}function To(g,E){g.info(function(){return"TIMEOUT: "+E})}Gr.prototype.info=function(){};function Eo(g,E){if(!g.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(g=0;g<k.length;g++)if(Array.isArray(k[g])){var z=k[g];if(!(2>z.length)){var Y=z[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return _o(k)}catch{return E}}var bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function ze(){}x(ze,vs),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Ir=new ze;function Ke(g,E,k,z){this.j=g,this.i=E,this.l=k,this.R=z||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var wn={},on={};function Bs(g,E,k){g.L=1,g.v=da(Cr(E)),g.m=k,g.P=!0,So(g,null)}function So(g,E){g.F=Date.now(),mt(g),g.A=Cr(g.v);var k=g.A,z=g.R;Array.isArray(z)||(z=[String(z)]),fa(k.i,"t",z),g.C=0,k=g.j.J,g.h=new xt,g.g=Uf(g.j,k?E:null,!g.m),0<g.O&&(g.M=new Os(v(g.Y,g,g.g),g.O)),E=g.U,k=g.g,z=g.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ls[0]=Y.toString()),Y=Ls);for(var ne=0;ne<Y.length;ne++){var ve=It(k,Y[ne],z||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),xs(),ws(g.i,g.u,g.A,g.l,g.R,g.m)}Ke.prototype.ca=function(g){g=g.target;const E=this.M;E&&cr(g)==3?E.j():this.Y(g)},Ke.prototype.Y=function(g){try{if(g==this.g)e:{const Xt=cr(this.g);var E=this.g.Ba();const Xr=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||Xt!=4||E==7||(E==8||0>=Xr?xs(3):xs(2)),Io(this);var k=this.g.Z();this.X=k;t:if(Gl(this)){var z=$u(this.g);g="";var Y=z.length,ne=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),oa(this);var ve="";break t}this.h.i=new l.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,g+=this.h.i.decode(z[E],{stream:!(ne&&E==Y-1)});z.length=0,this.h.g+=g,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=k==200,Fs(this.i,this.u,this.A,this.l,this.R,Xt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,en=this.g;if((ot=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(ot)){var Xe=ot;break t}}Xe=null}if(k=Xe)Kn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vu(this,k);else{this.o=!1,this.s=3,Pt(12),Yr(this),oa(this);break e}}if(this.P){k=!0;let kr;for(;!this.J&&this.C<ve.length;)if(kr=Uy(this,ve),kr==on){Xt==4&&(this.s=4,Pt(14),k=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==wn){this.s=4,Pt(15),Kn(this.i,this.l,ve,"[Invalid Chunk]"),k=!1;break}else Kn(this.i,this.l,kr,null),Vu(this,kr);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||ve.length!=0||this.h.h||(this.s=1,Pt(16),k=!1),this.o=this.o&&k,!k)Kn(this.i,this.l,ve,"[Invalid Chunked Response]"),Yr(this),oa(this);else if(0<ve.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Hu(ln),ln.M=!0,Pt(11))}}else Kn(this.i,this.l,ve,null),Vu(this,ve);Xt==4&&Yr(this),this.o&&!this.J&&(Xt==4?sc(this.j,this):(this.o=!1,mt(this)))}else Zl(this.g),k==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Yr(this),oa(this)}}}catch{}finally{}};function Gl(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Uy(g,E){var k=g.C,z=E.indexOf(`
`,k);return z==-1?on:(k=Number(E.substring(k,z)),isNaN(k)?wn:(z+=1,z+k>E.length?on:(E=E.slice(z,z+k),g.C=z+k,E)))}Ke.prototype.cancel=function(){this.J=!0,Yr(this)};function mt(g){g.S=Date.now()+g.I,If(g,g.I)}function If(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Yn(v(g.ba,g),E)}function Io(g){g.B&&(l.clearTimeout(g.B),g.B=null)}Ke.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(To(this.i,this.A),this.L!=2&&(xs(),Pt(17)),Yr(this),this.s=2,oa(this)):If(this,this.S-g)};function oa(g){g.j.G==0||g.J||sc(g.j,g)}function Yr(g){Io(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,ra(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function Vu(g,E){try{var k=g.j;if(k.G!=0&&(k.g==g||Xn(k.h,g))){if(!g.K&&Xn(k.h,g)&&k.G==3){try{var z=k.Da.g.parse(E)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Y=z;if(Y[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<g.F)rc(k),Ss(k);else break e;nc(k),Pt(18)}}else k.za=Y[1],0<k.za-k.T&&37500>Y[2]&&k.F&&k.v==0&&!k.C&&(k.C=Yn(v(k.Za,k),6e3));if(1>=Cf(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Ii(k,11)}else if((g.K||k.g==g)&&rc(k),!C(E))for(Y=k.Da.g.parse(E),E=0;E<Y.length;E++){let Xe=Y[E];if(k.T=Xe[0],Xe=Xe[1],k.G==2)if(Xe[0]=="c"){k.K=Xe[1],k.ia=Xe[2];const ln=Xe[3];ln!=null&&(k.la=ln,k.j.info("VER="+k.la));const Xt=Xe[4];Xt!=null&&(k.Aa=Xt,k.j.info("SVER="+k.Aa));const Xr=Xe[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(z=1.5*Xr,k.L=z,k.j.info("backChannelRequestTimeoutMs_="+z)),z=k;const kr=g.g;if(kr){const Ro=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ro){var ne=z.h;ne.g||Ro.indexOf("spdy")==-1&&Ro.indexOf("quic")==-1&&Ro.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Fu(ne,ne.h),ne.h=null))}if(z.D){const ac=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;ac&&(z.ya=ac,ft(z.I,z.D,ac))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-g.F,k.j.info("Handshake RTT: "+k.R+"ms")),z=k;var ve=g;if(z.qa=zf(z,z.J?z.ia:null,z.W),ve.K){Nf(z.h,ve);var ot=ve,en=z.L;en&&(ot.I=en),ot.B&&(Io(ot),mt(ot)),z.g=ve}else Do(z);0<k.i.length&&Ws(k)}else Xe[0]!="stop"&&Xe[0]!="close"||Ii(k,7);else k.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ii(k,7):_n(k):Xe[0]!="noop"&&k.l&&k.l.ta(Xe),k.v=0)}}xs(4)}catch{}}var Pf=class{constructor(g,E){this.g=g,this.map=E}};function Po(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pr(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Cf(g){return g.h?1:g.g?g.g.size:0}function Xn(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function Fu(g,E){g.g?g.g.add(E):g.h=E}function Nf(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Po.prototype.cancel=function(){if(this.i=kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function kf(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const k of g.g.values())E=E.concat(k.D);return E}return w(g.i)}function Yl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var E=[],k=g.length,z=0;z<k;z++)E.push(g[z]);return E}E=[],k=0;for(z in g)E[k++]=g[z];return E}function Kl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var E=[];g=g.length;for(var k=0;k<g;k++)E.push(k);return E}E=[],k=0;for(const z in g)E[k++]=z;return E}}}function la(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var k=Kl(g),z=Yl(g),Y=z.length,ne=0;ne<Y;ne++)E.call(void 0,z[ne],k&&k[ne],g)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $y(g,E){if(g){g=g.split("&");for(var k=0;k<g.length;k++){var z=g[k].indexOf("="),Y=null;if(0<=z){var ne=g[k].substring(0,z);Y=g[k].substring(z+1)}else ne=g[k];E(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function _i(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof _i){this.h=g.h,No(this,g.j),this.o=g.o,this.g=g.g,ca(this,g.s),this.l=g.l;var E=g.i,k=new zs;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),ua(this,k),this.m=g.m}else g&&(E=String(g).match(Co))?(this.h=!1,No(this,E[1]||"",!0),this.o=Ye(E[2]||""),this.g=Ye(E[3]||"",!0),ca(this,E[4]),this.l=Ye(E[5]||"",!0),ua(this,E[6]||"",!0),this.m=Ye(E[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}_i.prototype.toString=function(){var g=[],E=this.j;E&&g.push(ha(E,Xl,!0),":");var k=this.g;return(k||E=="file")&&(g.push("//"),(E=this.o)&&g.push(ha(E,Xl,!0),"@"),g.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&g.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(ha(k,k.charAt(0)=="/"?Rf:Df,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",ha(k,Bu)),g.join("")};function Cr(g){return new _i(g)}function No(g,E,k){g.j=k?Ye(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function ca(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function ua(g,E,k){E instanceof zs?(g.i=E,Us(g.i,g.h)):(k||(E=ha(E,jf)),g.i=new zs(E,g.h))}function ft(g,E,k){g.i.set(E,k)}function da(g){return ft(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ye(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ha(g,E,k){return typeof g=="string"?(g=encodeURI(g).replace(E,Af),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Af(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Xl=/[#\/\?@]/g,Df=/[#\?:]/g,Rf=/[#\?]/g,jf=/[#\?@]/g,Bu=/#/g;function zs(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function bn(g){g.g||(g.g=new Map,g.h=0,g.i&&$y(g.i,function(E,k){g.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}n=zs.prototype,n.add=function(g,E){bn(this),this.i=null,g=Kr(this,g);var k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(E),this.h+=1,this};function bs(g,E){bn(g),E=Kr(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function _s(g,E){return bn(g),E=Kr(g,E),g.g.has(E)}n.forEach=function(g,E){bn(this),this.g.forEach(function(k,z){k.forEach(function(Y){g.call(E,Y,z,this)},this)},this)},n.na=function(){bn(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let z=0;z<E.length;z++){const Y=g[z];for(let ne=0;ne<Y.length;ne++)k.push(E[z])}return k},n.V=function(g){bn(this);let E=[];if(typeof g=="string")_s(this,g)&&(E=E.concat(this.g.get(Kr(this,g))));else{g=Array.from(this.g.values());for(let k=0;k<g.length;k++)E=E.concat(g[k])}return E},n.set=function(g,E){return bn(this),this.i=null,g=Kr(this,g),_s(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},n.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function fa(g,E,k){bs(g,E),0<k.length&&(g.i=null,g.g.set(Kr(g,E),w(k)),g.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var z=E[k];const ne=encodeURIComponent(String(z)),ve=this.V(z);for(z=0;z<ve.length;z++){var Y=ne;ve[z]!==""&&(Y+="="+encodeURIComponent(String(ve[z]))),g.push(Y)}}return this.i=g.join("&")};function Kr(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function Us(g,E){E&&!g.j&&(bn(g),g.i=null,g.g.forEach(function(k,z){var Y=z.toLowerCase();z!=Y&&(bs(this,z),fa(this,Y,k))},g)),g.j=E}function Wy(g,E){const k=new Gr;if(l.Image){const z=new Image;z.onload=b(lr,k,"TestLoadImage: loaded",!0,E,z),z.onerror=b(lr,k,"TestLoadImage: error",!1,E,z),z.onabort=b(lr,k,"TestLoadImage: abort",!1,E,z),z.ontimeout=b(lr,k,"TestLoadImage: timeout",!1,E,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else E(!1)}function Mf(g,E){const k=new Gr,z=new AbortController,Y=setTimeout(()=>{z.abort(),lr(k,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:z.signal}).then(ne=>{clearTimeout(Y),ne.ok?lr(k,"TestPingServer: ok",!0,E):lr(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),lr(k,"TestPingServer: error",!1,E)})}function lr(g,E,k,z,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),z(k)}catch{}}function Hy(){this.g=new ia}function Of(g,E,k){const z=k||"";try{la(g,function(Y,ne){let ve=Y;d(Y)&&(ve=_o(Y)),E.push(z+ne+"="+encodeURIComponent(ve))})}catch(Y){throw E.push(z+"type="+encodeURIComponent("_badmap")),Y}}function Ti(g){this.l=g.Ub||null,this.j=g.eb||!1}x(Ti,vs),Ti.prototype.g=function(){return new ko(this.l,this.j)},Ti.prototype.i=function(g){return function(){return g}}({});function ko(g,E){yt.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ko,yt),n=ko.prototype,n.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,Es(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Ts(this):Es(this),this.readyState==3&&Lf(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ts(this))},n.Qa=function(g){this.g&&(this.response=g,Ts(this))},n.ga=function(){this.g&&Ts(this)};function Ts(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Es(g)}n.setRequestHeader=function(g,E){this.u.append(g,E)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=E.next();return g.join(`\r
`)};function Es(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ei(g){let E="";return U(g,function(k,z){E+=z,E+=":",E+=k,E+=`\r
`}),E}function ma(g,E,k){e:{for(z in k){var z=!1;break e}z=!0}z||(k=Ei(k),typeof g=="string"?k!=null&&encodeURIComponent(String(k)):ft(g,E,k))}function Ct(g){yt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ct,yt);var qy=/^https?$/i,zu=["POST","PUT"];n=Ct.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,E,k,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?aa(this.o):aa(Ir),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(ne){Ao(this,ne);return}if(g=k||"",k=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Y in z)k.set(Y,z[Y]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())k.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(k.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(zu,E,void 0))||z||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of k)this.g.setRequestHeader(ne,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jl(this),this.u=!0,this.g.send(g),this.u=!1}catch(ne){Ao(this,ne)}};function Ao(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,Ql(g),Nr(g)}function Ql(g){g.A||(g.A=!0,dt(g,"complete"),dt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,dt(this,"complete"),dt(this,"abort"),Nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Uu(this):this.bb())},n.bb=function(){Uu(this)};function Uu(g){if(g.h&&typeof a<"u"&&(!g.v[1]||cr(g)!=4||g.Z()!=2)){if(g.u&&cr(g)==4)Gn(g.Ea,0,g);else if(dt(g,"readystatechange"),cr(g)==4){g.h=!1;try{const ve=g.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var z;if(z=ve===0){var Y=String(g.D).match(Co)[1]||null;!Y&&l.self&&l.self.location&&(Y=l.self.location.protocol.slice(0,-1)),z=!qy.test(Y?Y.toLowerCase():"")}k=z}if(k)dt(g,"complete"),dt(g,"success");else{g.m=6;try{var ne=2<cr(g)?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.Z()+"]",Ql(g)}}finally{Nr(g)}}}}function Nr(g,E){if(g.g){Jl(g);const k=g.g,z=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||dt(g,"ready");try{k.onreadystatechange=z}catch{}}}function Jl(g){g.I&&(l.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function cr(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),sa(E)}};function $u(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Zl(g){const E={};g=(g.g&&2<=cr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(C(g[z]))continue;var k=A(g[z]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ne=E[Y]||[];E[Y]=ne,ne.push(k)}M(E,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(g,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||E}function Wu(g){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,g),this.cb=$s("retryDelaySeedMs",1e4,g),this.Wa=$s("forwardChannelMaxRetries",2,g),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Po(g&&g.concurrentRequestLimit),this.Da=new Hy,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wu.prototype,n.la=8,n.G=1,n.connect=function(g,E,k,z){Pt(0),this.W=g,this.H=E||{},k&&z!==void 0&&(this.H.OSID=k,this.H.OAID=z),this.F=this.X,this.I=zf(this,null,this.W),Ws(this)};function _n(g){if(ec(g),g.G==3){var E=g.U++,k=Cr(g.I);if(ft(k,"SID",g.K),ft(k,"RID",E),ft(k,"TYPE","terminate"),Si(g,k),E=new Ke(g,g.j,E),E.L=2,E.v=da(Cr(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&l.Image&&(new Image().src=E.v,k=!0),k||(E.g=Uf(E.j,null),E.g.ea(E.v)),E.F=Date.now(),mt(E)}Bf(g)}function Ss(g){g.g&&(Hu(g),g.g.cancel(),g.g=null)}function ec(g){Ss(g),g.u&&(l.clearTimeout(g.u),g.u=null),rc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function Ws(g){if(!Pr(g.h)&&!g.s){g.s=!0;var E=g.Ga;ue||se(),ee||(ue(),ee=!0),ce.add(E,g),g.B=0}}function Gy(g,E){return Cf(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Yn(v(g.Ga,g,E),Ff(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Y=new Ke(this,this.j,g);let ne=this.o;if(this.S&&(ne?(ne=I(ne),j(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var z=this.i[k];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(E+=z,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=pa(this,Y,E),k=Cr(this.I),ft(k,"RID",g),ft(k,"CVER",22),this.D&&ft(k,"X-HTTP-Session-Id",this.D),Si(this,k),ne&&(this.O?E="headers="+encodeURIComponent(String(Ei(ne)))+"&"+E:this.m&&ma(k,this.m,ne)),Fu(this.h,Y),this.Ua&&ft(k,"TYPE","init"),this.P?(ft(k,"$req",E),ft(k,"SID","null"),Y.T=!0,Bs(Y,k,null)):Bs(Y,k,E),this.G=2}}else this.G==3&&(g?tc(this,g):this.i.length==0||Pr(this.h)||tc(this))};function tc(g,E){var k;E?k=E.l:k=g.U++;const z=Cr(g.I);ft(z,"SID",g.K),ft(z,"RID",k),ft(z,"AID",g.T),Si(g,z),g.m&&g.o&&ma(z,g.m,g.o),k=new Ke(g,g.j,k,g.B+1),g.m===null&&(k.H=g.o),E&&(g.i=E.D.concat(g.i)),E=pa(g,k,1e3),k.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Fu(g.h,k),Bs(k,z,E)}function Si(g,E){g.H&&U(g.H,function(k,z){ft(E,z,k)}),g.l&&la({},function(k,z){ft(E,z,k)})}function pa(g,E,k){k=Math.min(g.i.length,k);var z=g.l?v(g.l.Na,g.l,g):null;e:{var Y=g.i;let ne=-1;for(;;){const ve=["count="+k];ne==-1?0<k?(ne=Y[0].g,ve.push("ofs="+ne)):ne=0:ve.push("ofs="+ne);let ot=!0;for(let en=0;en<k;en++){let Xe=Y[en].g;const ln=Y[en].map;if(Xe-=ne,0>Xe)ne=Math.max(0,Y[en].g-100),ot=!1;else try{Of(ln,ve,"req"+Xe+"_")}catch{z&&z(ln)}}if(ot){z=ve.join("&");break e}}}return g=g.i.splice(0,k),E.D=g,z}function Do(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;ue||se(),ee||(ue(),ee=!0),ce.add(E,g),g.v=0}}function nc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Yn(v(g.Fa,g),Ff(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Vf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Yn(v(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Ss(this),Vf(this))};function Hu(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function Vf(g){g.g=new Ke(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=Cr(g.qa);ft(E,"RID","rpc"),ft(E,"SID",g.K),ft(E,"AID",g.T),ft(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&ft(E,"TO",g.ja),ft(E,"TYPE","xmlhttp"),Si(g,E),g.m&&g.o&&ma(E,g.m,g.o),g.L&&(g.g.I=g.L);var k=g.g;g=g.ia,k.L=1,k.v=da(Cr(E)),k.m=null,k.P=!0,So(k,g)}n.Za=function(){this.C!=null&&(this.C=null,Ss(this),nc(this),Pt(19))};function rc(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function sc(g,E){var k=null;if(g.g==E){rc(g),Hu(g),g.g=null;var z=2}else if(Xn(g.h,E))k=E.D,Nf(g.h,E),z=1;else return;if(g.G!=0){if(E.o)if(z==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var Y=g.B;z=nt(),dt(z,new wi(z,k)),Ws(g)}else Do(g);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(z==1&&Gy(g,E)||z==2&&nc(g)))switch(k&&0<k.length&&(E=g.h,E.i=E.i.concat(k)),Y){case 1:Ii(g,5);break;case 4:Ii(g,10);break;case 3:Ii(g,6);break;default:Ii(g,2)}}}function Ff(g,E){let k=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(k*=2),k*E}function Ii(g,E){if(g.j.info("Error code "+E),E==2){var k=v(g.fb,g),z=g.Xa;const Y=!z;z=new _i(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||No(z,"https"),da(z),Y?Wy(z.toString(),k):Mf(z.toString(),k)}else Pt(2);g.G=0,g.l&&g.l.sa(E),Bf(g),ec(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Bf(g){if(g.G=0,g.ka=[],g.l){const E=kf(g.h);(E.length!=0||g.i.length!=0)&&(T(g.ka,E),T(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function zf(g,E,k){var z=k instanceof _i?Cr(k):new _i(k);if(z.g!="")E&&(z.g=E+"."+z.g),ca(z,z.s);else{var Y=l.location;z=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new _i(null);z&&No(ne,z),E&&(ne.g=E),Y&&ca(ne,Y),k&&(ne.l=k),z=ne}return k=g.D,E=g.ya,k&&E&&ft(z,k,E),ft(z,"VER",g.la),Si(g,z),z}function Uf(g,E,k){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new Ct(new Ti({eb:k})):new Ct(g.pa),E.Ha(g.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}n=qu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ic(){}ic.prototype.g=function(g,E){return new Qn(g,E)};function Qn(g,E){yt.call(this),this.g=new Wu(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!C(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!C(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Hs(this)}x(Qn,yt),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){_n(this.g)},Qn.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.u&&(k={},k.__data__=_o(g),g=k);E.i.push(new Pf(E.Ya++,g)),E.G==3&&Ws(E)},Qn.prototype.N=function(){this.g.l=null,delete this.j,_n(this.g),delete this.g,Qn.aa.N.call(this)};function $f(g){Sr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const k in E){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}x($f,Sr);function Wf(){Wt.call(this),this.status=1}x(Wf,Wt);function Hs(g){this.g=g}x(Hs,qu),Hs.prototype.ua=function(){dt(this.g,"a")},Hs.prototype.ta=function(g){dt(this.g,new $f(g))},Hs.prototype.sa=function(g){dt(this.g,new Wf)},Hs.prototype.ra=function(){dt(this.g,"b")},ic.prototype.createWebChannel=ic.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,vA=function(){return new ic},yA=function(){return nt()},gA=vt,Mx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,wp=bi,ql.COMPLETE="complete",pA=ql,vi.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Od=vi,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,mA=Ct}).apply(typeof Fm<"u"?Fm:typeof self<"u"?self:typeof window<"u"?window:{});const gS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new nb("@firebase/firestore");function jc(){return _l.logLevel}function ge(n,...e){if(_l.logLevel<=qe.DEBUG){const t=e.map(mb);_l.debug(`Firestore (${Iu}): ${n}`,...t)}}function er(n,...e){if(_l.logLevel<=qe.ERROR){const t=e.map(mb);_l.error(`Firestore (${Iu}): ${n}`,...t)}}function Tl(n,...e){if(_l.logLevel<=qe.WARN){const t=e.map(mb);_l.warn(`Firestore (${Iu}): ${n}`,...t)}}function mb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: `+n;throw er(e),new Error(e)}function ke(n,e){n||Ce()}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class d6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h6{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ke(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let i=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ai,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ai)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new xA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new In(e)}}class f6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class m6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new f6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ke(this.o===void 0);const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke(typeof t.token=="string"),this.R=t.token,new p6(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=y6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function au(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function bA(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Lt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Lt(0,0))}static max(){return new Ae(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ce(),r===void 0?r=e.length-t:r>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _h.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),a=t.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class st extends _h{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new st(t)}static emptyPath(){return new st([])}}const v6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends _h{construct(e,t,r){return new Mt(e,t,r)}static isValidIdentifier(e){return v6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new xe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new xe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new xe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(st.fromString(e))}static fromName(e){return new we(st.fromString(e).popFirst(5))}static empty(){return new we(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Ox(n){return n.fields.find(e=>e.kind===2)}function Jo(n){return n.fields.filter(e=>e.kind!==2)}Kp.UNKNOWN_ID=-1;class bp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Th{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Th(0,Wr.min())}}function x6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new Lt(t+1,0):new Lt(t,r));return new Wr(s,we.empty(),e)}function _A(n){return new Wr(n.readTime,n.key,-1)}class Wr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Wr(Ae.min(),we.empty(),-1)}static max(){return new Wr(Ae.max(),we.empty(),-1)}}function pb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==TA)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&t()},c=>r(c))}),a=!0,i===s&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(s=>s?X.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new X((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;t(e[d]).next(f=>{a[d]=f,++l,l===i&&r(a)},f=>s(f))}})}static doWhile(e,t){return new X((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ai,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Zd(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=gb(r.target.error);this.V.reject(new Zd(e,s))}}static open(e,t,r,s){try{return new Kg(t,e.transaction(s,r))}catch(i){throw new Zd(t,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new b6(t)}}class Ja{constructor(e,t,r){this.name=e,this.version=t,this.p=r,Ja.S(sn())===12.2&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ge("SimpleDb","Removing database:",e),sl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ik())return!1;if(Ja.v())return!0;const e=sn(),t=Ja.S(e),r=0<t&&t<10,s=SA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(ge("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;t(a)},s.onblocked=()=>{r(new Zd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new xe(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new xe(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Zd(e,a))},s.onupgradeneeded=i=>{ge("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.p.O(a,s.transaction,i.oldVersion,this.version).next(()=>{ge("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const l=Kg.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),X.reject(d))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&a<3;if(ge("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function SA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class w6{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return sl(this.B.delete())}}class Zd extends xe{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mo(n){return n.name==="IndexedDbTransactionError"}class b6{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sl(r)}add(e){return ge("SimpleDb","ADD",this.store.name,e,e),sl(this.store.add(e))}get(e){return sl(this.store.get(e)).next(t=>(t===void 0&&(t=null),ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ge("SimpleDb","DELETE",this.store.name,e),sl(this.store.delete(e))}count(){return ge("SimpleDb","COUNT",this.store.name),sl(this.store.count())}U(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new X((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}})}{const i=this.cursor(r),a=[];return this.W(i,(l,c)=>{a.push(c)}).next(()=>a)}}G(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}j(e,t){ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const s=this.cursor(r);return this.W(s,(i,a,l)=>l.delete())}J(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Y(e){const t=this.cursor({});return new X((r,s)=>{t.onerror=i=>{const a=gb(i.target.error);s(a)},t.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():r()}):r()}})}W(e,t){const r=[];return new X((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void s();const c=new w6(l),d=t(l.primaryKey,l.value,c);if(d instanceof X){const f=d.catch(p=>(c.done(),X.reject(p)));r.push(f)}c.isDone?s():c.K===null?l.continue():l.continue(c.K)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sl(n){return new X((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=gb(r.target.error);t(s)}})}let yS=!1;function gb(n){const e=Ja.S(sn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yS||(yS=!0,setTimeout(()=>{throw r},0)),r}}return n}class _6{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){ge("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ge("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){mo(t)?ge("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await Ol(t)}await this.X(6e4)})}}class T6{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const r=new Set;let s=t,i=!0;return X.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return ge("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,s).next(l=>{s-=l,r.add(a)});i=!1})).next(()=>t-s)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(s,i)).next(l=>(ge("IndexBackfiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,t,l))).next(()=>a.size)}))}re(e,t){let r=e;return t.changes.forEach((s,i)=>{const a=_A(i);pb(a,r)>0&&(r=a)}),new Wr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}as.oe=-1;function Xg(n){return n==null}function Eh(n){return n===0&&1/n==-1/0}function E6(n){return typeof n=="number"&&Number.isInteger(n)&&!Eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vS(e)),e=S6(n.get(t),e);return vS(e)}function S6(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case"":t+="";break;default:t+=i}}return t}function vS(n){return n+""}function ti(n){const e=n.length;if(ke(e>=2),e===2)return ke(n.charAt(0)===""&&n.charAt(1)===""),st.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const a=n.indexOf("",i);switch((a<0||a>t)&&Ce(),n.charAt(a+1)){case"":const l=n.substring(i,a);let c;s.length===0?c=l:(s+=l,c=s,s=""),r.push(c);break;case"":s+=n.substring(i,a),s+="\0";break;case"":s+=n.substring(i,a+1);break;default:Ce()}i=a+2}return new st(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n,e){return[n,nr(e)]}function IA(n,e,t){return[n,nr(e),t]}const I6={},P6=["prefixPath","collectionGroup","readTime","documentId"],C6=["prefixPath","collectionGroup","documentId"],N6=["collectionGroup","readTime","prefixPath","documentId"],k6=["canonicalId","targetId"],A6=["targetId","path"],D6=["path","targetId"],R6=["collectionId","parent"],j6=["indexId","uid"],M6=["uid","sequenceNumber"],O6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],L6=["indexId","uid","orderedDocumentKey"],V6=["userId","collectionPath","documentId"],F6=["userId","collectionPath","largestBatchId"],B6=["userId","collectionGroup","largestBatchId"],PA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],z6=[...PA,"documentOverlays"],CA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NA=CA,yb=[...NA,"indexConfiguration","indexState","indexEntries"],U6=yb,$6=[...yb,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends EA{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function an(n,e){const t=Fe(n);return Ja.F(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ll(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||Pn.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bm(this.root,e,this.comparator,!0)}}class Bm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Pn.RED,this.left=s??Pn.EMPTY,this.right=i??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Pn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,r,s,i){return this}insert(e,t,r){return new Pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bS(this.data.getIterator())}getIteratorFrom(e){return new bS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ht(this.comparator);return t.data=e,t}}class bS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pc(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new wr([])}unionWith(e){let t=new ht(Mt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new AA("Invalid base64 string: "+i):i}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const W6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(n){if(ke(!!n),typeof n=="string"){let e=0;const t=W6.exec(n);if(ke(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ro(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function xb(n){const e=n.mapValue.fields.__previous_value__;return vb(e)?xb(e):e}function Sh(n){const e=Xi(n.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,t,r,s,i,a,l,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class El{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new El("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tp={nullValue:"NULL_VALUE"};function Sl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vb(n)?4:DA(n)?9007199254740991:Qg(n)?10:11:Ce()}function di(n,e){if(n===e)return!0;const t=Sl(n);if(t!==Sl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sh(n).isEqual(Sh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Xi(s.timestampValue),l=Xi(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return ro(s.bytesValue).isEqual(ro(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return kt(s.geoPointValue.latitude)===kt(i.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return kt(s.integerValue)===kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=kt(s.doubleValue),l=kt(i.doubleValue);return a===l?Eh(a)===Eh(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return au(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(wS(a)!==wS(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!di(a[c],l[c])))return!1;return!0}(n,e);default:return Ce()}}function Ih(n,e){return(n.values||[]).find(t=>di(t,e))!==void 0}function so(n,e){if(n===e)return 0;const t=Sl(n),r=Sl(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=kt(i.integerValue||i.doubleValue),c=kt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return _S(n.timestampValue,e.timestampValue);case 4:return _S(Sh(n),Sh(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(i,a){const l=ro(i),c=ro(a);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=Ue(l[d],c[d]);if(f!==0)return f}return Ue(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ue(kt(i.latitude),kt(a.latitude));return l!==0?l:Ue(kt(i.longitude),kt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return TS(n.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,d,f;const p=i.fields||{},v=a.fields||{},b=(l=p.value)===null||l===void 0?void 0:l.arrayValue,x=(c=v.value)===null||c===void 0?void 0:c.arrayValue,w=Ue(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:TS(b,x)}(n.mapValue,e.mapValue);case 11:return function(i,a){if(i===Ha.mapValue&&a===Ha.mapValue)return 0;if(i===Ha.mapValue)return 1;if(a===Ha.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const v=Ue(c[p],f[p]);if(v!==0)return v;const b=so(l[c[p]],d[f[p]]);if(b!==0)return b}return Ue(c.length,f.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function _S(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Xi(n),r=Xi(e),s=Ue(t.seconds,r.seconds);return s!==0?s:Ue(t.nanos,r.nanos)}function TS(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=so(t[s],r[s]);if(i)return i}return Ue(t.length,r.length)}function ou(n){return Vx(n)}function Vx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ro(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=Vx(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Vx(t.fields[a])}`;return s+"}"}(n.mapValue):Ce()}function Ph(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fx(n){return!!n&&"integerValue"in n}function Ch(n){return!!n&&"arrayValue"in n}function ES(n){return!!n&&"nullValue"in n}function SS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ep(n){return!!n&&"mapValue"in n}function Qg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function eh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ll(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const RA={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function q6(n){return"nullValue"in n?Tp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ph(El.empty(),we.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Qg(n)?RA:{mapValue:{}}:Ce()}function G6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ph(El.empty(),we.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?RA:"mapValue"in n?Qg(n)?{mapValue:{}}:Ha:Ce()}function IS(n,e){const t=so(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function PS(n,e){const t=so(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ep(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eh(t)}setAll(e){let t=Mt.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,r,s),r={},s=[],t=l.popLast()}a?r[l.lastSegment()]=eh(a):s.push(l.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Ep(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Ep(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ll(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Un(eh(this.value))}}function jA(n){const e=[];return Ll(n.fields,(t,r)=>{const s=new Mt([t]);if(Ep(r)){const i=jA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,r,s,i,a,l){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new zt(e,0,Ae.min(),Ae.min(),Ae.min(),Un.empty(),0)}static newFoundDocument(e,t,r,s){return new zt(e,1,t,Ae.min(),r,s,0)}static newNoDocument(e,t){return new zt(e,2,t,Ae.min(),Ae.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ae.min(),Ae.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.position=e,this.inclusive=t}}function CS(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],a=n.position[s];if(i.field.isKeyField()?r=we.comparator(we.fromName(a.referenceValue),t.key):r=so(a,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function NS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MA=class{};class Ge extends MA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new K6(e,t,r):t==="array-contains"?new J6(e,r):t==="in"?new zA(e,r):t==="not-in"?new Z6(e,r):t==="array-contains-any"?new e3(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new X6(e,r):new Q6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(so(t,this.value)):t!==null&&Sl(this.value)===Sl(t)&&this.matchesComparison(so(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ut extends MA{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ut(e,t)}matches(e){return cu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cu(n){return n.op==="and"}function Bx(n){return n.op==="or"}function wb(n){return OA(n)&&cu(n)}function OA(n){for(const e of n.filters)if(e instanceof ut)return!1;return!0}function zx(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+ou(n.value);if(wb(n))return n.filters.map(e=>zx(e)).join(",");{const e=n.filters.map(t=>zx(t)).join(",");return`${n.op}(${e})`}}function LA(n,e){return n instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&di(r.value,s.value)}(n,e):n instanceof ut?function(r,s){return s instanceof ut&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&LA(a,s.filters[l]),!0):!1}(n,e):void Ce()}function VA(n,e){const t=n.filters.concat(e);return ut.create(t,n.op)}function FA(n){return n instanceof Ge?function(t){return`${t.field.canonicalString()} ${t.op} ${ou(t.value)}`}(n):n instanceof ut?function(t){return t.op.toString()+" {"+t.getFilters().map(FA).join(" ,")+"}"}(n):"Filter"}class K6 extends Ge{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class X6 extends Ge{constructor(e,t){super(e,"in",t),this.keys=BA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Q6 extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=BA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}class J6 extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ch(t)&&Ih(t.arrayValue,this.value)}}class zA extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ih(this.value.arrayValue,t)}}class Z6 extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ih(this.value.arrayValue,t)}}class e3 extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ch(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ih(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function Ux(n,e=null,t=[],r=[],s=null,i=null,a=null){return new t3(n,e,t,r,s,i,a)}function Il(n){const e=Fe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ou(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ou(r)).join(",")),e.ue=t}return e.ue}function af(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NS(n.startAt,e.startAt)&&NS(n.endAt,e.endAt)}function Xp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Qp(n,e){return n.filters.filter(t=>t instanceof Ge&&t.field.isEqual(e))}function kS(n,e,t){let r=Tp,s=!0;for(const i of Qp(n,e)){let a=Tp,l=!0;switch(i.op){case"<":case"<=":a=q6(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,l=!1;break;case"!=":case"not-in":a=Tp}IS({value:r,inclusive:s},{value:a,inclusive:l})<0&&(r=a,s=l)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const a=t.position[i];IS({value:r,inclusive:s},{value:a,inclusive:t.inclusive})<0&&(r=a,s=t.inclusive);break}}return{value:r,inclusive:s}}function AS(n,e,t){let r=Ha,s=!0;for(const i of Qp(n,e)){let a=Ha,l=!0;switch(i.op){case">=":case">":a=G6(i.value),l=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,l=!1;break;case"!=":case"not-in":a=Ha}PS({value:r,inclusive:s},{value:a,inclusive:l})>0&&(r=a,s=l)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const a=t.position[i];PS({value:r,inclusive:s},{value:a,inclusive:t.inclusive})>0&&(r=a,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function n3(n,e,t,r,s,i,a,l){return new Pu(n,e,t,r,s,i,a,l)}function Jg(n){return new Pu(n)}function DS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UA(n){return n.collectionGroup!==null}function th(n){const e=Fe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ht(Mt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Nh(i,r))}),t.has(Mt.keyField().canonicalString())||e.ce.push(new Nh(Mt.keyField(),r))}return e.ce}function cs(n){const e=Fe(n);return e.le||(e.le=r3(e,th(n))),e.le}function r3(n,e){if(n.limitType==="F")return Ux(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Nh(s.field,i)});const t=n.endAt?new lu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lu(n.startAt.position,n.startAt.inclusive):null;return Ux(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $x(n,e){const t=n.filters.concat([e]);return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Jp(n,e,t){return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zg(n,e){return af(cs(n),cs(e))&&n.limitType===e.limitType}function $A(n){return`${Il(cs(n))}|lt:${n.limitType}`}function Mc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>FA(s)).join(", ")}]`),Xg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ou(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ou(s)).join(",")),`Target(${r})`}(cs(n))}; limitType=${n.limitType})`}function of(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):we.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of th(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=CS(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,th(r),s)||r.endAt&&!function(a,l,c){const d=CS(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,th(r),s))}(n,e)}function s3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WA(n){return(e,t)=>{let r=!1;for(const s of th(n)){const i=i3(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function i3(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?so(c,d):Ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ll(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new At(we.comparator);function Vr(){return a3}const HA=new At(we.comparator);function Ld(...n){let e=HA;for(const t of n)e=e.insert(t.key,t);return e}function qA(n){let e=HA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ni(){return nh()}function GA(){return nh()}function nh(){return new po(n=>n.toString(),(n,e)=>n.isEqual(e))}const o3=new At(we.comparator),l3=new ht(we.comparator);function We(...n){let e=l3;for(const t of n)e=e.add(t);return e}const c3=new ht(Ue);function u3(){return c3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function YA(n){return{integerValue:""+n}}function d3(n,e){return E6(e)?YA(e):bb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this._=void 0}}function h3(n,e,t){return n instanceof uu?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&vb(i)&&(i=xb(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Pl?XA(n,e):n instanceof Cl?QA(n,e):function(s,i){const a=KA(s,i),l=RS(a)+RS(s.Pe);return Fx(a)&&Fx(s.Pe)?YA(l):bb(s.serializer,l)}(n,e)}function f3(n,e,t){return n instanceof Pl?XA(n,e):n instanceof Cl?QA(n,e):t}function KA(n,e){return n instanceof kh?function(r){return Fx(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class uu extends ey{}class Pl extends ey{constructor(e){super(),this.elements=e}}function XA(n,e){const t=JA(e);for(const r of n.elements)t.some(s=>di(s,r))||t.push(r);return{arrayValue:{values:t}}}class Cl extends ey{constructor(e){super(),this.elements=e}}function QA(n,e){let t=JA(e);for(const r of n.elements)t=t.filter(s=>!di(s,r));return{arrayValue:{values:t}}}class kh extends ey{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function RS(n){return kt(n.integerValue||n.doubleValue)}function JA(n){return Ch(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t){this.field=e,this.transform=t}}function m3(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Pl&&s instanceof Pl||r instanceof Cl&&s instanceof Cl?au(r.elements,s.elements,di):r instanceof kh&&s instanceof kh?di(r.Pe,s.Pe):r instanceof uu&&s instanceof uu}(n.transform,e.transform)}class p3{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ny{}function ZA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ry(n.key,$n.none()):new Cu(n.key,n.data,$n.none());{const t=n.data,r=Un.empty();let s=new ht(Mt.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ta(n.key,r,new wr(s.toArray()),$n.none())}}function g3(n,e,t){n instanceof Cu?function(s,i,a){const l=s.value.clone(),c=MS(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof ta?function(s,i,a){if(!Sp(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=MS(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(e2(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function rh(n,e,t,r){return n instanceof Cu?function(i,a,l,c){if(!Sp(i.precondition,a))return l;const d=i.value.clone(),f=OS(i.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof ta?function(i,a,l,c){if(!Sp(i.precondition,a))return l;const d=OS(i.fieldTransforms,c,a),f=a.data;return f.setAll(e2(i)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(i,a,l){return Sp(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(n,e,t)}function y3(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=KA(r.transform,s||null);i!=null&&(t===null&&(t=Un.empty()),t.set(r.field,i))}return t||null}function jS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&au(r,s,(i,a)=>m3(i,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cu extends ny{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ta extends ny{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function e2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function MS(n,e,t){const r=new Map;ke(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,f3(a,l,t[s]))}return r}function OS(n,e,t){const r=new Map;for(const s of n){const i=s.transform,a=t.data.field(s.field);r.set(s.field,h3(i,a,e))}return r}class ry extends ny{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t2 extends ny{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&g3(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GA();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=t.has(s.key)?null:l;const c=ZA(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,(t,r)=>jS(t,r))&&au(this.baseMutations,e.baseMutations,(t,r)=>jS(t,r))}}class Tb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ke(e.mutations.length===r.length);let s=function(){return o3}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Tb(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,Qe;function x3(n){switch(n){default:return Ce();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function n2(n){if(n===void 0)return er("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Jt.OK:return ae.OK;case Jt.CANCELLED:return ae.CANCELLED;case Jt.UNKNOWN:return ae.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ae.INTERNAL;case Jt.UNAVAILABLE:return ae.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ae.NOT_FOUND;case Jt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Jt.ABORTED:return ae.ABORTED;case Jt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Jt.DATA_LOSS:return ae.DATA_LOSS;default:return Ce()}}(Qe=Jt||(Jt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new fl([4294967295,4294967295],0);function LS(n){const e=w3().encode(n),t=new fA;return t.update(e),new Uint8Array(t.digest())}function VS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fl([t,r],0),new fl([s,i],0)]}class Sb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vd(`Invalid padding: ${t}`);if(r<0)throw new Vd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vd(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=fl.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(fl.fromNumber(r)));return s.compare(b3)===1&&(s=new fl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=LS(e),[r,s]=VS(t);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Sb(i,s,t);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const t=LS(e),[r,s]=VS(t);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,lf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sy(Ae.min(),s,new At(Ue),Vr(),We())}}class lf{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lf(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class r2{constructor(e,t){this.targetId=e,this.me=t}}class s2{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class FS{constructor(){this.fe=0,this.ge=zS(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),r=We();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ce()}}),new lf(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=zS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=BS(),this.Qe=new At(Ue)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const i=s.target;if(Xp(i))if(r===0){const a=new we(i.path);this.Ue(t,a,zt.newNoDocument(a,Ae.min()))}else ke(r===1);else{const a=this.Ye(t);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(t);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let a,l;try{a=ro(r).toUint8Array()}catch(c){if(c instanceof AA)return Tl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Sb(a,s,i)}catch(c){return Tl(c instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(t,i,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((i,a)=>{const l=this.Je(a);if(l){if(i.current&&Xp(l.target)){const c=new we(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,zt.newNoDocument(c,e))}i.be&&(t.set(a,i.ve()),i.Ce())}});let r=We();this.qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new sy(e,t,this.Qe,this.ke,r);return this.ke=Vr(),this.qe=BS(),this.Qe=new At(Ue),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new FS,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ht(Ue),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new FS),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function BS(){return new At(we.comparator)}function zS(){return new At(we.comparator)}const T3={asc:"ASCENDING",desc:"DESCENDING"},E3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S3={and:"AND",or:"OR"};class I3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wx(n,e){return n.useProto3Json||Xg(e)?e:{value:e}}function du(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function P3(n,e){return du(n,e.toTimestamp())}function rr(n){return ke(!!n),Ae.fromTimestamp(function(t){const r=Xi(t);return new Lt(r.seconds,r.nanos)}(n))}function Ib(n,e){return Hx(n,e).canonicalString()}function Hx(n,e){const t=function(s){return new st(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function a2(n){const e=st.fromString(n);return ke(p2(e)),e}function Zp(n,e){return Ib(n.databaseId,e.path)}function ml(n,e){const t=a2(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(c2(t))}function o2(n,e){return Ib(n.databaseId,e)}function l2(n){const e=a2(n);return e.length===4?st.emptyPath():c2(e)}function qx(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c2(n){return ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function US(n,e,t){return{name:Zp(n,e),fields:t.value.mapValue.fields}}function C3(n,e,t){const r=ml(n,e.name),s=rr(e.updateTime),i=e.createTime?rr(e.createTime):Ae.min(),a=new Un({mapValue:{fields:e.fields}}),l=zt.newFoundDocument(r,s,i,a);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function N3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ke(f===void 0||typeof f=="string"),Zt.fromBase64String(f||"")):(ke(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Zt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const f=d.code===void 0?ae.UNKNOWN:n2(d.code);return new xe(f,d.message||"")}(a);t=new s2(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ml(n,r.document.name),i=rr(r.document.updateTime),a=r.document.createTime?rr(r.document.createTime):Ae.min(),l=new Un({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(s,i,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];t=new Ip(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ml(n,r.document),i=r.readTime?rr(r.readTime):Ae.min(),a=zt.newNoDocument(s,i),l=r.removedTargetIds||[];t=new Ip([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ml(n,r.document),i=r.removedTargetIds||[];t=new Ip([],i,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new v3(s,i),l=r.targetId;t=new r2(l,a)}}return t}function eg(n,e){let t;if(e instanceof Cu)t={update:US(n,e.key,e.value)};else if(e instanceof ry)t={delete:Zp(n,e.key)};else if(e instanceof ta)t={update:US(n,e.key,e.data),updateMask:M3(e.fieldMask)};else{if(!(e instanceof t2))return Ce();t={verify:Zp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof uu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Cl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kh)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Ce()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:P3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ce()}(n,e.precondition)),t}function Gx(n,e){const t=e.currentDocument?function(i){return i.updateTime!==void 0?$n.updateTime(rr(i.updateTime)):i.exists!==void 0?$n.exists(i.exists):$n.none()}(e.currentDocument):$n.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(a,l){let c=null;if("setToServerValue"in l)ke(l.setToServerValue==="REQUEST_TIME"),c=new uu;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new Pl(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new Cl(f)}else"increment"in l?c=new kh(a,l.increment):Ce();const d=Mt.fromServerFormat(l.fieldPath);return new ty(d,c)}(n,s)):[];if(e.update){e.update.name;const s=ml(n,e.update.name),i=new Un({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(c){const d=c.fieldPaths||[];return new wr(d.map(f=>Mt.fromServerFormat(f)))}(e.updateMask);return new ta(s,i,a,t,r)}return new Cu(s,i,t,r)}if(e.delete){const s=ml(n,e.delete);return new ry(s,t)}if(e.verify){const s=ml(n,e.verify);return new t2(s,t)}return Ce()}function k3(n,e){return n&&n.length>0?(ke(e!==void 0),n.map(t=>function(s,i){let a=s.updateTime?rr(s.updateTime):rr(i);return a.isEqual(Ae.min())&&(a=rr(i)),new p3(a,s.transformResults||[])}(t,e))):[]}function u2(n,e){return{documents:[o2(n,e.path)]}}function d2(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=o2(n,s);const i=function(d){if(d.length!==0)return m2(ut.create(d,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(f=>function(v){return{field:Oc(v.field),direction:D3(v.dir)}}(f))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=Wx(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:s}}function h2(n){let e=l2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ke(r===1);const f=t.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];t.where&&(i=function(p){const v=f2(p);return v instanceof ut&&wb(v)?v.getFilters():[v]}(t.where));let a=[];t.orderBy&&(a=function(p){return p.map(v=>function(x){return new Nh(Lc(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(t.orderBy));let l=null;t.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,Xg(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(p){const v=!!p.before,b=p.values||[];return new lu(b,v)}(t.startAt));let d=null;return t.endAt&&(d=function(p){const v=!p.before,b=p.values||[];return new lu(b,v)}(t.endAt)),n3(e,s,a,i,l,"F",c,d)}function A3(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function f2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Lc(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Lc(t.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Lc(t.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Lc(t.unaryFilter.field);return Ge.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return Ge.create(Lc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ut.create(t.compositeFilter.filters.map(r=>f2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function D3(n){return T3[n]}function R3(n){return E3[n]}function j3(n){return S3[n]}function Oc(n){return{fieldPath:n.canonicalString()}}function Lc(n){return Mt.fromServerFormat(n.fieldPath)}function m2(n){return n instanceof Ge?function(t){if(t.op==="=="){if(SS(t.value))return{unaryFilter:{field:Oc(t.field),op:"IS_NAN"}};if(ES(t.value))return{unaryFilter:{field:Oc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SS(t.value))return{unaryFilter:{field:Oc(t.field),op:"IS_NOT_NAN"}};if(ES(t.value))return{unaryFilter:{field:Oc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oc(t.field),op:R3(t.op),value:t.value}}}(n):n instanceof ut?function(t){const r=t.getFilters().map(s=>m2(s));return r.length===1?r[0]:{compositeFilter:{op:j3(t.op),filters:r}}}(n):Ce()}function M3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function p2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,r,s,i=Ae.min(),a=Ae.min(),l=Zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.ct=e}}function O3(n,e){let t;if(e.document)t=C3(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=we.fromSegments(e.noDocument.path),s=kl(e.noDocument.readTime);t=zt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce();{const r=we.fromSegments(e.unknownDocument.path),s=kl(e.unknownDocument.version);t=zt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(s){const i=new Lt(s[0],s[1]);return Ae.fromTimestamp(i)}(e.readTime)),t}function $S(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:tg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,a){return{name:Zp(i,a.key),fields:a.data.value.mapValue.fields,updateTime:du(i,a.version.toTimestamp()),createTime:du(i,a.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Nl(e.version)};else{if(!e.isUnknownDocument())return Ce();r.unknownDocument={path:t.path.toArray(),version:Nl(e.version)}}return r}function tg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Nl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kl(n){const e=new Lt(n.seconds,n.nanoseconds);return Ae.fromTimestamp(e)}function il(n,e){const t=(e.baseMutations||[]).map(i=>Gx(n.ct,i));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>Gx(n.ct,i)),s=Lt.fromMillis(e.localWriteTimeMs);return new _b(e.batchId,s,t,r)}function Fd(n){const e=kl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?kl(n.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=function(i){return i.documents!==void 0}(n.query)?function(i){return ke(i.documents.length===1),cs(Jg(l2(i.documents[0])))}(n.query):function(i){return cs(h2(i))}(n.query),new Wi(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Zt.fromBase64String(n.resumeToken))}function y2(n,e){const t=Nl(e.snapshotVersion),r=Nl(e.lastLimboFreeSnapshotVersion);let s;s=Xp(e.target)?u2(n.ct,e.target):d2(n.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Il(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function v2(n){const e=h2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jp(e,e.limit,"L"):e}function I0(n,e){return new Eb(e.largestBatchId,Gx(n.ct,e.overlayMutation))}function WS(n,e){const t=e.path.lastSegment();return[n,nr(e.path.popLast()),t]}function HS(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Nl(r.readTime),documentKey:nr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{getBundleMetadata(e,t){return qS(e).get(t).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:kl(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,t){return qS(e).put(function(s){return{bundleId:s.id,createTime:Nl(rr(s.createTime)),version:s.version}}(t))}getNamedQuery(e,t){return GS(e).get(t).next(r=>{if(r)return function(i){return{name:i.name,query:v2(i.bundledQuery),readTime:kl(i.readTime)}}(r)})}saveNamedQuery(e,t){return GS(e).put(function(s){return{name:s.name,readTime:Nl(rr(s.readTime)),bundledQuery:s.bundledQuery}}(t))}}function qS(n){return an(n,"bundles")}function GS(n){return an(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const r=t.uid||"";return new iy(e,r)}getOverlay(e,t){return yd(e).get(WS(this.userId,t)).next(r=>r?I0(this.serializer,r):null)}getOverlays(e,t){const r=ni();return X.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((i,a)=>{const l=new Eb(t,a);s.push(this.ht(e,l))}),X.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(a=>s.add(nr(a.getCollectionPath())));const i=[];return s.forEach(a=>{const l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(yd(e).j("collectionPathOverlayIndex",l))}),X.waitFor(i)}getOverlaysForCollection(e,t,r){const s=ni(),i=nr(t),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return yd(e).U("collectionPathOverlayIndex",a).next(l=>{for(const c of l){const d=I0(this.serializer,c);s.set(d.getKey(),d)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const i=ni();let a;const l=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yd(e).J({index:"collectionGroupOverlayIndex",range:l},(c,d,f)=>{const p=I0(this.serializer,d);i.size()<s||p.largestBatchId===a?(i.set(p.getKey(),p),a=p.largestBatchId):f.done()}).next(()=>i)}ht(e,t){return yd(e).put(function(s,i,a){const[l,c,d]=WS(i,a.mutation.key);return{userId:i,collectionPath:c,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:eg(s.ct,a.mutation)}}(this.serializer,this.userId,t))}}function yd(n){return an(n,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{Pt(e){return an(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Zt.fromUint8Array(r):Zt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(kt(e.integerValue));else if("doubleValue"in e){const r=kt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Eh(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Xi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ro(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?DA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Qg(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const s of Object.keys(r))this.Vt(s,t),this.Tt(r[s],t)}wt(e,t){var r,s;const i=e.fields||{};this.dt(t,53);const a="value",l=((s=(r=i[a].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.dt(t,15),t.At(kt(l)),this.Vt(a,t),this.Tt(i[a],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const s of r)this.Tt(s,t)}yt(e,t){this.dt(t,37),we.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}al.vt=new al;function F3(n){if(n===0)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function YS(n){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const a=F3(255&r[i]);if(s+=a,a!==8)break}return s}(n);return Math.ceil(e/8)}class B3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const s=t.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Bt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const s=t.codePointAt(0);this.Ot(240|s>>>18),this.Ot(128|63&s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s)}}this.Nt()}kt(e){const t=this.qt(e),r=YS(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Kt(e){const t=this.qt(e),r=YS(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Ft(e){const t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class z3{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class U3{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class vd{constructor(){this.jt=new B3,this.Ht=new z3(this.jt),this.Jt=new U3(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Zt(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ol(this.indexId,this.documentKey,this.arrayValue,r)}}function Aa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=KS(n.arrayValue,e.arrayValue),t!==0?t:(t=KS(n.directionalValue,e.directionalValue),t!==0?t:we.comparator(n.documentKey,e.documentKey)))}function KS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.Xt=new ht((t,r)=>Mt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ke(e.collectionGroup===this.collectionId),this.nn)return!1;const t=Ox(e);if(t!==void 0&&!this.sn(t))return!1;const r=Jo(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.sn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Xt.size>0){const l=this.Xt.getIterator().getNext();if(!s.has(l.field.canonicalString())){const c=r[i];if(!this.on(l,c)||!this._n(this.en[a++],c))return!1}++i}for(;i<r.length;++i){const l=r[i];if(a>=this.en.length||!this._n(this.en[a++],l))return!1}return!0}an(){if(this.nn)return null;let e=new ht(Mt.comparator);const t=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new bp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new bp(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new bp(r.field,r.dir==="asc"?0:1)));return new Kp(Kp.UNKNOWN_ID,this.collectionId,t,Th.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){var e,t;if(ke(n instanceof Ge||n instanceof ut),n instanceof Ge){if(n instanceof zA){const s=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(i=>Ge.create(n.field,"==",i)))||[];return ut.create(s,"or")}return n}const r=n.filters.map(s=>x2(s));return ut.create(r,n.op)}function $3(n){if(n.getFilters().length===0)return[];const e=Xx(x2(n));return ke(w2(e)),Yx(e)||Kx(e)?[e]:e.getFilters()}function Yx(n){return n instanceof Ge}function Kx(n){return n instanceof ut&&wb(n)}function w2(n){return Yx(n)||Kx(n)||function(t){if(t instanceof ut&&Bx(t)){for(const r of t.getFilters())if(!Yx(r)&&!Kx(r))return!1;return!0}return!1}(n)}function Xx(n){if(ke(n instanceof Ge||n instanceof ut),n instanceof Ge)return n;if(n.filters.length===1)return Xx(n.filters[0]);const e=n.filters.map(r=>Xx(r));let t=ut.create(e,n.op);return t=ng(t),w2(t)?t:(ke(t instanceof ut),ke(cu(t)),ke(t.filters.length>1),t.filters.reduce((r,s)=>Pb(r,s)))}function Pb(n,e){let t;return ke(n instanceof Ge||n instanceof ut),ke(e instanceof Ge||e instanceof ut),t=n instanceof Ge?e instanceof Ge?function(s,i){return ut.create([s,i],"and")}(n,e):QS(n,e):e instanceof Ge?QS(e,n):function(s,i){if(ke(s.filters.length>0&&i.filters.length>0),cu(s)&&cu(i))return VA(s,i.getFilters());const a=Bx(s)?s:i,l=Bx(s)?i:s,c=a.filters.map(d=>Pb(d,l));return ut.create(c,"or")}(n,e),ng(t)}function QS(n,e){if(cu(e))return VA(e,n.getFilters());{const t=e.filters.map(r=>Pb(n,r));return ut.create(t,"or")}}function ng(n){if(ke(n instanceof Ge||n instanceof ut),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return ng(e[0]);if(OA(n))return n;const t=e.map(s=>ng(s)),r=[];return t.forEach(s=>{s instanceof Ge?r.push(s):s instanceof ut&&(s.op===n.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:ut.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.un=new Cb}addToCollectionParentIndex(e,t){return this.un.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Wr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Cb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new ht(st.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ht(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=new Uint8Array(0);class H3{constructor(e,t){this.databaseId=t,this.cn=new Cb,this.ln=new po(r=>Il(r),(r,s)=>af(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const i={collectionId:r,parent:nr(s)};return JS(e).put(i)}return X.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[bA(t),""],!1,!0);return JS(e).U(s).next(i=>{for(const a of i){if(a.collectionId!==t)break;r.push(ti(a.parent))}return r})}addFieldIndex(e,t){const r=xd(e),s=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(t);delete s.indexId;const i=r.add(s);if(t.indexState){const a=Nc(e);return i.next(l=>{a.put(HS(l,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const r=xd(e),s=Nc(e),i=Cc(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=xd(e),r=Cc(e),s=Nc(e);return t.j().next(()=>r.j()).next(()=>s.j())}createTargetIndexes(e,t){return X.forEach(this.hn(t),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new XS(r).an();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,t){const r=Cc(e);let s=!0;const i=new Map;return X.forEach(this.hn(t),a=>this.Pn(e,a).next(l=>{s&&(s=!!l),i.set(a,l)})).next(()=>{if(s){let a=We();const l=[];return X.forEach(i,(c,d)=>{ge("IndexedDbIndexManager",`Using index ${function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`}(c)} to execute ${Il(t)}`);const f=function(D,B){const L=Ox(B);if(L===void 0)return null;for(const U of Qp(D,L.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null}(d,c),p=function(D,B){const L=new Map;for(const U of Jo(B))for(const M of Qp(D,U.fieldPath))switch(M.op){case"==":case"in":L.set(U.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return L.set(U.fieldPath.canonicalString(),M.value),Array.from(L.values())}return null}(d,c),v=function(D,B){const L=[];let U=!0;for(const M of Jo(B)){const I=M.kind===0?kS(D,M.fieldPath,D.startAt):AS(D,M.fieldPath,D.startAt);L.push(I.value),U&&(U=I.inclusive)}return new lu(L,U)}(d,c),b=function(D,B){const L=[];let U=!0;for(const M of Jo(B)){const I=M.kind===0?AS(D,M.fieldPath,D.endAt):kS(D,M.fieldPath,D.endAt);L.push(I.value),U&&(U=I.inclusive)}return new lu(L,U)}(d,c),x=this.In(c,d,v),w=this.In(c,d,b),T=this.Tn(c,d,p),P=this.En(c.indexId,f,x,v.inclusive,w,b.inclusive,T);return X.forEach(P,C=>r.G(C,t.limit).next(D=>{D.forEach(B=>{const L=we.fromSegments(B.documentKey);a.has(L)||(a=a.add(L),l.push(L))})}))}).next(()=>l)}return X.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=$3(ut.create(e.filters,"and")).map(r=>Ux(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,s,i,a,l){const c=(t!=null?t.length:1)*Math.max(r.length,i.length),d=c/(t!=null?t.length:1),f=[];for(let p=0;p<c;++p){const v=t?this.dn(t[p/d]):zm,b=this.An(e,v,r[p%d],s),x=this.Rn(e,v,i[p%d],a),w=l.map(T=>this.An(e,v,T,!0));f.push(...this.createRange(b,x,w))}return f}An(e,t,r,s){const i=new ol(e,we.empty(),t,r);return s?i:i.Zt()}Rn(e,t,r,s){const i=new ol(e,we.empty(),t,r);return s?i.Zt():i}Pn(e,t){const r=new XS(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let a=null;for(const l of i)r.rn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a})}getIndexType(e,t){let r=2;const s=this.hn(t);return X.forEach(s,i=>this.Pn(e,i).next(a=>{a?r!==0&&a.fields.length<function(c){let d=new ht(Mt.comparator),f=!1;for(const p of c.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?f=!0:d=d.add(v.field));for(const p of c.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(f?1:0)}(i)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(t)&&s.length>1&&r===2?1:r)}Vn(e,t){const r=new vd;for(const s of Jo(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const a=r.Yt(s.kind);al.vt.It(i,a)}return r.zt()}dn(e){const t=new vd;return al.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const r=new vd;return al.vt.It(Ph(this.databaseId,t),r.Yt(function(i){const a=Jo(i);return a.length===0?0:a[a.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let s=[];s.push(new vd);let i=0;for(const a of Jo(e)){const l=r[i++];for(const c of s)if(this.fn(t,a.fieldPath)&&Ch(l))s=this.gn(s,a,l);else{const d=c.Yt(a.kind);al.vt.It(l,d)}}return this.pn(s)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const l of s){const c=new vd;c.seed(l.zt()),al.vt.It(a,c.Yt(t.kind)),i.push(c)}return i}fn(e,t){return!!e.filters.find(r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=xd(e),s=Nc(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(i=>{const a=[];return X.forEach(i,l=>s.get([l.indexId,this.uid]).next(c=>{a.push(function(f,p){const v=p?new Th(p.sequenceNumber,new Wr(kl(p.readTime),new we(ti(p.documentKey)),p.largestBatchId)):Th.empty(),b=f.fields.map(([x,w])=>new bp(Mt.fromServerFormat(x),w));return new Kp(f.indexId,f.collectionGroup,b,v)}(l,c))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ue(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=xd(e),i=Nc(e);return this.yn(e).next(a=>s.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(l=>X.forEach(l,c=>i.put(HS(c.indexId,this.uid,a,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(s,i)=>{const a=r.get(s.collectionGroup);return(a?X.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next(l=>(r.set(s.collectionGroup,l),X.forEach(l,c=>this.wn(e,s,c).next(d=>{const f=this.Sn(i,c);return d.isEqual(f)?X.resolve():this.bn(e,i,c,d,f)}))))})}Dn(e,t,r,s){return Cc(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,s){return Cc(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const s=Cc(e);let i=new ht(Aa);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(a,l)=>{i=i.add(new ol(r.indexId,t,l.arrayValue,l.directionalValue))}).next(()=>i)}Sn(e,t){let r=new ht(Aa);const s=this.Vn(t,e);if(s==null)return r;const i=Ox(t);if(i!=null){const a=e.data.field(i.fieldPath);if(Ch(a))for(const l of a.arrayValue.values||[])r=r.add(new ol(t.indexId,e.key,this.dn(l),s))}else r=r.add(new ol(t.indexId,e.key,zm,s));return r}bn(e,t,r,s,i){ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(c,d,f,p,v){const b=c.getIterator(),x=d.getIterator();let w=Pc(b),T=Pc(x);for(;w||T;){let P=!1,C=!1;if(w&&T){const D=f(w,T);D<0?C=!0:D>0&&(P=!0)}else w!=null?C=!0:P=!0;P?(p(T),T=Pc(x)):C?(v(w),w=Pc(b)):(w=Pc(b),T=Pc(x))}}(s,i,Aa,l=>{a.push(this.Dn(e,t,r,l))},l=>{a.push(this.vn(e,t,r,l))}),X.waitFor(a)}yn(e){let t=1;return Nc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((a,l)=>Aa(a,l)).filter((a,l,c)=>!l||Aa(a,c[l-1])!==0);const s=[];s.push(e);for(const a of r){const l=Aa(a,e),c=Aa(a,t);if(l===0)s[0]=e.Zt();else if(l>0&&c<0)s.push(a),s.push(a.Zt());else if(c>0)break}s.push(t);const i=[];for(let a=0;a<s.length;a+=2){if(this.Cn(s[a],s[a+1]))return[];const l=[s[a].indexId,this.uid,s[a].arrayValue,s[a].directionalValue,zm,[]],c=[s[a+1].indexId,this.uid,s[a+1].arrayValue,s[a+1].directionalValue,zm,[]];i.push(IDBKeyRange.bound(l,c))}return i}Cn(e,t){return Aa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ZS)}getMinOffset(e,t){return X.mapArray(this.hn(t),r=>this.Pn(e,r).next(s=>s||Ce())).next(ZS)}}function JS(n){return an(n,"collectionParents")}function Cc(n){return an(n,"indexEntries")}function xd(n){return an(n,"indexConfiguration")}function Nc(n){return an(n,"indexState")}function ZS(n){ke(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;pb(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Wr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),i=[],a=IDBKeyRange.only(t.batchId);let l=0;const c=r.J({range:a},(f,p,v)=>(l++,v.delete()));i.push(c.next(()=>{ke(l===1)}));const d=[];for(const f of t.mutations){const p=IA(e,f.key.path,t.batchId);i.push(s.delete(p)),d.push(f.key)}return X.waitFor(i).next(()=>d)}function rg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ce();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(41943040,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);class ay{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Fn={}}static lt(e,t,r,s){ke(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new ay(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).J({index:"userMutationsIndex",range:r},(s,i,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const i=Vc(e),a=Da(e);return a.add({}).next(l=>{ke(typeof l=="number");const c=new _b(l,t,r,s),d=function(b,x,w){const T=w.baseMutations.map(C=>eg(b.ct,C)),P=w.mutations.map(C=>eg(b.ct,C));return{userId:x,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:T,mutations:P}}(this.serializer,this.userId,c),f=[];let p=new ht((v,b)=>Ue(v.canonicalString(),b.canonicalString()));for(const v of s){const b=IA(this.userId,v.key.path,l);p=p.add(v.key.path.popLast()),f.push(a.put(d)),f.push(i.put(b,I6))}return p.forEach(v=>{f.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Fn[l]=c.keys()}),X.waitFor(f).next(()=>c)})}lookupMutationBatch(e,t){return Da(e).get(t).next(r=>r?(ke(r.userId===this.userId),il(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?X.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Fn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Da(e).J({index:"userMutationsIndex",range:s},(a,l,c)=>{l.userId===this.userId&&(ke(l.batchId>=r),i=il(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Da(e).J({index:"userMutationsIndex",range:t,reverse:!0},(s,i,a)=>{r=i.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).U("userMutationsIndex",t).next(r=>r.map(s=>il(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_p(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return Vc(e).J({range:s},(a,l,c)=>{const[d,f,p]=a,v=ti(f);if(d===this.userId&&t.path.isEqual(v))return Da(e).get(p).next(b=>{if(!b)throw Ce();ke(b.userId===this.userId),i.push(il(this.serializer,b))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ht(Ue);const s=[];return t.forEach(i=>{const a=_p(this.userId,i.path),l=IDBKeyRange.lowerBound(a),c=Vc(e).J({range:l},(d,f,p)=>{const[v,b,x]=d,w=ti(b);v===this.userId&&i.path.isEqual(w)?r=r.add(x):p.done()});s.push(c)}),X.waitFor(s).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=_p(this.userId,r),a=IDBKeyRange.lowerBound(i);let l=new ht(Ue);return Vc(e).J({range:a},(c,d,f)=>{const[p,v,b]=c,x=ti(v);p===this.userId&&r.isPrefixOf(x)?x.length===s&&(l=l.add(b)):f.done()}).next(()=>this.xn(e,l))}xn(e,t){const r=[],s=[];return t.forEach(i=>{s.push(Da(e).get(i).next(a=>{if(a===null)throw Ce();ke(a.userId===this.userId),r.push(il(this.serializer,a))}))}),X.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return b2(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),X.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),s=[];return Vc(e).J({range:r},(i,a,l)=>{if(i[0]===this.userId){const c=ti(i[1]);s.push(c)}else l.done()}).next(()=>{ke(s.length===0)})})}containsKey(e,t){return _2(e,this.userId,t)}Nn(e){return T2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _2(n,e,t){const r=_p(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return Vc(n).J({range:i,H:!0},(l,c,d)=>{const[f,p,v]=l;f===e&&p===s&&(a=!0),d.done()}).next(()=>a)}function Da(n){return an(n,"mutations")}function Vc(n){return an(n,"documentMutations")}function T2(n){return an(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Al(0)}static kn(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const r=new Al(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>Ae.fromTimestamp(new Lt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Qn(e,s)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kc(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(ke(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let s=0;const i=[];return kc(e).J((a,l)=>{const c=Fd(l);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))}).next(()=>X.waitFor(i)).next(()=>s)}forEachTarget(e,t){return kc(e).J((r,s)=>{const i=Fd(s);t(i)})}qn(e){return tI(e).get("targetGlobalKey").next(t=>(ke(t!==null),t))}Qn(e,t){return tI(e).put("targetGlobalKey",t)}Kn(e,t){return kc(e).put(y2(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Il(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return kc(e).J({range:s,index:"queryTargetsIndex"},(a,l,c)=>{const d=Fd(l);af(t,d.target)&&(i=d,c.done())}).next(()=>i)}addMatchingKeys(e,t,r){const s=[],i=Ua(e);return t.forEach(a=>{const l=nr(a.path);s.push(i.put({targetId:r,path:l})),s.push(this.referenceDelegate.addReference(e,r,a))}),X.waitFor(s)}removeMatchingKeys(e,t,r){const s=Ua(e);return X.forEach(t,i=>{const a=nr(i.path);return X.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,t){const r=Ua(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ua(e);let i=We();return s.J({range:r,H:!0},(a,l,c)=>{const d=ti(a[1]),f=new we(d);i=i.add(f)}).next(()=>i)}containsKey(e,t){const r=nr(t.path),s=IDBKeyRange.bound([r],[bA(r)],!1,!0);let i=0;return Ua(e).J({index:"documentTargetsIndex",H:!0,range:s},([a,l],c,d)=>{a!==0&&(i++,d.done())}).next(()=>i>0)}ot(e,t){return kc(e).get(t).next(r=>r?Fd(r):null)}}function kc(n){return an(n,"targets")}function tI(n){return an(n,"targetGlobal")}function Ua(n){return an(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI([n,e],[t,r]){const s=Ue(n,t);return s===0?Ue(e,r):s}class G3{constructor(e){this.Un=e,this.buffer=new ht(nI),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Y3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mo(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ol(t)}await this.Hn(3e5)})}}class K3{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(as.oe);const r=new G3(t);return this.Jn.forEachTarget(e,s=>r.zn(s.sequenceNumber)).next(()=>this.Jn.Zn(e,s=>r.zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(eI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eI):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,s,i,a,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,t))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),jc()<=qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function X3(n,e){return new K3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,t){this.db=e,this.garbageCollector=X3(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,s)=>t(s))}addReference(e,t,r){return Um(e,r)}removeReference(e,t,r){return Um(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Um(e,t)}nr(e,t){return function(s,i){let a=!1;return T2(s).Y(l=>_2(s,l,i).next(c=>(c&&(a=!0),X.resolve(!c)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.tr(e,(a,l)=>{if(l<=t){const c=this.nr(e,a).next(d=>{if(!d)return i++,r.getEntry(e,a).next(()=>(r.removeEntry(a,Ae.min()),Ua(e).delete(function(p){return[0,nr(p.path)]}(a))))});s.push(c)}}).next(()=>X.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Um(e,t)}tr(e,t){const r=Ua(e);let s,i=as.oe;return r.J({index:"documentTargetsIndex"},([a,l],{path:c,sequenceNumber:d})=>{a===0?(i!==as.oe&&t(new we(ti(s)),i),i=d,s=c):i=as.oe}).next(()=>{i!==as.oe&&t(new we(ti(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Um(n,e){return Ua(n).put(function(r,s){return{targetId:0,path:nr(r.path),sequenceNumber:s}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return qo(e).put(r)}removeEntry(e,t,r){return qo(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],tg(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=zt.newInvalidDocument(t);return qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wd(t))},(s,i)=>{r=this.ir(t,i)}).next(()=>r)}sr(e,t){let r={size:0,document:zt.newInvalidDocument(t)};return qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wd(t))},(s,i)=>{r={document:this.ir(t,i),size:rg(i)}}).next(()=>r)}getEntries(e,t){let r=Vr();return this._r(e,t,(s,i)=>{const a=this.ir(s,i);r=r.insert(s,a)}).next(()=>r)}ar(e,t){let r=Vr(),s=new At(we.comparator);return this._r(e,t,(i,a)=>{const l=this.ir(i,a);r=r.insert(i,l),s=s.insert(i,rg(a))}).next(()=>({documents:r,ur:s}))}_r(e,t,r){if(t.isEmpty())return X.resolve();let s=new ht(iI);t.forEach(c=>s=s.add(c));const i=IDBKeyRange.bound(wd(s.first()),wd(s.last())),a=s.getIterator();let l=a.getNext();return qo(e).J({index:"documentKeyIndex",range:i},(c,d,f)=>{const p=we.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&iI(l,p)<0;)r(l,null),l=a.getNext();l&&l.isEqual(p)&&(r(l,d),l=a.hasNext()?a.getNext():null),l?f.$(wd(l)):f.done()}).next(()=>{for(;l;)r(l,null),l=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,r,s,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),tg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qo(e).U(IDBKeyRange.bound(l,c,!0)).next(d=>{i==null||i.incrementDocumentReadCount(d.length);let f=Vr();for(const p of d){const v=this.ir(we.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(of(t,v)||s.has(v.key))&&(f=f.insert(v.key,v))}return f})}getAllFromCollectionGroup(e,t,r,s){let i=Vr();const a=sI(t,r),l=sI(t,Wr.max());return qo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,l,!0)},(c,d,f)=>{const p=this.ir(we.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(p.key,p),i.size===s&&f.done()}).next(()=>i)}newChangeBuffer(e){return new Z3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rI(e).get("remoteDocumentGlobalKey").next(t=>(ke(!!t),t))}rr(e,t){return rI(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const r=O3(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return zt.newInvalidDocument(e)}}function S2(n){return new J3(n)}class Z3 extends E2{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new po(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new ht((i,a)=>Ue(i.canonicalString(),a.canonicalString()));return this.changes.forEach((i,a)=>{const l=this.lr.get(i);if(t.push(this.cr.removeEntry(e,i,l.readTime)),a.isValidDocument()){const c=$S(this.cr.serializer,a);s=s.add(i.path.popLast());const d=rg(c);r+=d-l.size,t.push(this.cr.addEntry(e,i,c))}else if(r-=l.size,this.trackRemovals){const c=$S(this.cr.serializer,a.convertToNoDocument(Ae.min()));t.push(this.cr.addEntry(e,i,c))}}),s.forEach(i=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,i))}),t.push(this.cr.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:s})=>(s.forEach((i,a)=>{this.lr.set(i,{size:a,readTime:r.get(i).readTime})}),r))}}function rI(n){return an(n,"remoteDocumentGlobal")}function qo(n){return an(n,"remoteDocumentsV14")}function wd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function sI(n,e){const t=e.documentKey.path.toArray();return[n,tg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iI(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Ue(t[i],r[i]),s)return s;return s=Ue(t.length,r.length),s||(s=Ue(t[t.length-2],r[r.length-2]),s||Ue(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&rh(r.mutation,s,wr.empty(),Lt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const s=ni();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let a=Ld();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=ni();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{t.set(a,l)})})}computeViews(e,t,r,s){let i=Vr();const a=nh(),l=function(){return nh()}();return t.forEach((c,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof ta)?i=i.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),rh(f.mutation,d,f.mutation.getFieldMask(),Lt.now())):a.set(d.key,wr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,f)=>a.set(d,f)),t.forEach((d,f)=>{var p;return l.set(d,new eB(f,(p=a.get(d))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,t){const r=nh();let s=new At((a,l)=>a-l),i=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=t.get(c);if(d===null)return;let f=r.get(c)||wr.empty();f=l.applyToLocalView(d,f),r.set(c,f);const p=(s.get(l.batchId)||We()).add(c);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,p=GA();f.forEach(v=>{if(!i.has(v)){const b=ZA(t.get(v),r.get(v));b!==null&&p.set(v,b),i=i.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,p))}return X.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(a){return we.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):X.resolve(ni());let l=-1,c=i;return a.next(d=>X.forEach(d,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?X.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{c=c.insert(f,v)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,We())).next(f=>({batchId:l,changes:qA(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let s=Ld();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let a=Ld();return this.indexManager.getCollectionParents(e,i).next(l=>X.forEach(l,c=>{const d=function(p,v){return new Pu(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((p,v)=>{a=a.insert(p,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(a=>{i.forEach((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,zt.newInvalidDocument(f)))});let l=Ld();return a.forEach((c,d)=>{const f=i.get(c);f!==void 0&&rh(f.mutation,d,wr.empty(),Lt.now()),of(t,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return X.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:rr(s.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:v2(s.bundledQuery),readTime:rr(s.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(){this.overlays=new At(we.comparator),this.Ir=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ni();return X.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.ht(e,t,i)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=ni(),i=t.length+1,a=new we(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new At((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=ni(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=ni(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=s)););return X.resolve(l)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Eb(t,r));let i=this.Ir.get(t);i===void 0&&(i=We(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.Tr=new ht(mn.Er),this.dr=new ht(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new mn(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new mn(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new we(new st([])),r=new mn(t,e),s=new mn(t,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new we(new st([])),r=new mn(t,e),s=new mn(t,e+1);let i=We();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new mn(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return we.comparator(e.key,t.key)||Ue(e.wr,t.wr)}static Ar(e,t){return Ue(e.wr,t.wr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ht(mn.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new _b(i,t,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new mn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,t){return X.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),i=s<0?0:s;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mn(t,0),s=new mn(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const l=this.Dr(a.wr);i.push(l)}),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ht(Ue);return t.forEach(s=>{const i=new mn(s,0),a=new mn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],l=>{r=r.add(l.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;we.isDocumentKey(i)||(i=i.child(""));const a=new mn(new we(i),0);let l=new ht(Ue);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.wr)),!0)},a),X.resolve(this.Cr(l))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ke(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(t.mutations,s=>{const i=new mn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new mn(t,0),s=this.br.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.Mr=e,this.docs=function(){return new At(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let r=Vr();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():zt.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Vr();const a=t.path,l=new we(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||pb(_A(f),r)<=0||(s.has(f.key)||of(t,f))&&(i=i.insert(f.key,f.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Ce()}Or(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new aB(this)}getSize(e){return X.resolve(this.size)}}class aB extends E2{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.persistence=e,this.Nr=new po(t=>Il(t),af),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Nb,this.targetCount=0,this.kr=Al.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),X.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Al(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Kn(t),X.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),X.waitFor(i).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),X.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t){this.qr={},this.overlays={},this.Qr=new as(0),this.Kr=!1,this.Kr=!0,this.$r=new rB,this.referenceDelegate=e(this),this.Ur=new oB(this),this.indexManager=new W3,this.remoteDocumentCache=function(s){return new iB(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new g2(t),this.Gr=new tB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new sB(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const s=new lB(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,t){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class lB extends EA{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Jr=new Nb,this.Yr=null}static Zr(e){return new oy(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),X.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const s=we.fromPath(r);return this.ei(e,s).next(i=>{i||t.removeEntry(s,Ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return X.or([()=>X.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.serializer=e}O(e,t,r,s){const i=new Kg("createOrUpgrade",t);r<1&&s>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xS,{unique:!0}),c.createObjectStore("documentMutations")}(e),aI(e),function(c){c.createObjectStore("remoteDocuments")}(e));let a=X.resolve();return r<3&&s>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),aI(e)),a=a.next(()=>function(c){const d=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)}(i))),r<4&&s>=4&&(r!==0&&(a=a.next(()=>function(c,d){return d.store("mutations").U().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xS,{unique:!0});const p=d.store("mutations"),v=f.map(b=>p.put(b));return X.waitFor(v)})}(e,i))),a=a.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(a=a.next(()=>this.ni(i))),r<6&&s>=6&&(a=a.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i)))),r<7&&s>=7&&(a=a.next(()=>this.ii(i))),r<8&&s>=8&&(a=a.next(()=>this.si(e,i))),r<9&&s>=9&&(a=a.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(a=a.next(()=>this.oi(i))),r<11&&s>=11&&(a=a.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(a=a.next(()=>{(function(c){const d=c.createObjectStore("documentOverlays",{keyPath:V6});d.createIndex("collectionPathOverlayIndex",F6,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",B6,{unique:!1})})(e)})),r<13&&s>=13&&(a=a.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:P6});d.createIndex("documentKeyIndex",C6),d.createIndex("collectionGroupIndex",N6)}(e)).next(()=>this._i(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(a=a.next(()=>this.ai(e,i))),r<15&&s>=15&&(a=a.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:j6}).createIndex("sequenceNumberIndex",M6,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:O6}).createIndex("documentKeyIndex",L6,{unique:!1})}(e))),r<16&&s>=16&&(a=a.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&s>=17&&(a=a.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let t=0;return e.store("remoteDocuments").J((r,s)=>{t+=rg(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(s=>X.forEach(s,i=>{const a=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(l=>X.forEach(l,c=>{ke(c.userId===i.userId);const d=il(this.serializer,c);return b2(e,i.userId,d).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.J((a,l)=>{const c=new st(a),d=function(p){return[0,nr(p)]}(c);i.push(t.get(d).next(f=>f?X.resolve():(p=>t.put({targetId:0,path:nr(p),sequenceNumber:s.highestListenSequenceNumber}))(c)))}).next(()=>X.waitFor(i))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:R6});const r=t.store("collectionParents"),s=new Cb,i=a=>{if(s.add(a)){const l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:nr(c)})}};return t.store("remoteDocuments").J({H:!0},(a,l)=>{const c=new st(a);return i(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([a,l,c],d)=>{const f=ti(l);return i(f.popLast())}))}oi(e){const t=e.store("targets");return t.J((r,s)=>{const i=Fd(s),a=y2(this.serializer,i);return t.put(a)})}_i(e,t){const r=t.store("remoteDocuments"),s=[];return r.J((i,a)=>{const l=t.store("remoteDocumentsV14"),c=function(p){return p.document?new we(st.fromString(p.document.name).popFirst(5)):p.noDocument?we.fromSegments(p.noDocument.path):p.unknownDocument?we.fromSegments(p.unknownDocument.path):Ce()}(a).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(l.put(d))}).next(()=>X.waitFor(s))}ai(e,t){const r=t.store("mutations"),s=S2(this.serializer),i=new P2(oy.Zr,this.serializer.ct);return r.U().next(a=>{const l=new Map;return a.forEach(c=>{var d;let f=(d=l.get(c.userId))!==null&&d!==void 0?d:We();il(this.serializer,c).keys().forEach(p=>f=f.add(p)),l.set(c.userId,f)}),X.forEach(l,(c,d)=>{const f=new In(d),p=iy.lt(this.serializer,f),v=i.getIndexManager(f),b=ay.lt(f,this.serializer,v,i.referenceDelegate);return new I2(s,b,p,v).recalculateAndSaveOverlaysForDocumentKeys(new Lx(t,as.oe),c).next()})})}}function aI(n){n.createObjectStore("targetDocuments",{keyPath:A6}).createIndex("documentTargetsIndex",D6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",k6,{unique:!0}),n.createObjectStore("targetGlobal")}const P0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kb{constructor(e,t,r,s,i,a,l,c,d,f,p=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=i,this.window=a,this.document=l,this.ci=d,this.li=f,this.hi=p,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=v=>Promise.resolve(),!kb.D())throw new xe(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Q3(this,s),this.Ai=t+"main",this.serializer=new g2(c),this.Ri=new Ja(this.Ai,this.hi,new cB(this.serializer)),this.$r=new V3,this.Ur=new q3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=S2(this.serializer),this.Gr=new L3,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,f===!1&&er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ae.FAILED_PRECONDITION,P0);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new as(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$m(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(mo(e))return ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return bd(e).get("owner").next(t=>X.resolve(this.vi(t)))}Ci(e){return $m(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=an(t,"clientMetadata");return r.U().next(s=>{const i=this.xi(s,18e5),a=s.filter(l=>i.indexOf(l)===-1);return X.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const t of e)this.Vi.removeItem(this.Oi(t.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?X.resolve(!0):bd(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new xe(ae.FAILED_PRECONDITION,P0);return!1}}return!(!this.networkEnabled||!this.inForeground)||$m(e).U().next(r=>this.xi(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,l=this.networkEnabled===s.networkEnabled;if(i||a&&l)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new Lx(e,as.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>$m(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return ay.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new H3(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return iy.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){ge("IndexedDbPersistence","Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=function(c){return c===17?$6:c===16?U6:c===15?yb:c===14?NA:c===13?CA:c===12?z6:c===11?PA:void Ce()}(this.hi);let a;return this.Ri.runTransaction(e,s,i,l=>(a=new Lx(l,this.Qr?this.Qr.next():as.oe),t==="readwrite-primary"?this.wi(a).next(c=>!!c||this.Si(a)).next(c=>{if(!c)throw er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new xe(ae.FAILED_PRECONDITION,TA);return r(a)}).next(c=>this.Di(a).next(()=>c)):this.Ki(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Ki(e){return bd(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(ae.FAILED_PRECONDITION,P0)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bd(e).put("owner",t)}static D(){return Ja.D()}bi(e){const t=bd(e);return t.get("owner").next(r=>this.vi(r)?(ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):X.resolve())}Mi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(er(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;Sk()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){er("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bd(n){return an(n,"owner")}function $m(n){return an(n,"clientMetadata")}function uB(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=We(),s=We();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ab(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Sk()?8:SA(sn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Yi(e,t).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,t,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new dB;return this.Xi(e,t,a).next(l=>{if(i.result=l,this.zi)return this.es(e,t,a,l.size)})}).next(()=>i.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(jc()<=qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Mc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(jc()<=qe.DEBUG&&ge("QueryEngine","Query:",Mc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(jc()<=qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Mc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cs(t))):X.resolve())}Yi(e,t){if(DS(t))return X.resolve(null);let r=cs(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Jp(t,null,"F"),r=cs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=We(...i);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(t,l);return this.ns(t,d,a,c.readTime)?this.Yi(e,Jp(t,null,"F")):this.rs(e,d,t,c)}))})))}Zi(e,t,r,s){return DS(t)||s.isEqual(Ae.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(t,i);return this.ns(t,a,r,s)?X.resolve(null):(jc()<=qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mc(t)),this.rs(e,a,t,x6(s,-1)).next(l=>l))})}ts(e,t){let r=new ht(WA(e));return t.forEach((s,i)=>{of(e,i)&&(r=r.add(i))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,t,r){return jc()<=qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Mc(t)),this.Ji.getDocumentsMatchingQuery(e,t,Wr.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new At(Ue),this._s=new po(i=>Il(i),af),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function N2(n,e,t,r){return new hB(n,e,t,r)}async function k2(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=We();for(const d of s){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:l}))})})}function fB(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,f){const p=d.batch,v=p.keys();let b=X.resolve();return v.forEach(x=>{b=b.next(()=>f.getEntry(c,x)).next(w=>{const T=d.docVersions.get(x);ke(T!==null),w.version.compareTo(T)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),f.addEntry(w)))})}),b.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=We();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function A2(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function mB(n,e){const t=Fe(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const l=[];e.targetChanges.forEach((f,p)=>{const v=s.get(p);if(!v)return;l.push(t.Ur.removeMatchingKeys(i,f.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(i,f.addedDocuments,p)));let b=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,r)),s=s.insert(p,b),function(w,T,P){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(v,b,f)&&l.push(t.Ur.updateTargetData(i,b))});let c=Vr(),d=We();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(pB(i,a,e.documentUpdates).next(f=>{c=f.Ps,d=f.Is})),!r.isEqual(Ae.min())){const f=t.Ur.getLastRemoteSnapshotVersion(i).next(p=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return X.waitFor(l).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(t.os=s,i))}function pB(n,e,t){let r=We(),s=We();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Vr();return t.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ae.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ge("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function gB(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yB(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(i=>i?(s=i,X.resolve(s)):t.Ur.allocateTargetId(r).next(a=>(s=new Wi(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function Qx(n,e,t){const r=Fe(n),s=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!mo(a))throw a;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function oI(n,e,t){const r=Fe(n);let s=Ae.min(),i=We();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,f){const p=Fe(c),v=p._s.get(f);return v!==void 0?X.resolve(p.os.get(v)):p.Ur.getTargetData(d,f)}(r,a,cs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,t?s:Ae.min(),t?i:We())).next(l=>(vB(r,s3(e),l),{documents:l,Ts:i})))}function vB(n,e,t){let r=n.us.get(e)||Ae.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}class lI{constructor(){this.activeTargetIds=u3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D2{constructor(){this.so=new lI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm=null;function C0(){return Wm===null?Wm=function(){return 268435456+Math.round(2147483648*Math.random())}():Wm++,"0x"+Wm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class _B extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(t,r,s,i,a){const l=C0(),c=this.xo(t,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(t,c,d,s).then(f=>(ge("RestConnection",`Received RPC '${t}' ${l}: `,f),f),f=>{throw Tl("RestConnection",`RPC '${t}' ${l} failed with error: `,f,"url: ",c,"request:",s),f})}Lo(t,r,s,i,a,l){return this.Mo(t,r,s,i,a)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Iu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),s&&s.headers.forEach((i,a)=>t[a]=i)}xo(t,r){const s=wB[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const i=C0();return new Promise((a,l)=>{const c=new mA;c.setWithCredentials(!0),c.listenOnce(pA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case wp.NO_ERROR:const f=c.getResponseJson();ge(Fn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),a(f);break;case wp.TIMEOUT:ge(Fn,`RPC '${e}' ${i} timed out`),l(new xe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case wp.HTTP_ERROR:const p=c.getStatus();if(ge(Fn,`RPC '${e}' ${i} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const x=function(T){const P=T.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(P)>=0?P:ae.UNKNOWN}(b.status);l(new xe(x,b.message))}else l(new xe(ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new xe(ae.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ge(Fn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);ge(Fn,`RPC '${e}' ${i} sending request:`,s),c.send(t,"POST",d,r,15)})}Bo(e,t,r){const s=C0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vA(),l=yA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=i.join("");ge(Fn,`Creating RPC '${e}' stream ${s}: ${f}`,c);const p=a.createWebChannel(f,c);let v=!1,b=!1;const x=new bB({Io:T=>{b?ge(Fn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(v||(ge(Fn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),v=!0),ge(Fn,`RPC '${e}' stream ${s} sending:`,T),p.send(T))},To:()=>p.close()}),w=(T,P,C)=>{T.listen(P,D=>{try{C(D)}catch(B){setTimeout(()=>{throw B},0)}})};return w(p,Od.EventType.OPEN,()=>{b||(ge(Fn,`RPC '${e}' stream ${s} transport opened.`),x.yo())}),w(p,Od.EventType.CLOSE,()=>{b||(b=!0,ge(Fn,`RPC '${e}' stream ${s} transport closed`),x.So())}),w(p,Od.EventType.ERROR,T=>{b||(b=!0,Tl(Fn,`RPC '${e}' stream ${s} transport errored:`,T),x.So(new xe(ae.UNAVAILABLE,"The operation could not be completed")))}),w(p,Od.EventType.MESSAGE,T=>{var P;if(!b){const C=T.data[0];ke(!!C);const D=C,B=D.error||((P=D[0])===null||P===void 0?void 0:P.error);if(B){ge(Fn,`RPC '${e}' stream ${s} received error:`,B);const L=B.status;let U=function(N){const j=Jt[N];if(j!==void 0)return n2(j)}(L),M=B.message;U===void 0&&(U=ae.INTERNAL,M="Unknown error status: "+L+" with message "+B.message),b=!0,x.So(new xe(U,M)),p.close()}else ge(Fn,`RPC '${e}' stream ${s} received:`,C),x.bo(C)}}),w(l,gA.STAT_EVENT,T=>{T.stat===Mx.PROXY?ge(Fn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Mx.NOPROXY&&ge(Fn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(){return typeof window<"u"?window:null}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(n){return new I3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t,r,s,i,a,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new R2(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(er(t.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new xe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EB extends j2{constructor(e,t,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=N3(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ae.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ae.min():a.readTime?rr(a.readTime):Ae.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=qx(this.serializer),t.addTarget=function(i,a){let l;const c=a.target;if(l=Xp(c)?{documents:u2(i,c)}:{query:d2(i,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=i2(i,a.resumeToken);const d=Wx(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ae.min())>0){l.readTime=du(i,a.snapshotVersion.toTimestamp());const d=Wx(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=A3(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=qx(this.serializer),t.removeTarget=e,this.a_(t)}}class SB extends j2{constructor(e,t,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=k3(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=qx(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>eg(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Hx(t,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(ae.UNKNOWN,i.toString())})}Lo(e,t,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,Hx(t,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ae.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class PB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(er(t),this.D_=!1):ge("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{Vl(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=Fe(c);d.L_.add(4),await cf(d),d.q_.set("Unknown"),d.L_.delete(4),await cy(d)}(this))})}),this.q_=new PB(r,s)}}async function cy(n){if(Vl(n))for(const e of n.B_)await e(!0)}async function cf(n){for(const e of n.B_)await e(!1)}function M2(n,e){const t=Fe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Mb(t)?jb(t):Nu(t).r_()&&Rb(t,e))}function Db(n,e){const t=Fe(n),r=Nu(t);t.N_.delete(e),r.r_()&&O2(t,e),t.N_.size===0&&(r.r_()?r.o_():Vl(t)&&t.q_.set("Unknown"))}function Rb(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nu(n).A_(e)}function O2(n,e){n.Q_.xe(e),Nu(n).R_(e)}function jb(n){n.Q_=new _3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Nu(n).start(),n.q_.v_()}function Mb(n){return Vl(n)&&!Nu(n).n_()&&n.N_.size>0}function Vl(n){return Fe(n).L_.size===0}function L2(n){n.Q_=void 0}async function NB(n){n.q_.set("Online")}async function kB(n){n.N_.forEach((e,t)=>{Rb(n,e)})}async function AB(n,e){L2(n),Mb(n)?(n.q_.M_(e),jb(n)):n.q_.set("Unknown")}async function DB(n,e,t){if(n.q_.set("Online"),e instanceof s2&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}(n,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sg(n,r)}else if(e instanceof Ip?n.Q_.Ke(e):e instanceof r2?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ae.min()))try{const r=await A2(n.localStore);t.compareTo(r)>=0&&await function(i,a){const l=i.Q_.rt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.N_.get(d);f&&i.N_.set(d,f.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const f=i.N_.get(c);if(!f)return;i.N_.set(c,f.withResumeToken(Zt.EMPTY_BYTE_STRING,f.snapshotVersion)),O2(i,c);const p=new Wi(f.target,c,d,f.sequenceNumber);Rb(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await sg(n,r)}}async function sg(n,e,t){if(!mo(e))throw e;n.L_.add(1),await cf(n),n.q_.set("Offline"),t||(t=()=>A2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await cy(n)})}function V2(n,e){return e().catch(t=>sg(n,t,e))}async function uf(n){const e=Fe(n),t=io(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RB(e);)try{const s=await gB(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,jB(e,s)}catch(s){await sg(e,s)}F2(e)&&B2(e)}function RB(n){return Vl(n)&&n.O_.length<10}function jB(n,e){n.O_.push(e);const t=io(n);t.r_()&&t.V_&&t.m_(e.mutations)}function F2(n){return Vl(n)&&!io(n).n_()&&n.O_.length>0}function B2(n){io(n).start()}async function MB(n){io(n).p_()}async function OB(n){const e=io(n);for(const t of n.O_)e.m_(t.mutations)}async function LB(n,e,t){const r=n.O_.shift(),s=Tb.from(r,e,t);await V2(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await uf(n)}async function VB(n,e){e&&io(n).V_&&await async function(r,s){if(function(a){return x3(a)&&a!==ae.ABORTED}(s.code)){const i=r.O_.shift();io(r).s_(),await V2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await uf(r)}}(n,e),F2(n)&&B2(n)}async function uI(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Vl(t);t.L_.add(3),await cf(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await cy(t)}async function FB(n,e){const t=Fe(n);e?(t.L_.delete(2),await cy(t)):e||(t.L_.add(2),await cf(t),t.q_.set("Unknown"))}function Nu(n){return n.K_||(n.K_=function(t,r,s){const i=Fe(t);return i.w_(),new EB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:NB.bind(null,n),Ro:kB.bind(null,n),mo:AB.bind(null,n),d_:DB.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),Mb(n)?jb(n):n.q_.set("Unknown")):(await n.K_.stop(),L2(n))})),n.K_}function io(n){return n.U_||(n.U_=function(t,r,s){const i=Fe(t);return i.w_(),new SB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MB.bind(null,n),mo:VB.bind(null,n),f_:OB.bind(null,n),g_:LB.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await uf(n)):(await n.U_.stop(),n.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const a=Date.now()+r,l=new Ob(e,t,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lb(n,e){if(er("AsyncQueue",`${e}: ${n}`),mo(n))return new xe(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=Ld(),this.sortedSet=new At(this.comparator)}static emptySet(e){return new Zc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Zc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.W_=new At(we.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class hu{constructor(e,t,r,s,i,a,l,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,i){const a=[];return t.forEach(l=>{a.push({type:0,doc:l})}),new hu(e,t,Zc.emptySet(t),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class zB{constructor(){this.queries=hI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=Fe(t),i=s.queries;s.queries=hI(),i.forEach((a,l)=>{for(const c of l.j_)c.onError(r)})})(this,new xe(ae.ABORTED,"Firestore shutting down"))}}function hI(){return new po(n=>$A(n),Zg)}async function z2(n,e){const t=Fe(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new BB,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await t.onListen(s,!0);break;case 1:i.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const l=Lb(a,`Initialization of query '${Mc(e.query)}' failed`);return void e.onError(l)}t.queries.set(s,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&Vb(t)}async function U2(n,e){const t=Fe(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function UB(n,e){const t=Fe(n);let r=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&Vb(t)}function $B(n,e,t){const r=Fe(n),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(t);r.queries.delete(e)}function Vb(n){n.Y_.forEach(e=>{e.next()})}var Jx,fI;(fI=Jx||(Jx={})).ea="default",fI.Cache="cache";class $2{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.key=e}}class H2{constructor(e){this.key=e}}class WB{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=We(),this.mutatedKeys=We(),this.Aa=WA(e),this.Ra=new Zc(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new dI,s=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const v=s.get(f),b=of(this.query,p)?p:null,x=!!v&&this.mutatedKeys.has(v.key),w=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;v&&b?v.data.isEqual(b.data)?x!==w&&(r.track({type:3,doc:b}),T=!0):this.ga(v,b)||(r.track({type:2,doc:b}),T=!0,(c&&this.Aa(b,c)>0||d&&this.Aa(b,d)<0)&&(l=!0)):!v&&b?(r.track({type:0,doc:b}),T=!0):v&&!b&&(r.track({type:1,doc:v}),T=!0,(c||d)&&(l=!0)),T&&(b?(a=a.add(b),i=w?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ra:a,fa:r,ns:l,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,p)=>function(b,x){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return w(b)-w(x)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),s=s!=null&&s;const l=t&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new hu(this.query,e.Ra,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=We(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new H2(r))}),this.da.forEach(r=>{e.has(r)||t.push(new W2(r))}),t}ba(e){this.Ta=e.Ts,this.da=We();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class HB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qB{constructor(e){this.key=e,this.va=!1}}class GB{constructor(e,t,r,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new po(l=>$A(l),Zg),this.Ma=new Map,this.xa=new Set,this.Oa=new At(we.comparator),this.Na=new Map,this.La=new Nb,this.Ba={},this.ka=new Map,this.qa=Al.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YB(n,e,t=!0){const r=Q2(n);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await q2(r,e,t,!0),s}async function KB(n,e){const t=Q2(n);await q2(t,e,!0,!1)}async function q2(n,e,t,r){const s=await yB(n.localStore,cs(e)),i=s.targetId,a=n.sharedClientState.addLocalQueryTarget(i,t);let l;return r&&(l=await XB(n,e,i,a==="current",s.resumeToken)),n.isPrimaryClient&&t&&M2(n.remoteStore,s),l}async function XB(n,e,t,r,s){n.Ka=(p,v,b)=>async function(w,T,P,C){let D=T.view.ma(P);D.ns&&(D=await oI(w.localStore,T.query,!1).then(({documents:M})=>T.view.ma(M,D)));const B=C&&C.targetChanges.get(T.targetId),L=C&&C.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(D,w.isPrimaryClient,B,L);return pI(w,T.targetId,U.wa),U.snapshot}(n,p,v,b);const i=await oI(n.localStore,e,!0),a=new WB(e,i.Ts),l=a.ma(i.documents),c=lf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=a.applyChanges(l,n.isPrimaryClient,c);pI(n,t,d.wa);const f=new HB(e,t,a);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot}async function QB(n,e,t){const r=Fe(n),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!Zg(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Db(r.remoteStore,s.targetId),Zx(r,s.targetId)}).catch(Ol)):(Zx(r,s.targetId),await Qx(r.localStore,s.targetId,!0))}async function JB(n,e){const t=Fe(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Db(t.remoteStore,r.targetId))}async function ZB(n,e,t){const r=J2(n);try{const s=await function(a,l){const c=Fe(a),d=Lt.now(),f=l.reduce((b,x)=>b.add(x.key),We());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let x=Vr(),w=We();return c.cs.getEntries(b,f).next(T=>{x=T,x.forEach((P,C)=>{C.isValidDocument()||(w=w.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,x)).next(T=>{p=T;const P=[];for(const C of l){const D=y3(C,p.get(C.key).overlayedDocument);D!=null&&P.push(new ta(C.key,D,jA(D.value.mapValue),$n.exists(!0)))}return c.mutationQueue.addMutationBatch(b,d,P,l)}).next(T=>{v=T;const P=T.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(b,T.batchId,P)})}).then(()=>({batchId:v.batchId,changes:qA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new At(Ue)),d=d.insert(l,c),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,t),await df(r,s.changes),await uf(r.remoteStore)}catch(s){const i=Lb(s,"Failed to persist write");t.reject(i)}}async function G2(n,e){const t=Fe(n);try{const r=await mB(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.Na.get(i);a&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?ke(a.va):s.removedDocuments.size>0&&(ke(a.va),a.va=!1))}),await df(t,r,e)}catch(r){await Ol(r)}}function mI(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((i,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Fe(a);c.onlineState=l;let d=!1;c.queries.forEach((f,p)=>{for(const v of p.j_)v.Z_(l)&&(d=!0)}),d&&Vb(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ez(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new At(we.comparator);a=a.insert(i,zt.newNoDocument(i,Ae.min()));const l=We().add(i),c=new sy(Ae.min(),new Map,new At(Ue),a,l);await G2(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),Fb(r)}else await Qx(r.localStore,e,!1).then(()=>Zx(r,e,t)).catch(Ol)}async function tz(n,e){const t=Fe(n),r=e.batch.batchId;try{const s=await fB(t.localStore,e);K2(t,r,null),Y2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await df(t,s)}catch(s){await Ol(s)}}async function nz(n,e,t){const r=Fe(n);try{const s=await function(a,l){const c=Fe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next(p=>(ke(p!==null),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);K2(r,e,t),Y2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await df(r,s)}catch(s){await Ol(s)}}function Y2(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function K2(n,e,t){const r=Fe(n);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Zx(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||X2(n,r)})}function X2(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Db(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Fb(n))}function pI(n,e,t){for(const r of t)r instanceof W2?(n.La.addReference(r.key,e),rz(n,r)):r instanceof H2?(ge("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||X2(n,r.key)):Ce()}function rz(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ge("SyncEngine","New document in limbo: "+t),n.xa.add(r),Fb(n))}function Fb(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new we(st.fromString(e)),r=n.qa.next();n.Na.set(r,new qB(t)),n.Oa=n.Oa.insert(t,r),M2(n.remoteStore,new Wi(cs(Jg(t.path)),r,"TargetPurposeLimboResolution",as.oe))}}async function df(n,e,t){const r=Fe(n),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{a.push(r.Ka(c,e,t).then(d=>{var f;if((d||t)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=t==null?void 0:t.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){s.push(d);const p=Ab.Wi(c.targetId,d);i.push(p)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(c,d){const f=Fe(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>X.forEach(d,v=>X.forEach(v.$i,b=>f.persistence.referenceDelegate.addReference(p,v.targetId,b)).next(()=>X.forEach(v.Ui,b=>f.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))}catch(p){if(!mo(p))throw p;ge("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const v=p.targetId;if(!p.fromCache){const b=f.os.get(v),x=b.snapshotVersion,w=b.withLastLimboFreeSnapshotVersion(x);f.os=f.os.insert(v,w)}}}(r.localStore,i))}async function sz(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await k2(t.localStore,e);t.currentUser=e,function(i,a){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new xe(ae.CANCELLED,a))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await df(t,r.hs)}}function iz(n,e){const t=Fe(n),r=t.Na.get(e);if(r&&r.va)return We().add(r.key);{let s=We();const i=t.Ma.get(e);if(!i)return s;for(const a of i){const l=t.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function Q2(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=G2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ez.bind(null,e),e.Ca.d_=UB.bind(null,e.eventManager),e.Ca.$a=$B.bind(null,e.eventManager),e}function J2(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nz.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ly(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return N2(this.persistence,new C2,e.initialUser,this.serializer)}Ga(e){return new P2(oy.Zr,this.serializer)}Wa(e){return new D2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class az extends Ah{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await J2(this.Ja.syncEngine),await uf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return N2(this.persistence,new C2,e.initialUser,this.serializer)}ja(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new Y3(r,e.asyncQueue,t)}Ha(e,t){const r=new T6(t,this.persistence);return new _6(e.asyncQueue,r)}Ga(e){const t=uB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new kb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,TB(),Pp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new D2}}class ig{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sz.bind(null,this.syncEngine),await FB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zB}()}createDatastore(e){const t=ly(e.databaseInfo.databaseId),r=function(i){return new _B(i)}(e.databaseInfo);return function(i,a,l,c){return new IB(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,a,l){return new CB(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,t=>mI(this.syncEngine,t,0),function(){return cI.D()?new cI:new xB}())}createSyncEngine(e,t){return function(s,i,a,l,c,d,f){const p=new GB(s,i,a,l,c,d);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=Fe(s);ge("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await cf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ig.provider={build:()=>new ig};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=wA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{ge("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ge("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Lb(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function N0(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await k2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function gI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lz(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>uI(e.remoteStore,s)),n._onlineComponents=e}async function lz(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await N0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Tl("Error using user provided cache. Falling back to memory cache: "+t),await N0(n,new Ah)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await N0(n,new Ah);return n._offlineComponents}async function eD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await gI(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await gI(n,new ig))),n._onlineComponents}function cz(n){return eD(n).then(e=>e.syncEngine)}async function tD(n){const e=await eD(n),t=e.eventManager;return t.onListen=YB.bind(null,e.syncEngine),t.onUnlisten=QB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JB.bind(null,e.syncEngine),t}function uz(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const f=new Z2({next:v=>{f.Za(),a.enqueueAndForget(()=>U2(i,p));const b=v.docs.has(l);!b&&v.fromCache?d.reject(new xe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&c&&c.source==="server"?d.reject(new xe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new $2(Jg(l.path),f,{includeMetadataChanges:!0,_a:!0});return z2(i,p)}(await tD(n),n.asyncQueue,e,t,r)),r.promise}function dz(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const f=new Z2({next:v=>{f.Za(),a.enqueueAndForget(()=>U2(i,p)),v.fromCache&&c.source==="server"?d.reject(new xe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new $2(l,f,{includeMetadataChanges:!0,_a:!0});return z2(i,p)}(await tD(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n,e,t){if(!t)throw new xe(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hz(n,e,t,r){if(e===!0&&r===!0)throw new xe(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vI(n){if(!we.isDocumentKey(n))throw new xe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xI(n){if(we.isDocumentKey(n))throw new xe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uy(n);throw new xe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function fz(n,e){if(e<=0)throw new xe(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dy{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u6;switch(r.type){case"firstParty":return new m6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=yI.get(t);r&&(ge("ComponentProvider","Removing Datastore"),yI.delete(t),r.terminate())}(this),Promise.resolve()}}function mz(n,e,t,r={}){var s;const i=(n=hs(n,dy))._getSettings(),a=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=In.MOCK_USER;else{l=Ek(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new xe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new In(d)}n._authCredentials=new d6(new xA(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class Za extends go{constructor(e,t,r){super(e,t,Jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new we(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function yn(n,e,...t){if(n=Kt(n),rD("collection","path",e),n instanceof dy){const r=st.fromString(e,...t);return xI(r),new Za(n,null,r)}{if(!(n instanceof sr||n instanceof Za))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return xI(r),new Za(n.firestore,null,r)}}function us(n,e,...t){if(n=Kt(n),arguments.length===1&&(e=wA.newId()),rD("doc","path",e),n instanceof dy){const r=st.fromString(e,...t);return vI(r),new sr(n,null,new we(r))}{if(!(n instanceof sr||n instanceof Za))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return vI(r),new sr(n.firestore,n instanceof Za?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new R2(this,"async_queue_retry"),this.Vu=()=>{const r=Pp();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new ai;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!mo(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw er("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=Ob.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class yo extends dy{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new bI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bI(e),this._firestoreClient=void 0,await e}}}function pz(n,e){const t=typeof n=="object"?n:sb(),r=typeof n=="string"?n:"(default)",s=Hg(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bk("firestore");i&&mz(s,...i)}return s}function Bb(n){if(n._terminated)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sD(n),n._firestoreClient}function sD(n){var e,t,r;const s=n._freezeSettings(),i=function(l,c,d,f){return new H6(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,nD(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new oz(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}function gz(n,e){Tl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return yz(n,ig.provider,{build:r=>new az(r,t.cacheSizeBytes,void 0)}),Promise.resolve()}function yz(n,e,t){if((n=hs(n,yo))._firestoreClient||n._terminated)throw new xe(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new xe(ae.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},sD(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(Zt.fromBase64String(e))}catch(t){throw new xe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fu(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=/^__.*__$/;class xz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cu(e,this.data,t,this.fieldTransforms)}}class iD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class fy{constructor(e,t,r,s,i,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ag(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aD(this.Cu)&&vz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ly(e)}Qu(e,t,r,s=!1){return new fy({Cu:e,methodName:t,qu:r,path:Mt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function my(n){const e=n._freezeSettings(),t=ly(n._databaseId);return new wz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oD(n,e,t,r,s,i={}){const a=n.Qu(i.merge||i.mergeFields?2:0,e,t,s);qb("Data must be an object, but it was:",a,r);const l=cD(r,a);let c,d;if(i.merge)c=new wr(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const v=ew(e,p,t);if(!a.contains(v))throw new xe(ae.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);dD(f,v)||f.push(v)}c=new wr(f),d=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=a.fieldTransforms;return new xz(new Un(l),c,d)}class py extends ku{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof py}}function lD(n,e,t){return new fy({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $b extends ku{_toFieldTransform(e){return new ty(e.path,new uu)}isEqual(e){return e instanceof $b}}class Wb extends ku{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=lD(this,e,!0),r=this.Ku.map(i=>Fl(i,t)),s=new Pl(r);return new ty(e.path,s)}isEqual(e){return e instanceof Wb&&su(this.Ku,e.Ku)}}class Hb extends ku{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=lD(this,e,!0),r=this.Ku.map(i=>Fl(i,t)),s=new Cl(r);return new ty(e.path,s)}isEqual(e){return e instanceof Hb&&su(this.Ku,e.Ku)}}function bz(n,e,t,r){const s=n.Qu(1,e,t);qb("Data must be an object, but it was:",s,r);const i=[],a=Un.empty();Ll(r,(c,d)=>{const f=Gb(e,c,t);d=Kt(d);const p=s.Nu(f);if(d instanceof py)i.push(f);else{const v=Fl(d,p);v!=null&&(i.push(f),a.set(f,v))}});const l=new wr(i);return new iD(a,l,s.fieldTransforms)}function _z(n,e,t,r,s,i){const a=n.Qu(1,e,t),l=[ew(e,r,t)],c=[s];if(i.length%2!=0)throw new xe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)l.push(ew(e,i[v])),c.push(i[v+1]);const d=[],f=Un.empty();for(let v=l.length-1;v>=0;--v)if(!dD(d,l[v])){const b=l[v];let x=c[v];x=Kt(x);const w=a.Nu(b);if(x instanceof py)d.push(b);else{const T=Fl(x,w);T!=null&&(d.push(b),f.set(b,T))}}const p=new wr(d);return new iD(f,p,a.fieldTransforms)}function Tz(n,e,t,r=!1){return Fl(t,n.Qu(r?4:3,e))}function Fl(n,e){if(uD(n=Kt(n)))return qb("Unsupported field value:",e,n),cD(n,e);if(n instanceof ku)return function(r,s){if(!aD(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Fl(l,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:du(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:du(s.serializer,i)}}if(r instanceof zb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:i2(s.serializer,r._byteString)};if(r instanceof sr){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ib(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ub)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return bb(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${uy(r)}`)}(n,e)}function cD(n,e){const t={};return kA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(n,(r,s)=>{const i=Fl(s,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function uD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof zb||n instanceof fu||n instanceof sr||n instanceof ku||n instanceof Ub)}function qb(n,e,t){if(!uD(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=uy(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function ew(n,e,t){if((e=Kt(e))instanceof hy)return e._internalPath;if(typeof e=="string")return Gb(n,e);throw ag("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ez=new RegExp("[~\\*/\\[\\]]");function Gb(n,e,t){if(e.search(Ez)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hy(...e.split("."))._internalPath}catch{throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ag(n,e,t,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new xe(ae.INVALID_ARGUMENT,l+n+c)}function dD(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Sz extends hD{data(){return super.data()}}function gy(n,e){return typeof e=="string"?Gb(n,e):e instanceof hy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yb{}class Kb extends Yb{}function br(n,e,...t){let r=[];e instanceof Yb&&r.push(e),r=r.concat(t),function(i){const a=i.filter(c=>c instanceof Xb).length,l=i.filter(c=>c instanceof yy).length;if(a>1||a>0&&l>0)throw new xe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class yy extends Kb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yy(e,t,r)}_apply(e){const t=this._parse(e);return fD(e._query,t),new go(e.firestore,e.converter,$x(e._query,t))}_parse(e){const t=my(e.firestore);return function(i,a,l,c,d,f,p){let v;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new xe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){TI(p,f);const b=[];for(const x of p)b.push(_I(c,i,x));v={arrayValue:{values:b}}}else v=_I(c,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||TI(p,f),v=Tz(l,a,p,f==="in"||f==="not-in");return Ge.create(d,f,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Cn(n,e,t){const r=e,s=gy("where",n);return yy._create(s,r,t)}class Xb extends Yb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ut.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)fD(a,c),a=$x(a,c)}(e._query,t),new go(e.firestore,e.converter,$x(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qb extends Kb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qb(e,t)}_apply(e){const t=function(s,i,a){if(s.startAt!==null)throw new xe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new xe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nh(i,a)}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Pu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function oi(n,e="asc"){const t=e,r=gy("orderBy",n);return Qb._create(r,t)}class Jb extends Kb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Jb(e,t,r)}_apply(e){return new go(e.firestore,e.converter,Jp(e._query,this._limit,this._limitType))}}function sh(n){return fz("limit",n),Jb._create("limit",n,"F")}function _I(n,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new xe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UA(e)&&t.indexOf("/")!==-1)throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!we.isDocumentKey(r))throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ph(n,new we(r))}if(t instanceof sr)return Ph(n,t._key);throw new xe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uy(t)}.`)}function TI(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fD(n,e){const t=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Pz{convertValue(e,t="none"){switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ll(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>kt(a.doubleValue));return new Ub(i)}convertGeoPoint(e){return new zb(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const t=Xi(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);ke(p2(r));const s=new El(r.get(1),r.get(3)),i=new we(r.popFirst(5));return s.isEqual(t)||er(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pD extends hD{constructor(e,t,r,s,i,a){super(e,t,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cp extends pD{data(e={}){return super.data(e)}}class Cz{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Bd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cp(this._firestore,this._userDataWriter,r.key,r,new Bd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Cp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Bd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Cp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Bd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:Nz(l.type),doc:c,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n){n=hs(n,sr);const e=hs(n.firestore,yo);return uz(Bb(e),n._key).then(t=>kz(e,n,t))}class gD extends Pz{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function _r(n){n=hs(n,go);const e=hs(n.firestore,yo),t=Bb(e),r=new gD(e);return Iz(n._query),dz(t,n._query).then(s=>new Cz(e,r,n,s))}function tw(n,e,t){n=hs(n,sr);const r=hs(n.firestore,yo),s=mD(n.converter,e,t);return vy(r,[oD(my(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,$n.none())])}function nw(n,e,t,...r){n=hs(n,sr);const s=hs(n.firestore,yo),i=my(s);let a;return a=typeof(e=Kt(e))=="string"||e instanceof hy?_z(i,"updateDoc",n._key,e,t,r):bz(i,"updateDoc",n._key,e),vy(s,[a.toMutation(n._key,$n.exists(!0))])}function yD(n){return vy(hs(n.firestore,yo),[new ry(n._key,$n.none())])}function og(n,e){const t=hs(n.firestore,yo),r=us(n),s=mD(n.converter,e);return vy(t,[oD(my(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function vy(n,e){return function(r,s){const i=new ai;return r.asyncQueue.enqueueAndForget(async()=>ZB(await cz(r),s,i)),i.promise}(Bb(n),e)}function kz(n,e,t){const r=t.docs.get(e._key),s=new gD(n);return new pD(n,s,e._key,r,new Bd(t.hasPendingWrites,t.fromCache),e.converter)}function Az(){return new $b("serverTimestamp")}function Dz(...n){return new Wb("arrayUnion",n)}function Rz(...n){return new Hb("arrayRemove",n)}(function(e,t=!0){(function(s){Iu=s})(Ml),xl(new no("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new yo(new h6(r.getProvider("auth-internal")),new g6(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new xe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(d.options.projectId,f)}(a,s),a);return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ri(gS,"4.7.3",e),ri(gS,"4.7.3","esm2017")})();var jz="firebase",Mz="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(jz,Mz,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="firebasestorage.googleapis.com",Oz="storageBucket",Lz=2*60*1e3,Vz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends mi{constructor(e,t,r=0){super(k0(e),`Firebase Storage: ${t} (${k0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return k0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hi||(hi={}));function k0(n){return"storage/"+n}function Fz(){const n="An unknown error occurred, please check the error payload for server response.";return new gi(hi.UNKNOWN,n)}function Bz(){return new gi(hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zz(){return new gi(hi.CANCELED,"User canceled the upload/download.")}function Uz(n){return new gi(hi.INVALID_URL,"Invalid URL '"+n+"'.")}function $z(n){return new gi(hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function EI(n){return new gi(hi.INVALID_ARGUMENT,n)}function xD(){return new gi(hi.APP_DELETED,"The Firebase app was deleted.")}function Wz(n){return new gi(hi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Rs.makeFromUrl(e,t)}catch{return new Rs(e,"")}if(r.path==="")return r;throw $z(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(B){B.path_=decodeURIComponent(B.path)}const f="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${f}/b/${s}/o${v}`,"i"),x={bucket:1,path:3},w=t===vD?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",P=new RegExp(`^https?://${w}/${s}/${T}`,"i"),D=[{regex:l,indices:c,postModify:i},{regex:b,indices:x,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let B=0;B<D.length;B++){const L=D[B],U=L.regex.exec(e);if(U){const M=U[L.indices.bucket];let I=U[L.indices.path];I||(I=""),r=new Rs(M,I),L.postModify(r);break}}if(r==null)throw Uz(e);return r}}class Hz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(n,e,t){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let d=!1;function f(...T){d||(d=!0,e.apply(null,T))}function p(T){s=setTimeout(()=>{s=null,n(b,c())},T)}function v(){i&&clearTimeout(i)}function b(T,...P){if(d){v();return}if(T){v(),f.call(null,T,...P);return}if(c()||a){v(),f.call(null,T,...P);return}r<64&&(r*=2);let D;l===1?(l=2,D=0):D=(r+Math.random())*1e3,p(D)}let x=!1;function w(T){x||(x=!0,v(),!d&&(s!==null?(T||(l=2),clearTimeout(s),p(0)):T||(l=1)))}return p(0),i=setTimeout(()=>{a=!0,w(!0)},t),w}function Gz(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(n){return n!==void 0}function SI(n,e,t,r){if(r<e)throw EI(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw EI(`Invalid value for '${n}'. Expected ${t} or less.`)}function Kz(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var lg;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(lg||(lg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,i=e.indexOf(n)!==-1;return t||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,t,r,s,i,a,l,c,d,f,p,v=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Hm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===lg.NO_ERROR,c=i.getStatus();if(!l||Xz(c,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===lg.ABORT;r(!1,new Hm(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Hm(d,i))})},t=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Yz(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=Fz();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?xD():zz();a(c)}else{const c=Bz();a(c)}};this.canceled_?t(!1,new Hm(!1,null,!0)):this.backoffId_=qz(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Gz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Jz(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Zz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function tU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function nU(n,e,t,r,s,i,a=!0){const l=Kz(n.urlParams),c=n.url+l,d=Object.assign({},n.headers);return eU(d,e),Jz(d,t),Zz(d,i),tU(d,r),new Qz(c,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function sU(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){this._service=e,t instanceof Rs?this._location=t:this._location=Rs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new cg(e,t)}get root(){const e=new Rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sU(this._location.path)}get storage(){return this._service}get parent(){const e=rU(this._location.path);if(e===null)return null;const t=new Rs(this._location.bucket,e);return new cg(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Wz(e)}}function II(n,e){const t=e==null?void 0:e[Oz];return t==null?null:Rs.makeFromBucketSpec(t,n)}function iU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:Ek(s,n.app.options.projectId))}class aU{constructor(e,t,r,s,i){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=vD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Lz,this._maxUploadRetryTime=Vz,this._requests=new Set,s!=null?this._bucket=Rs.makeFromBucketSpec(s,this._host):this._bucket=II(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rs.makeFromBucketSpec(this._url,e):this._bucket=II(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cg(this,e)}_makeRequest(e,t,r,s,i=!0){if(this._deleted)return new Hz(xD());{const a=nU(e,this._appId,r,s,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const PI="@firebase/storage",CI="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="storage";function oU(n=sb(),e){n=Kt(n);const r=Hg(n,wD).getImmediate({identifier:e}),s=bk("storage");return s&&lU(r,...s),r}function lU(n,e,t,r={}){iU(n,e,t,r)}function cU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new aU(t,r,s,e,Ml)}function uU(){xl(new no(wD,cU,"PUBLIC").setMultipleInstances(!0)),ri(PI,CI,""),ri(PI,CI,"esm2017")}uU();const dU={apiKey:"AIzaSyB69zS2gdnSlBOm-jqoLeAyJwhRCizSdrE",authDomain:"iralast-a1eae.firebaseapp.com",projectId:"iralast-a1eae",storageBucket:"iralast-a1eae.firebasestorage.app",messagingSenderId:"997406503909",appId:"1:997406503909:web:c5ebe0fb0393271e2af50c",measurementId:"G-WKNR1DL9WH"},Zb=Nk(dU),Fc=l6(Zb),at=pz(Zb);oU(Zb);const hU=async()=>{try{await gz(at)}catch(n){n.code==="failed-precondition"?console.warn("Firebase persistence failed - multiple tabs open"):n.code==="unimplemented"&&console.warn("Firebase persistence not supported in this browser")}},fU=async()=>{try{await Y4(Fc,sA)}catch(n){console.error("Error setting auth persistence:",n)}};hU();fU();const bD=F.createContext(void 0),xn=()=>{const n=F.useContext(bD);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},mU=({children:n})=>{const[e,t]=F.useState(null),[r,s]=F.useState(null),[i,a]=F.useState(!0);F.useEffect(()=>Q4(Fc,async x=>{if(t(x),x)try{const w=us(at,"users",x.uid),T=await ll(w);T.exists()&&s(T.data())}catch(w){console.error("Error fetching user profile:",w)}else s(null);a(!1)}),[]);const v={currentUser:e,userProfile:r,loading:i,register:async(b,x,w)=>{try{const P=(await H4(Fc,b,x)).user;await iS(P,{displayName:w});const C={uid:P.uid,name:w,email:P.email||b,photoURL:P.photoURL||""};await tw(us(at,"users",P.uid),{...C,createdAt:Az()}),s(C)}catch(T){throw console.error("Error during registration:",T),T}},login:async(b,x)=>{try{await q4(Fc,b,x)}catch(w){throw console.error("Error during login:",w),w}},logout:async()=>{try{await J4(Fc)}catch(b){throw console.error("Error during logout:",b),b}},resetPassword:async b=>{try{await W4(Fc,b)}catch(x){throw console.error("Error sending password reset email:",x),x}},updateUserProfile:async b=>{if(!e)throw new Error("No authenticated user");try{const x=us(at,"users",e.uid);await tw(x,b,{merge:!0}),r&&s({...r,...b}),b.name&&e.displayName!==b.name&&await iS(e,{displayName:b.name})}catch(x){throw console.error("Error updating user profile:",x),x}}};return h.jsx(bD.Provider,{value:v,children:!i&&n})};let pU={data:""},gU=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||pU,yU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vU=/\/\*[^]*?\*\/|  +/g,NI=/\n+/g,$a=(n,e)=>{let t="",r="",s="";for(let i in n){let a=n[i];i[0]=="@"?i[1]=="i"?t=i+" "+a+";":r+=i[1]=="f"?$a(a,i):i+"{"+$a(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=$a(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=$a.p?$a.p(i,a):i+":"+a+";")}return t+(e&&s?e+"{"+s+"}":s)+r},Mi={},_D=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+_D(n[t]);return e}return n},xU=(n,e,t,r,s)=>{let i=_D(n),a=Mi[i]||(Mi[i]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(i));if(!Mi[a]){let c=i!==n?n:(d=>{let f,p,v=[{}];for(;f=yU.exec(d.replace(vU,""));)f[4]?v.shift():f[3]?(p=f[3].replace(NI," ").trim(),v.unshift(v[0][p]=v[0][p]||{})):v[0][f[1]]=f[2].replace(NI," ").trim();return v[0]})(n);Mi[a]=$a(s?{["@keyframes "+a]:c}:c,t?"":"."+a)}let l=t&&Mi.g?Mi.g:null;return t&&(Mi.g=Mi[a]),((c,d,f,p)=>{p?d.data=d.data.replace(p,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(Mi[a],e,r,l),a},wU=(n,e,t)=>n.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let l=a(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":$a(l,""):l===!1?"":l}return r+s+(a??"")},"");function xy(n){let e=this||{},t=n.call?n(e.p):n;return xU(t.unshift?t.raw?wU(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,gU(e.target),e.g,e.o,e.k)}let TD,rw,sw;xy.bind({g:1});let Qi=xy.bind({k:1});function bU(n,e,t,r){$a.p=e,TD=n,rw=t,sw=r}function vo(n,e){let t=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;t.p=Object.assign({theme:rw&&rw()},l),t.o=/ *go\d+/.test(c),l.className=xy.apply(t,r)+(c?" "+c:"");let d=n;return n[0]&&(d=l.as||n,delete l.as),sw&&d[0]&&sw(l),TD(d,l)}return s}}var _U=n=>typeof n=="function",ug=(n,e)=>_U(n)?n(e):n,TU=(()=>{let n=0;return()=>(++n).toString()})(),ED=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),EU=20,SD=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,EU)};case 1:return{...n,toasts:n.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:t}=e;return SD(n,{type:n.toasts.find(i=>i.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Np=[],cl={toasts:[],pausedAt:void 0},Bl=n=>{cl=SD(cl,n),Np.forEach(e=>{e(cl)})},SU={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},IU=(n={})=>{let[e,t]=F.useState(cl),r=F.useRef(cl);F.useEffect(()=>(r.current!==cl&&t(cl),Np.push(t),()=>{let i=Np.indexOf(t);i>-1&&Np.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,l,c;return{...n,...n[i.type],...i,removeDelay:i.removeDelay||((a=n[i.type])==null?void 0:a.removeDelay)||(n==null?void 0:n.removeDelay),duration:i.duration||((l=n[i.type])==null?void 0:l.duration)||(n==null?void 0:n.duration)||SU[i.type],style:{...n.style,...(c=n[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},PU=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||TU()}),hf=n=>(e,t)=>{let r=PU(e,n,t);return Bl({type:2,toast:r}),r.id},rn=(n,e)=>hf("blank")(n,e);rn.error=hf("error");rn.success=hf("success");rn.loading=hf("loading");rn.custom=hf("custom");rn.dismiss=n=>{Bl({type:3,toastId:n})};rn.remove=n=>Bl({type:4,toastId:n});rn.promise=(n,e,t)=>{let r=rn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let i=e.success?ug(e.success,s):void 0;return i?rn.success(i,{id:r,...t,...t==null?void 0:t.success}):rn.dismiss(r),s}).catch(s=>{let i=e.error?ug(e.error,s):void 0;i?rn.error(i,{id:r,...t,...t==null?void 0:t.error}):rn.dismiss(r)}),n};var CU=(n,e)=>{Bl({type:1,toast:{id:n,height:e}})},NU=()=>{Bl({type:5,time:Date.now()})},ih=new Map,kU=1e3,AU=(n,e=kU)=>{if(ih.has(n))return;let t=setTimeout(()=>{ih.delete(n),Bl({type:4,toastId:n})},e);ih.set(n,t)},DU=n=>{let{toasts:e,pausedAt:t}=IU(n);F.useEffect(()=>{if(t)return;let i=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&rn.dismiss(l.id);return}return setTimeout(()=>rn.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,t]);let r=F.useCallback(()=>{t&&Bl({type:6,time:Date.now()})},[t]),s=F.useCallback((i,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=a||{},f=e.filter(b=>(b.position||d)===(i.position||d)&&b.height),p=f.findIndex(b=>b.id===i.id),v=f.filter((b,x)=>x<p&&b.visible).length;return f.filter(b=>b.visible).slice(...l?[v+1]:[0,v]).reduce((b,x)=>b+(x.height||0)+c,0)},[e]);return F.useEffect(()=>{e.forEach(i=>{if(i.dismissed)AU(i.id,i.removeDelay);else{let a=ih.get(i.id);a&&(clearTimeout(a),ih.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:CU,startPause:NU,endPause:r,calculateOffset:s}}},RU=Qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jU=Qi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MU=Qi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OU=vo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${MU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,LU=Qi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,VU=vo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${LU} 1s linear infinite;
`,FU=Qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BU=Qi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zU=vo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,UU=vo("div")`
  position: absolute;
`,$U=vo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,WU=Qi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HU=vo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${WU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qU=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?F.createElement(HU,null,e):e:t==="blank"?null:F.createElement($U,null,F.createElement(VU,{...r}),t!=="loading"&&F.createElement(UU,null,t==="error"?F.createElement(OU,{...r}):F.createElement(zU,{...r})))},GU=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YU=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,KU="0%{opacity:0;} 100%{opacity:1;}",XU="0%{opacity:1;} 100%{opacity:0;}",QU=vo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JU=vo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZU=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=ED()?[KU,XU]:[GU(t),YU(t)];return{animation:e?`${Qi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},e$=F.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?ZU(n.position||e||"top-center",n.visible):{opacity:0},i=F.createElement(qU,{toast:n}),a=F.createElement(JU,{...n.ariaProps},ug(n.message,n));return F.createElement(QU,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:i,message:a}):F.createElement(F.Fragment,null,i,a))});bU(F.createElement);var t$=({id:n,className:e,style:t,onHeightUpdate:r,children:s})=>{let i=F.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(n,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return F.createElement("div",{ref:i,className:e,style:t},s)},n$=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ED()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...s}},r$=xy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qm=16,s$=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:l,handlers:c}=DU(t);return F.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qm,left:qm,right:qm,bottom:qm,pointerEvents:"none",...i},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let f=d.position||e,p=c.calculateOffset(d,{reverseOrder:n,gutter:r,defaultPosition:e}),v=n$(f,p);return F.createElement(t$,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?r$:"",style:v},d.type==="custom"?ug(d.message,d):s?s(d):F.createElement(e$,{toast:d,position:f}))}))};const i$=()=>h.jsx(s$,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",borderRadius:"8px",padding:"16px"},success:{iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(n,e)=>{const t=F.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...d},f)=>F.createElement("svg",{ref:f,...a$,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${o$(n)}`,l].join(" "),...d},[...e.map(([p,v])=>F.createElement(p,v)),...Array.isArray(c)?c:[c]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Ve("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=Ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Ve("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Ve("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Ve("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=Ve("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=Ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=Ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ve("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=Ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Ve("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Ve("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function OI(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function n_(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:OI(e[r])&&OI(n[r])&&Object.keys(e[r]).length>0&&n_(n[r],e[r])})}const ND={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ds(){const n=typeof document<"u"?document:{};return n_(n,ND),n}const E$={document:ND,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function kn(){const n=typeof window<"u"?window:{};return n_(n,E$),n}function S$(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function I$(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function ow(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function mg(){return Date.now()}function P$(n){const e=kn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function lw(n,e){e===void 0&&(e="x");const t=kn();let r,s,i;const a=P$(n);return t.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new t.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function zd(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function C$(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Or(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!C$(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,a=s.length;i<a;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(zd(n[l])&&zd(r[l])?r[l].__swiper__?n[l]=r[l]:Or(n[l],r[l]):!zd(n[l])&&zd(r[l])?(n[l]={},r[l].__swiper__?n[l]=r[l]:Or(n[l],r[l])):n[l]=r[l])}}}return n}function Gm(n,e,t){n.style.setProperty(e,t)}function kD(n){let{swiper:e,targetPosition:t,side:r}=n;const s=kn(),i=-e.translate;let a=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const d=t>i?"next":"prev",f=(v,b)=>d==="next"&&v>=b||d==="prev"&&v<=b,p=()=>{l=new Date().getTime(),a===null&&(a=l);const v=Math.max(Math.min((l-a)/c,1),0),b=.5-Math.cos(v*Math.PI)/2;let x=i+b*(t-i);if(f(x,t)&&(x=t),e.wrapperEl.scrollTo({[r]:x}),f(x,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:x})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(p)};p()}function Br(n,e){e===void 0&&(e="");const t=kn(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function N$(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function k$(n,e){const t=kn();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=N$(n,e))),r}function pg(n){try{console.warn(n);return}catch{}}function gg(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:S$(e)),t}function LI(n){const e=kn(),t=ds(),r=n.getBoundingClientRect(),s=t.body,i=n.clientTop||s.clientTop||0,a=n.clientLeft||s.clientLeft||0,l=n===e?e.scrollY:n.scrollTop,c=n===e?e.scrollX:n.scrollLeft;return{top:r.top+l-i,left:r.left+c-a}}function A$(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function D$(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function qa(n,e){return kn().getComputedStyle(n,null).getPropertyValue(e)}function yg(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function ah(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function cw(n,e,t){const r=kn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function pn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let D0;function R$(){const n=kn(),e=ds();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function AD(){return D0||(D0=R$()),D0}let R0;function j$(n){let{userAgent:e}=n===void 0?{}:n;const t=AD(),r=kn(),s=r.navigator.platform,i=e||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let f=i.match(/(iPad).*OS\s([\d_]+)/);const p=i.match(/(iPod)(.*OS\s([\d_]+))?/),v=!f&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),b=s==="Win32";let x=s==="MacIntel";const w=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&x&&t.touch&&w.indexOf(`${l}x${c}`)>=0&&(f=i.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),x=!1),d&&!b&&(a.os="android",a.android=!0),(f||v||p)&&(a.os="ios",a.ios=!0),a}function DD(n){return n===void 0&&(n={}),R0||(R0=j$(n)),R0}let j0;function M$(){const n=kn(),e=DD();let t=!1;function r(){const l=n.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(n.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));t=c<16||c===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:t||i,needPerspectiveFix:t,need3dFix:a,isWebView:s}}function RD(){return j0||(j0=M$()),j0}function O$(n){let{swiper:e,on:t,emit:r}=n;const s=kn();let i=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(p=>{a=s.requestAnimationFrame(()=>{const{width:v,height:b}=e;let x=v,w=b;p.forEach(T=>{let{contentBoxSize:P,contentRect:C,target:D}=T;D&&D!==e.el||(x=C?C.width:(P[0]||P).inlineSize,w=C?C.height:(P[0]||P).blockSize)}),(x!==v||w!==b)&&l()})}),i.observe(e.el))},d=()=>{a&&s.cancelAnimationFrame(a),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},f=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",f)}),t("destroy",()=>{d(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",f)})}function L$(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const i=[],a=kn(),l=function(f,p){p===void 0&&(p={});const v=a.MutationObserver||a.WebkitMutationObserver,b=new v(x=>{if(e.__preventObserver__)return;if(x.length===1){s("observerUpdate",x[0]);return}const w=function(){s("observerUpdate",x[0])};a.requestAnimationFrame?a.requestAnimationFrame(w):a.setTimeout(w,0)});b.observe(f,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:e.isElement||(typeof p.childList>"u"?!0:p).childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),i.push(b)},c=()=>{if(e.params.observer){if(e.params.observeParents){const f=ah(e.hostEl);for(let p=0;p<f.length;p+=1)l(f[p])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{i.forEach(f=>{f.disconnect()}),i.splice(0,i.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var V$={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];e.apply(r,a)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(i,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],t=i.slice(1,i.length),r=n):(e=i[0].events,t=i[0].data,r=i[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...t])}),n.eventsListeners&&n.eventsListeners[c]&&n.eventsListeners[c].forEach(d=>{d.apply(r,t)})}),n}};function F$(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(qa(r,"padding-left")||0,10)-parseInt(qa(r,"padding-right")||0,10),t=t-parseInt(qa(r,"padding-top")||0,10)-parseInt(qa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function B$(){const n=this;function e(j,A){return parseFloat(j.getPropertyValue(n.getDirectionLabel(A))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:a,wrongRTL:l}=n,c=n.virtual&&t.virtual.enabled,d=c?n.virtual.slides.length:n.slides.length,f=Br(s,`.${n.params.slideClass}, swiper-slide`),p=c?n.virtual.slides.length:f.length;let v=[];const b=[],x=[];let w=t.slidesOffsetBefore;typeof w=="function"&&(w=t.slidesOffsetBefore.call(n));let T=t.slidesOffsetAfter;typeof T=="function"&&(T=t.slidesOffsetAfter.call(n));const P=n.snapGrid.length,C=n.slidesGrid.length;let D=t.spaceBetween,B=-w,L=0,U=0;if(typeof i>"u")return;typeof D=="string"&&D.indexOf("%")>=0?D=parseFloat(D.replace("%",""))/100*i:typeof D=="string"&&(D=parseFloat(D)),n.virtualSize=-D,f.forEach(j=>{a?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Gm(r,"--swiper-centered-offset-before",""),Gm(r,"--swiper-centered-offset-after",""));const M=t.grid&&t.grid.rows>1&&n.grid;M?n.grid.initSlides(f):n.grid&&n.grid.unsetSlides();let I;const N=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(j=>typeof t.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<p;j+=1){I=0;let A;if(f[j]&&(A=f[j]),M&&n.grid.updateSlide(j,A,f),!(f[j]&&qa(A,"display")==="none")){if(t.slidesPerView==="auto"){N&&(f[j].style[n.getDirectionLabel("width")]="");const O=getComputedStyle(A),R=A.style.transform,G=A.style.webkitTransform;if(R&&(A.style.transform="none"),G&&(A.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?cw(A,"width"):cw(A,"height");else{const J=e(O,"width"),ie=e(O,"padding-left"),ue=e(O,"padding-right"),ee=e(O,"margin-left"),ce=e(O,"margin-right"),se=O.getPropertyValue("box-sizing");if(se&&se==="border-box")I=J+ee+ce;else{const{clientWidth:H,offsetWidth:te}=A;I=J+ie+ue+ee+ce+(te-H)}}R&&(A.style.transform=R),G&&(A.style.webkitTransform=G),t.roundLengths&&(I=Math.floor(I))}else I=(i-(t.slidesPerView-1)*D)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),f[j]&&(f[j].style[n.getDirectionLabel("width")]=`${I}px`);f[j]&&(f[j].swiperSlideSize=I),x.push(I),t.centeredSlides?(B=B+I/2+L/2+D,L===0&&j!==0&&(B=B-i/2-D),j===0&&(B=B-i/2-D),Math.abs(B)<1/1e3&&(B=0),t.roundLengths&&(B=Math.floor(B)),U%t.slidesPerGroup===0&&v.push(B),b.push(B)):(t.roundLengths&&(B=Math.floor(B)),(U-Math.min(n.params.slidesPerGroupSkip,U))%n.params.slidesPerGroup===0&&v.push(B),b.push(B),B=B+I+D),n.virtualSize+=I+D,L=I,U+=1}}if(n.virtualSize=Math.max(n.virtualSize,i)+T,a&&l&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+D}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+D}px`),M&&n.grid.updateWrapperSize(I,v),!t.centeredSlides){const j=[];for(let A=0;A<v.length;A+=1){let O=v[A];t.roundLengths&&(O=Math.floor(O)),v[A]<=n.virtualSize-i&&j.push(O)}v=j,Math.floor(n.virtualSize-i)-Math.floor(v[v.length-1])>1&&v.push(n.virtualSize-i)}if(c&&t.loop){const j=x[0]+D;if(t.slidesPerGroup>1){const A=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),O=j*t.slidesPerGroup;for(let R=0;R<A;R+=1)v.push(v[v.length-1]+O)}for(let A=0;A<n.virtual.slidesBefore+n.virtual.slidesAfter;A+=1)t.slidesPerGroup===1&&v.push(v[v.length-1]+j),b.push(b[b.length-1]+j),n.virtualSize+=j}if(v.length===0&&(v=[0]),D!==0){const j=n.isHorizontal()&&a?"marginLeft":n.getDirectionLabel("marginRight");f.filter((A,O)=>!t.cssMode||t.loop?!0:O!==f.length-1).forEach(A=>{A.style[j]=`${D}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let j=0;x.forEach(O=>{j+=O+(D||0)}),j-=D;const A=j>i?j-i:0;v=v.map(O=>O<=0?-w:O>A?A+T:O)}if(t.centerInsufficientSlides){let j=0;x.forEach(O=>{j+=O+(D||0)}),j-=D;const A=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(j+A<i){const O=(i-j-A)/2;v.forEach((R,G)=>{v[G]=R-O}),b.forEach((R,G)=>{b[G]=R+O})}}if(Object.assign(n,{slides:f,snapGrid:v,slidesGrid:b,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Gm(r,"--swiper-centered-offset-before",`${-v[0]}px`),Gm(r,"--swiper-centered-offset-after",`${n.size/2-x[x.length-1]/2}px`);const j=-n.snapGrid[0],A=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(O=>O+j),n.slidesGrid=n.slidesGrid.map(O=>O+A)}if(p!==d&&n.emit("slidesLengthChange"),v.length!==P&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),b.length!==C&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!c&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const j=`${t.containerModifierClass}backface-hidden`,A=n.el.classList.contains(j);p<=t.maxBackfaceHiddenSlides?A||n.el.classList.add(j):A&&n.el.classList.remove(j)}}function z$(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{t.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;t.push(a(l))}else t.push(a(e.activeIndex));for(i=0;i<t.length;i+=1)if(typeof t[i]<"u"){const l=t[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function U$(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const VI=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function $$(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-n;s&&(a=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=t.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const d=r[c];let f=d.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(f-=r[0].swiperSlideOffset);const p=(a+(t.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+l),v=(a-i[0]+(t.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+l),b=-(a-f),x=b+e.slidesSizesGrid[c],w=b>=0&&b<=e.size-e.slidesSizesGrid[c],T=b>=0&&b<e.size-1||x>1&&x<=e.size||b<=0&&x>=e.size;T&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c)),VI(d,T,t.slideVisibleClass),VI(d,w,t.slideFullyVisibleClass),d.progress=s?-p:p,d.originalProgress=s?-v:v}}function W$(n){const e=this;if(typeof n>"u"){const f=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*f||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,d=a;if(r===0)s=0,i=!0,a=!0;else{s=(n-e.minTranslate())/r;const f=Math.abs(n-e.minTranslate())<1,p=Math.abs(n-e.maxTranslate())<1;i=f||s<=0,a=p||s>=1,f&&(s=0),p&&(s=1)}if(t.loop){const f=e.getSlideIndexByData(0),p=e.getSlideIndexByData(e.slides.length-1),v=e.slidesGrid[f],b=e.slidesGrid[p],x=e.slidesGrid[e.slidesGrid.length-1],w=Math.abs(n);w>=v?l=(w-v)/x:l=(w+x-b)/x,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),i&&!c&&e.emit("reachBeginning toEdge"),a&&!d&&e.emit("reachEnd toEdge"),(c&&!i||d&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const M0=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function H$(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,i=n.virtual&&t.virtual.enabled,a=n.grid&&t.grid&&t.grid.rows>1,l=p=>Br(r,`.${t.slideClass}${p}, swiper-slide${p}`)[0];let c,d,f;if(i)if(t.loop){let p=s-n.virtual.slidesBefore;p<0&&(p=n.virtual.slides.length+p),p>=n.virtual.slides.length&&(p-=n.virtual.slides.length),c=l(`[data-swiper-slide-index="${p}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.find(p=>p.column===s),f=e.find(p=>p.column===s+1),d=e.find(p=>p.column===s-1)):c=e[s];c&&(a||(f=D$(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f&&(f=e[0]),d=A$(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(p=>{M0(p,p===c,t.slideActiveClass),M0(p,p===f,t.slideNextClass),M0(p,p===d,t.slidePrevClass)}),n.emitSlidesClasses()}const Dp=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},O0=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},uw=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,d)=>a+r+d)),n.slides.forEach((c,d)=>{l.includes(c.column)&&O0(n,d)});return}const i=s+r-1;if(n.params.rewind||n.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%t+t)%t;(l<s||l>i)&&O0(n,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,t-1);a+=1)a!==s&&(a>i||a<s)&&O0(n,a)};function q$(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function G$(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=n,d;const f=b=>{let x=b-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof c>"u"&&(c=q$(e)),r.indexOf(t)>=0)d=r.indexOf(t);else{const b=Math.min(s.slidesPerGroupSkip,c);d=b+Math.floor((c-b)/s.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===i&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(c);return}const p=e.grid&&s.grid&&s.grid.rows>1;let v;if(e.virtual&&s.virtual.enabled&&s.loop)v=f(c);else if(p){const b=e.slides.find(w=>w.column===c);let x=parseInt(b.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(b),0)),v=Math.floor(x/s.grid.rows)}else if(e.slides[c]){const b=e.slides[c].getAttribute("data-swiper-slide-index");b?v=parseInt(b,10):v=c}else v=c;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:a,realIndex:v,previousIndex:i,activeIndex:c}),e.initialized&&uw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==v&&e.emit("realIndexChange"),e.emit("slideChange"))}function Y$(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<t.slides.length;l+=1)if(t.slides[l]===s){i=!0,a=l;break}}if(s&&i)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var K$={updateSize:F$,updateSlides:B$,updateAutoHeight:z$,updateSlidesOffset:U$,updateSlidesProgress:$$,updateProgress:W$,updateSlidesClasses:H$,updateActiveIndex:G$,updateClickedSlide:Y$};function X$(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let a=lw(i,n);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function Q$(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=t;let l=0,c=0;const d=0;t.isHorizontal()?l=r?-n:n:c=n,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c,s.cssMode?i[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:s.virtualTranslate||(t.isHorizontal()?l-=t.cssOverflowAdjustment():c-=t.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let f;const p=t.maxTranslate()-t.minTranslate();p===0?f=0:f=(n-t.minTranslate())/p,f!==a&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function J$(){return-this.snapGrid[0]}function Z$(){return-this.snapGrid[this.snapGrid.length-1]}function e9(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),d=i.maxTranslate();let f;if(r&&n>c?f=c:r&&n<d?f=d:f=n,i.updateProgress(f),a.cssMode){const p=i.isHorizontal();if(e===0)l[p?"scrollLeft":"scrollTop"]=-f;else{if(!i.support.smoothScroll)return kD({swiper:i,targetPosition:-f,side:p?"left":"top"}),!0;l.scrollTo({[p?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(f),t&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(f),t&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(v){!i||i.destroyed||v.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,t&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var t9={getTranslate:X$,setTranslate:Q$,minTranslate:J$,maxTranslate:Z$,translateTo:e9};function n9(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function jD(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:i,previousIndex:a}=e;let l=r;if(l||(i>a?l="next":i<a?l="prev":l="reset"),e.emit(`transition${s}`),t&&i!==a){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function r9(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),jD({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function s9(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),jD({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var i9={setTransition:n9,transitionStart:r9,transitionEnd:s9};function a9(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;let a=n;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:f,activeIndex:p,rtlTranslate:v,wrapperEl:b,enabled:x}=i;if(!x&&!r&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const w=Math.min(i.params.slidesPerGroupSkip,a);let T=w+Math.floor((a-w)/i.params.slidesPerGroup);T>=c.length&&(T=c.length-1);const P=-c[T];if(l.normalizeSlideIndex)for(let M=0;M<d.length;M+=1){const I=-Math.floor(P*100),N=Math.floor(d[M]*100),j=Math.floor(d[M+1]*100);typeof d[M+1]<"u"?I>=N&&I<j-(j-N)/2?a=M:I>=N&&I<j&&(a=M+1):I>=N&&(a=M)}if(i.initialized&&a!==p&&(!i.allowSlideNext&&(v?P>i.translate&&P>i.minTranslate():P<i.translate&&P<i.minTranslate())||!i.allowSlidePrev&&P>i.translate&&P>i.maxTranslate()&&(p||0)!==a))return!1;a!==(f||0)&&t&&i.emit("beforeSlideChangeStart"),i.updateProgress(P);let C;a>p?C="next":a<p?C="prev":C="reset";const D=i.virtual&&i.params.virtual.enabled;if(!(D&&s)&&(v&&-P===i.translate||!v&&P===i.translate))return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(P),C!=="reset"&&(i.transitionStart(t,C),i.transitionEnd(t,C)),!1;if(l.cssMode){const M=i.isHorizontal(),I=v?P:-P;if(e===0)D&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),D&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{b[M?"scrollLeft":"scrollTop"]=I})):b[M?"scrollLeft":"scrollTop"]=I,D&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return kD({swiper:i,targetPosition:I,side:M?"left":"top"}),!0;b.scrollTo({[M?"left":"top"]:I,behavior:"smooth"})}return!0}const U=RD().isSafari;return D&&!s&&U&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(e),i.setTranslate(P),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(t,C),e===0?i.transitionEnd(t,C):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(I){!i||i.destroyed||I.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(t,C))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function o9(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const v=a*s.params.grid.rows;l=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d}=s.params;let f=s.params.slidesPerView;f==="auto"?f=s.slidesPerViewDynamic():(f=Math.ceil(parseFloat(s.params.slidesPerView,10)),d&&f%2===0&&(f=f+1));let p=c-l<f;if(d&&(p=p||l<Math.ceil(f/2)),r&&d&&s.params.slidesPerView!=="auto"&&!i&&(p=!1),p){const v=d?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?l+1:l-c+1,slideRealIndex:v==="next"?s.realIndex:void 0})}if(i){const v=a*s.params.grid.rows;a=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,t,r)}),s}function l9(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,d=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!d&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,n,e,t)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+c,n,e,t)}function c9(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const f=r.virtual&&s.virtual.enabled;if(s.loop){if(d&&!f&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const p=l?r.translate:-r.translate;function v(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const b=v(p),x=i.map(C=>v(C)),w=s.freeMode&&s.freeMode.enabled;let T=i[x.indexOf(b)-1];if(typeof T>"u"&&(s.cssMode||w)){let C;i.forEach((D,B)=>{b>=D&&(C=B)}),typeof C<"u"&&(T=w?i[C]:i[C>0?C-1:C])}let P=0;if(typeof T<"u"&&(P=a.indexOf(T),P<0&&(P=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(P=P-r.slidesPerViewDynamic("previous",!0)+1,P=Math.max(P,0))),s.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(P,n,e,t)}),!0;return r.slideTo(P,n,e,t)}function u9(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function d9(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const d=s.snapGrid[l],f=s.snapGrid[l+1];c-d>(f-d)*r&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[l-1],f=s.snapGrid[l];c-d<=(f-d)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,n,e,t)}function h9(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,i;const a=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;i=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(Br(t,`${a}[data-swiper-slide-index="${i}"]`)[0]),ow(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(Br(t,`${a}[data-swiper-slide-index="${i}"]`)[0]),ow(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var f9={slideTo:a9,slideToLoop:o9,slideNext:l9,slidePrev:c9,slideReset:u9,slideToClosest:d9,slideToClickedSlide:h9};function m9(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{Br(r,`.${t.slideClass}, swiper-slide`).forEach((p,v)=>{p.setAttribute("data-swiper-slide-index",v)})},i=e.grid&&t.grid&&t.grid.rows>1,a=t.slidesPerGroup*(i?t.grid.rows:1),l=e.slides.length%a!==0,c=i&&e.slides.length%t.grid.rows!==0,d=f=>{for(let p=0;p<f;p+=1){const v=e.isElement?gg("swiper-slide",[t.slideBlankClass]):gg("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(v)}};if(l){if(t.loopAddBlankSlides){const f=a-e.slides.length%a;d(f),e.recalcSlides(),e.updateSlides()}else pg("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(t.loopAddBlankSlides){const f=t.grid.rows-e.slides.length%t.grid.rows;d(f),e.recalcSlides(),e.updateSlides()}else pg("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function p9(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:a,byMousewheel:l}=n===void 0?{}:n;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:p,slidesEl:v,params:b}=c,{centeredSlides:x}=b;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&b.virtual.enabled){t&&(!b.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):b.centeredSlides&&c.snapIndex<b.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=p,c.emit("loopFix");return}let w=b.slidesPerView;w==="auto"?w=c.slidesPerViewDynamic():(w=Math.ceil(parseFloat(b.slidesPerView,10)),x&&w%2===0&&(w=w+1));const T=b.slidesPerGroupAuto?w:b.slidesPerGroup;let P=T;P%T!==0&&(P+=T-P%T),P+=b.loopAdditionalSlides,c.loopedSlides=P;const C=c.grid&&b.grid&&b.grid.rows>1;d.length<w+P?pg("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):C&&b.grid.fill==="row"&&pg("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const D=[],B=[];let L=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.find(R=>R.classList.contains(b.slideActiveClass))):L=i;const U=r==="next"||!r,M=r==="prev"||!r;let I=0,N=0;const j=C?Math.ceil(d.length/b.grid.rows):d.length,O=(C?d[i].column:i)+(x&&typeof s>"u"?-w/2+.5:0);if(O<P){I=Math.max(P-O,T);for(let R=0;R<P-O;R+=1){const G=R-Math.floor(R/j)*j;if(C){const J=j-G-1;for(let ie=d.length-1;ie>=0;ie-=1)d[ie].column===J&&D.push(ie)}else D.push(j-G-1)}}else if(O+w>j-P){N=Math.max(O-(j-P*2),T);for(let R=0;R<N;R+=1){const G=R-Math.floor(R/j)*j;C?d.forEach((J,ie)=>{J.column===G&&B.push(ie)}):B.push(G)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),M&&D.forEach(R=>{d[R].swiperLoopMoveDOM=!0,v.prepend(d[R]),d[R].swiperLoopMoveDOM=!1}),U&&B.forEach(R=>{d[R].swiperLoopMoveDOM=!0,v.append(d[R]),d[R].swiperLoopMoveDOM=!1}),c.recalcSlides(),b.slidesPerView==="auto"?c.updateSlides():C&&(D.length>0&&M||B.length>0&&U)&&c.slides.forEach((R,G)=>{c.grid.updateSlide(G,R,c.slides)}),b.watchSlidesProgress&&c.updateSlidesOffset(),t){if(D.length>0&&M){if(typeof e>"u"){const R=c.slidesGrid[L],J=c.slidesGrid[L+I]-R;l?c.setTranslate(c.translate-J):(c.slideTo(L+Math.ceil(I),0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-J,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-J))}else if(s){const R=C?D.length/b.grid.rows:D.length;c.slideTo(c.activeIndex+R,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(B.length>0&&U)if(typeof e>"u"){const R=c.slidesGrid[L],J=c.slidesGrid[L-N]-R;l?c.setTranslate(c.translate-J):(c.slideTo(L-N,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-J,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-J))}else{const R=C?B.length/b.grid.rows:B.length;c.slideTo(c.activeIndex-R,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=p,c.controller&&c.controller.control&&!a){const R={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(G=>{!G.destroyed&&G.params.loop&&G.loopFix({...R,slideTo:G.params.slidesPerView===b.slidesPerView?t:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...R,slideTo:c.controller.control.params.slidesPerView===b.slidesPerView?t:!1})}c.emit("loopFix")}function g9(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var y9={loopCreate:m9,loopFix:p9,loopDestroy:g9};function v9(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function x9(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var w9={setGrabCursor:v9,unsetGrabCursor:x9};function b9(n,e){e===void 0&&(e=this);function t(r){if(!r||r===ds()||r===kn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function FI(n,e,t){const r=kn(),{params:s}=n,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(t<=a||t>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function _9(n){const e=this,t=ds();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){FI(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!k$(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",f=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&f&&(c=f[0]);const p=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,v=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(v?b9(p,c):c.closest(p))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const b=a.currentX,x=a.currentY;if(!FI(e,r,b))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=b,a.startY=x,s.touchStartTime=mg(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let w=!0;c.matches(s.focusableElements)&&(w=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&t.activeElement.blur();const T=w&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||T)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function T9(n){const e=ds(),t=this,r=t.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=t;if(!l||!s.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(L=>L.identifier===r.touchId),!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",c);return}const f=d.pageX,p=d.pageY;if(c.preventedByNestedSwiper){i.startX=f,i.startY=p;return}if(!t.allowTouchMove){c.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:f,startY:p,currentX:f,currentY:p}),r.touchStartTime=mg());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(p<i.startY&&t.translate<=t.maxTranslate()||p>i.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(f<i.startX&&t.translate<=t.maxTranslate()||f>i.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=f,i.currentY=p;const v=i.currentX-i.startX,b=i.currentY-i.startY;if(t.params.threshold&&Math.sqrt(v**2+b**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let L;t.isHorizontal()&&i.currentY===i.startY||t.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:v*v+b*b>=25&&(L=Math.atan2(Math.abs(b),Math.abs(v))*180/Math.PI,r.isScrolling=t.isHorizontal()?L>s.touchAngle:90-L>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let x=t.isHorizontal()?v:b,w=t.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(x=Math.abs(x)*(a?1:-1),w=Math.abs(w)*(a?1:-1)),i.diff=x,x*=s.touchRatio,a&&(x=-x,w=-w);const T=t.touchesDirection;t.swipeDirection=x>0?"prev":"next",t.touchesDirection=w>0?"prev":"next";const P=t.params.loop&&!s.cssMode,C=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(P&&C&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const L=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(L)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&T!==t.touchesDirection&&P&&C&&Math.abs(x)>=1){Object.assign(i,{startX:f,startY:p,currentX:f,currentY:p,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let D=!0,B=s.resistanceRatio;if(s.touchReleaseOnEdges&&(B=0),x>0?(P&&C&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(D=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+x)**B))):x<0&&(P&&C&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(D=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-x)**B))),D&&(c.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=t.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function E9(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(L=>L.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:d,enabled:f}=e;if(!f||!a.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=mg(),v=p-t.touchStartTime;if(e.allowClick){const L=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(L&&L[0]||r.target,L),e.emit("tap click",r),v<300&&p-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=mg(),ow(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||l.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let b;if(a.followFinger?b=c?e.translate:-e.translate:b=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:b});return}const x=b>=-e.maxTranslate()&&!e.params.loop;let w=0,T=e.slidesSizesGrid[0];for(let L=0;L<d.length;L+=L<a.slidesPerGroupSkip?1:a.slidesPerGroup){const U=L<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof d[L+U]<"u"?(x||b>=d[L]&&b<d[L+U])&&(w=L,T=d[L+U]-d[L]):(x||b>=d[L])&&(w=L,T=d[d.length-1]-d[d.length-2])}let P=null,C=null;a.rewind&&(e.isBeginning?C=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(P=0));const D=(b-d[w])/T,B=w<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(v>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(D>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?P:w+B):e.slideTo(w)),e.swipeDirection==="prev"&&(D>1-a.longSwipesRatio?e.slideTo(w+B):C!==null&&D<0&&Math.abs(D)>a.longSwipesRatio?e.slideTo(C):e.slideTo(w))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(w+B):e.slideTo(w):(e.swipeDirection==="next"&&e.slideTo(P!==null?P:w+B),e.swipeDirection==="prev"&&e.slideTo(C!==null?C:w))}}function BI(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=n,a=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!l?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!a?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&i!==n.snapGrid&&n.checkOverflow()}function S9(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function I9(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const i=n.maxTranslate()-n.minTranslate();i===0?s=0:s=(n.translate-n.minTranslate())/i,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function P9(n){const e=this;Dp(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function C9(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const MD=(n,e)=>{const t=ds(),{params:r,el:s,wrapperEl:i,device:a}=n,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;!s||typeof s=="string"||(t[c]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",n.onTouchStart,{passive:!1}),s[c]("pointerdown",n.onTouchStart,{passive:!1}),t[c]("touchmove",n.onTouchMove,{passive:!1,capture:l}),t[c]("pointermove",n.onTouchMove,{passive:!1,capture:l}),t[c]("touchend",n.onTouchEnd,{passive:!0}),t[c]("pointerup",n.onTouchEnd,{passive:!0}),t[c]("pointercancel",n.onTouchEnd,{passive:!0}),t[c]("touchcancel",n.onTouchEnd,{passive:!0}),t[c]("pointerout",n.onTouchEnd,{passive:!0}),t[c]("pointerleave",n.onTouchEnd,{passive:!0}),t[c]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",n.onClick,!0),r.cssMode&&i[c]("scroll",n.onScroll),r.updateOnWindowResize?n[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",BI,!0):n[d]("observerUpdate",BI,!0),s[c]("load",n.onLoad,{capture:!0}))};function N9(){const n=this,{params:e}=n;n.onTouchStart=_9.bind(n),n.onTouchMove=T9.bind(n),n.onTouchEnd=E9.bind(n),n.onDocumentTouchStart=C9.bind(n),e.cssMode&&(n.onScroll=I9.bind(n)),n.onClick=S9.bind(n),n.onLoad=P9.bind(n),MD(n,"on")}function k9(){MD(this,"off")}var A9={attachEvents:N9,detachEvents:k9};const zI=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function D9(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=ds(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:a.querySelector(r.breakpointsBase),d=n.getBreakpoint(i,l,c);if(!d||n.currentBreakpoint===d)return;const p=(d in i?i[d]:void 0)||n.originalParams,v=zI(n,r),b=zI(n,p),x=n.params.grabCursor,w=p.grabCursor,T=r.enabled;v&&!b?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!v&&b&&(s.classList.add(`${r.containerModifierClass}grid`),(p.grid.fill&&p.grid.fill==="column"||!p.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),x&&!w?n.unsetGrabCursor():!x&&w&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(U=>{if(typeof p[U]>"u")return;const M=r[U]&&r[U].enabled,I=p[U]&&p[U].enabled;M&&!I&&n[U].disable(),!M&&I&&n[U].enable()});const P=p.direction&&p.direction!==r.direction,C=r.loop&&(p.slidesPerView!==r.slidesPerView||P),D=r.loop;P&&t&&n.changeDirection(),Or(n.params,p);const B=n.params.enabled,L=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),T&&!B?n.disable():!T&&B&&n.enable(),n.currentBreakpoint=d,n.emit("_beforeBreakpoint",p),t&&(C?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!D&&L?(n.loopCreate(e),n.updateSlides()):D&&!L&&n.loopDestroy()),n.emit("breakpoint",p)}function R9(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=kn(),i=e==="window"?s.innerHeight:t.clientHeight,a=Object.keys(n).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:d}=a[l];e==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=t.clientWidth&&(r=c)}return r||"max"}var j9={setBreakpoint:D9,getBreakpoint:R9};function M9(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function O9(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:i}=n,a=M9(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),s.classList.add(...e),n.emitContainerClasses()}function L9(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var V9={addClasses:O9,removeClasses:L9};function F9(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,i=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>i}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var B9={checkOverflow:F9},dw={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function z9(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Or(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in i)){Or(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),Or(e,r)}}const L0={eventsEmitter:V$,update:K$,translate:t9,transition:i9,slide:f9,loop:y9,grabCursor:w9,events:A9,breakpoints:j9,checkOverflow:B9,classes:V9},V0={};let r_=class Li{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=Or({},t),e&&!t.el&&(t.el=e);const a=ds();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const f=[];return a.querySelectorAll(t.el).forEach(p=>{const v=Or({},t,{el:p});f.push(new Li(v))}),f}const l=this;l.__swiper__=!0,l.support=AD(),l.device=DD({userAgent:t.userAgent}),l.browser=RD(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const c={};l.modules.forEach(f=>{f({params:t,swiper:l,extendParams:z9(t,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Or({},dw,c);return l.params=Or({},d,V0,t),l.originalParams=Or({},l.params),l.passedParams=Or({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach(f=>{l.on(f,l.params.on[f])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=Br(t,`.${r.slideClass}, swiper-slide`),i=yg(s[0]);return yg(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Br(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:d}=r;let f=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let p=i[d]?Math.ceil(i[d].swiperSlideSize):0,v;for(let b=d+1;b<i.length;b+=1)i[b]&&!v&&(p+=Math.ceil(i[b].swiperSlideSize),f+=1,p>c&&(v=!0));for(let b=d-1;b>=0;b-=1)i[b]&&!v&&(p+=i[b].swiperSlideSize,f+=1,p>c&&(v=!0))}else if(e==="current")for(let p=d+1;p<i.length;p+=1)(t?a[p]+l[p]-a[d]<c:a[p]-a[d]<c)&&(f+=1);else for(let p=d-1;p>=0;p-=1)a[d]-a[p]<c&&(f+=1);return f}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Dp(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Br(r,s())[0];return!a&&t.params.createElements&&(a=gg("div",t.params.wrapperClass),r.append(a),Br(r,`.${t.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(t,{el:r,wrapperEl:a,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||qa(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||qa(r,"direction")==="rtl"),wrongRTL:qa(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Dp(t,i):i.addEventListener("load",a=>{Dp(t,a.target)})}),uw(t),t.initialized=!0,uw(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),I$(r)),r.destroyed=!0),null}static extendDefaults(e){Or(V0,e)}static get extendedDefaults(){return V0}static get defaults(){return dw}static installModule(e){Li.prototype.__modules__||(Li.prototype.__modules__=[]);const t=Li.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Li.installModule(t)),Li):(Li.installModule(e),Li)}};Object.keys(L0).forEach(n=>{Object.keys(L0[n]).forEach(e=>{r_.prototype[e]=L0[n][e]})});r_.use([O$,L$]);const OD=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Dl(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function eu(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Dl(e[r])&&Dl(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:eu(n[r],e[r]):n[r]=e[r]})}function LD(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function VD(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function FD(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function BD(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function U9(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function $9(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:c}=n;const d=s.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:f,pagination:p,navigation:v,scrollbar:b,virtual:x,thumbs:w}=e;let T,P,C,D,B,L,U,M;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&f.thumbs&&(!f.thumbs.swiper||f.thumbs.swiper.destroyed)&&(T=!0),s.includes("controller")&&r.controller&&r.controller.control&&f.controller&&!f.controller.control&&(P=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(f.pagination||f.pagination===!1)&&p&&!p.el&&(C=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(f.scrollbar||f.scrollbar===!1)&&b&&!b.el&&(D=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||i)&&(f.navigation||f.navigation===!1)&&v&&!v.prevEl&&!v.nextEl&&(B=!0);const I=N=>{e[N]&&(e[N].destroy(),N==="navigation"?(e.isElement&&(e[N].prevEl.remove(),e[N].nextEl.remove()),f[N].prevEl=void 0,f[N].nextEl=void 0,e[N].prevEl=void 0,e[N].nextEl=void 0):(e.isElement&&e[N].el.remove(),f[N].el=void 0,e[N].el=void 0))};s.includes("loop")&&e.isElement&&(f.loop&&!r.loop?L=!0:!f.loop&&r.loop?U=!0:M=!0),d.forEach(N=>{if(Dl(f[N])&&Dl(r[N]))Object.assign(f[N],r[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in r[N]&&!r[N].enabled&&I(N);else{const j=r[N];(j===!0||j===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?j===!1&&I(N):f[N]=r[N]}}),d.includes("controller")&&!P&&e.controller&&e.controller.control&&f.controller&&f.controller.control&&(e.controller.control=f.controller.control),s.includes("children")&&t&&x&&f.virtual.enabled?(x.slides=t,x.update(!0)):s.includes("virtual")&&x&&f.virtual.enabled&&(t&&(x.slides=t),x.update(!0)),s.includes("children")&&t&&f.loop&&(M=!0),T&&w.init()&&w.update(!0),P&&(e.controller.control=f.controller.control),C&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(f.pagination.el=c),p.init(),p.render(),p.update()),D&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(f.scrollbar.el=l),b.init(),b.updateSize(),b.setTranslate()),B&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),i&&(f.navigation.nextEl=i),a&&(f.navigation.prevEl=a),v.init(),v.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(L||M)&&e.loopDestroy(),(U||M)&&e.loopCreate(),e.update()}function W9(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};eu(t,dw),t._emitClasses=!0,t.init=!1;const i={},a=OD.map(c=>c.replace(/_/,"")),l=Object.assign({},n);return Object.keys(l).forEach(c=>{typeof n[c]>"u"||(a.indexOf(c)>=0?Dl(n[c])?(t[c]={},s[c]={},eu(t[c],n[c]),eu(s[c],n[c])):(t[c]=n[c],s[c]=n[c]):c.search(/on[A-Z]/)===0&&typeof n[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=n[c]:t.on[`${c[2].toLowerCase()}${c.substr(3)}`]=n[c]:i[c]=n[c])}),["navigation","pagination","scrollbar"].forEach(c=>{t[c]===!0&&(t[c]={}),t[c]===!1&&delete t[c]}),{params:t,passedParams:s,rest:i,events:r}}function H9(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:a,swiper:l}=n;LD(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),VD(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),FD(e)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(t)}function q9(n,e,t,r,s){const i=[];if(!e)return i;const a=c=>{i.indexOf(c)<0&&i.push(c)};if(t&&r){const c=r.map(s),d=t.map(s);c.join("")!==d.join("")&&a("children"),r.length!==t.length&&a("children")}return OD.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in n&&c in e)if(Dl(n[c])&&Dl(e[c])){const d=Object.keys(n[c]),f=Object.keys(e[c]);d.length!==f.length?a(c):(d.forEach(p=>{n[c][p]!==e[c][p]&&a(c)}),f.forEach(p=>{n[c][p]!==e[c][p]&&a(c)}))}else n[c]!==e[c]&&a(c)}),i}const G9=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function vg(){return vg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vg.apply(this,arguments)}function zD(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function UD(n){const e=[];return pe.Children.toArray(n).forEach(t=>{zD(t)?e.push(t):t.props&&t.props.children&&UD(t.props.children).forEach(r=>e.push(r))}),e}function Y9(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return pe.Children.toArray(n).forEach(r=>{if(zD(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=UD(r.props.children);s.length>0?s.forEach(i=>e.push(i)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function K9(n,e,t){if(!t)return null;const r=f=>{let p=f;return f<0?p=e.length+f:p>=e.length&&(p=p-e.length),p},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:i,to:a}=t,l=n.params.loop?-e.length:0,c=n.params.loop?e.length*2:e.length,d=[];for(let f=l;f<c;f+=1)f>=i&&f<=a&&d.push(e[r(f)]);return d.map((f,p)=>pe.cloneElement(f,{swiper:n,style:s,key:f.props.virtualIndex||f.key||`slide-${p}`}))}function oh(n,e){return typeof window>"u"?F.useEffect(n,e):F.useLayoutEffect(n,e)}const UI=F.createContext(null),X9=F.createContext(null),jh=F.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:i,onSwiper:a,...l}=n===void 0?{}:n,c=!1;const[d,f]=F.useState("swiper"),[p,v]=F.useState(null),[b,x]=F.useState(!1),w=F.useRef(!1),T=F.useRef(null),P=F.useRef(null),C=F.useRef(null),D=F.useRef(null),B=F.useRef(null),L=F.useRef(null),U=F.useRef(null),M=F.useRef(null),{params:I,passedParams:N,rest:j,events:A}=W9(l),{slides:O,slots:R}=Y9(i),G=()=>{x(!b)};Object.assign(I.on,{_containerClasses(ce,se){f(se)}});const J=()=>{Object.assign(I.on,A),c=!0;const ce={...I};if(delete ce.wrapperClass,P.current=new r_(ce),P.current.virtual&&P.current.params.virtual.enabled){P.current.virtual.slides=O;const se={cache:!1,slides:O,renderExternal:v,renderExternalUpdate:!1};eu(P.current.params.virtual,se),eu(P.current.originalParams.virtual,se)}};T.current||J(),P.current&&P.current.on("_beforeBreakpoint",G);const ie=()=>{c||!A||!P.current||Object.keys(A).forEach(ce=>{P.current.on(ce,A[ce])})},ue=()=>{!A||!P.current||Object.keys(A).forEach(ce=>{P.current.off(ce,A[ce])})};F.useEffect(()=>()=>{P.current&&P.current.off("_beforeBreakpoint",G)}),F.useEffect(()=>{!w.current&&P.current&&(P.current.emitSlidesClasses(),w.current=!0)}),oh(()=>{if(e&&(e.current=T.current),!!T.current)return P.current.destroyed&&J(),H9({el:T.current,nextEl:B.current,prevEl:L.current,paginationEl:U.current,scrollbarEl:M.current,swiper:P.current},I),a&&!P.current.destroyed&&a(P.current),()=>{P.current&&!P.current.destroyed&&P.current.destroy(!0,!1)}},[]),oh(()=>{ie();const ce=q9(N,C.current,O,D.current,se=>se.key);return C.current=N,D.current=O,ce.length&&P.current&&!P.current.destroyed&&$9({swiper:P.current,slides:O,passedParams:N,changedParams:ce,nextEl:B.current,prevEl:L.current,scrollbarEl:M.current,paginationEl:U.current}),()=>{ue()}}),oh(()=>{G9(P.current)},[p]);function ee(){return I.virtual?K9(P.current,O,p):O.map((ce,se)=>pe.cloneElement(ce,{swiper:P.current,swiperSlideIndex:se}))}return pe.createElement(r,vg({ref:T,className:BD(`${d}${t?` ${t}`:""}`)},j),pe.createElement(X9.Provider,{value:P.current},R["container-start"],pe.createElement(s,{className:U9(I.wrapperClass)},R["wrapper-start"],ee(),R["wrapper-end"]),LD(I)&&pe.createElement(pe.Fragment,null,pe.createElement("div",{ref:L,className:"swiper-button-prev"}),pe.createElement("div",{ref:B,className:"swiper-button-next"})),FD(I)&&pe.createElement("div",{ref:M,className:"swiper-scrollbar"}),VD(I)&&pe.createElement("div",{ref:U,className:"swiper-pagination"}),R["container-end"]))});jh.displayName="Swiper";const Mh=F.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:i,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:d,...f}=n===void 0?{}:n;const p=F.useRef(null),[v,b]=F.useState("swiper-slide"),[x,w]=F.useState(!1);function T(B,L,U){L===p.current&&b(U)}oh(()=>{if(typeof d<"u"&&(p.current.swiperSlideIndex=d),e&&(e.current=p.current),!(!p.current||!i)){if(i.destroyed){v!=="swiper-slide"&&b("swiper-slide");return}return i.on("_slideClass",T),()=>{i&&i.off("_slideClass",T)}}}),oh(()=>{i&&p.current&&!i.destroyed&&b(i.getSlideClasses(p.current))},[i]);const P={isActive:v.indexOf("swiper-slide-active")>=0,isVisible:v.indexOf("swiper-slide-visible")>=0,isPrev:v.indexOf("swiper-slide-prev")>=0,isNext:v.indexOf("swiper-slide-next")>=0},C=()=>typeof r=="function"?r(P):r,D=()=>{w(!0)};return pe.createElement(t,vg({ref:p,className:BD(`${v}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:D},f),a&&pe.createElement(UI.Provider,{value:P},pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},C(),l&&!x&&pe.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&pe.createElement(UI.Provider,{value:P},C(),l&&!x&&pe.createElement("div",{className:"swiper-lazy-preloader"})))});Mh.displayName="SwiperSlide";function $D(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let i=Br(n.el,`.${r[s]}`)[0];i||(i=gg("div",r[s]),i.className=r[s],n.el.append(i)),t[s]=i,e[s]=i}}),t}function xg(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(x){let w;return x&&typeof x=="string"&&e.isElement&&(w=e.el.querySelector(x)||e.hostEl.querySelector(x),w)?w:(x&&(typeof x=="string"&&(w=[...document.querySelectorAll(x)]),e.params.uniqueNavElements&&typeof x=="string"&&w&&w.length>1&&e.el.querySelectorAll(x).length===1?w=e.el.querySelector(x):w&&w.length===1&&(w=w[0])),x&&!w?x:w)}function a(x,w){const T=e.params.navigation;x=pn(x),x.forEach(P=>{P&&(P.classList[w?"add":"remove"](...T.disabledClass.split(" ")),P.tagName==="BUTTON"&&(P.disabled=w),e.params.watchOverflow&&e.enabled&&P.classList[e.isLocked?"add":"remove"](T.lockClass))})}function l(){const{nextEl:x,prevEl:w}=e.navigation;if(e.params.loop){a(w,!1),a(x,!1);return}a(w,e.isBeginning&&!e.params.rewind),a(x,e.isEnd&&!e.params.rewind)}function c(x){x.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function d(x){x.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function f(){const x=e.params.navigation;if(e.params.navigation=$D(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(x.nextEl||x.prevEl))return;let w=i(x.nextEl),T=i(x.prevEl);Object.assign(e.navigation,{nextEl:w,prevEl:T}),w=pn(w),T=pn(T);const P=(C,D)=>{C&&C.addEventListener("click",D==="next"?d:c),!e.enabled&&C&&C.classList.add(...x.lockClass.split(" "))};w.forEach(C=>P(C,"next")),T.forEach(C=>P(C,"prev"))}function p(){let{nextEl:x,prevEl:w}=e.navigation;x=pn(x),w=pn(w);const T=(P,C)=>{P.removeEventListener("click",C==="next"?d:c),P.classList.remove(...e.params.navigation.disabledClass.split(" "))};x.forEach(P=>T(P,"next")),w.forEach(P=>T(P,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?b():(f(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{p()}),r("enable disable",()=>{let{nextEl:x,prevEl:w}=e.navigation;if(x=pn(x),w=pn(w),e.enabled){l();return}[...x,...w].filter(T=>!!T).forEach(T=>T.classList.add(e.params.navigation.lockClass))}),r("click",(x,w)=>{let{nextEl:T,prevEl:P}=e.navigation;T=pn(T),P=pn(P);const C=w.target;let D=P.includes(C)||T.includes(C);if(e.isElement&&!D){const B=w.path||w.composedPath&&w.composedPath();B&&(D=B.find(L=>T.includes(L)||P.includes(L)))}if(e.params.navigation.hideOnClick&&!D){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let B;T.length?B=T[0].classList.contains(e.params.navigation.hiddenClass):P.length&&(B=P[0].classList.contains(e.params.navigation.hiddenClass)),s(B===!0?"navigationShow":"navigationHide"),[...T,...P].filter(L=>!!L).forEach(L=>L.classList.toggle(e.params.navigation.hiddenClass))}});const v=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),f(),l()},b=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:v,disable:b,update:l,init:f,destroy:p})}function Td(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function WD(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const i="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:C=>C,formatFractionTotal:C=>C,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(C,D){const{bulletActiveClass:B}=e.params.pagination;C&&(C=C[`${D==="prev"?"previous":"next"}ElementSibling`],C&&(C.classList.add(`${B}-${D}`),C=C[`${D==="prev"?"previous":"next"}ElementSibling`],C&&C.classList.add(`${B}-${D}-${D}`)))}function f(C,D,B){if(C=C%B,D=D%B,D===C+1)return"next";if(D===C-1)return"previous"}function p(C){const D=C.target.closest(Td(e.params.pagination.bulletClass));if(!D)return;C.preventDefault();const B=yg(D)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===B)return;const L=f(e.realIndex,B,e.slides.length);L==="next"?e.slideNext():L==="previous"?e.slidePrev():e.slideToLoop(B)}else e.slideTo(B)}function v(){const C=e.rtl,D=e.params.pagination;if(c())return;let B=e.pagination.el;B=pn(B);let L,U;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(U=e.previousRealIndex||0,L=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(L=e.snapIndex,U=e.previousSnapIndex):(U=e.previousIndex||0,L=e.activeIndex||0),D.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const N=e.pagination.bullets;let j,A,O;if(D.dynamicBullets&&(a=cw(N[0],e.isHorizontal()?"width":"height"),B.forEach(R=>{R.style[e.isHorizontal()?"width":"height"]=`${a*(D.dynamicMainBullets+4)}px`}),D.dynamicMainBullets>1&&U!==void 0&&(l+=L-(U||0),l>D.dynamicMainBullets-1?l=D.dynamicMainBullets-1:l<0&&(l=0)),j=Math.max(L-l,0),A=j+(Math.min(N.length,D.dynamicMainBullets)-1),O=(A+j)/2),N.forEach(R=>{const G=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(J=>`${D.bulletActiveClass}${J}`)].map(J=>typeof J=="string"&&J.includes(" ")?J.split(" "):J).flat();R.classList.remove(...G)}),B.length>1)N.forEach(R=>{const G=yg(R);G===L?R.classList.add(...D.bulletActiveClass.split(" ")):e.isElement&&R.setAttribute("part","bullet"),D.dynamicBullets&&(G>=j&&G<=A&&R.classList.add(...`${D.bulletActiveClass}-main`.split(" ")),G===j&&d(R,"prev"),G===A&&d(R,"next"))});else{const R=N[L];if(R&&R.classList.add(...D.bulletActiveClass.split(" ")),e.isElement&&N.forEach((G,J)=>{G.setAttribute("part",J===L?"bullet-active":"bullet")}),D.dynamicBullets){const G=N[j],J=N[A];for(let ie=j;ie<=A;ie+=1)N[ie]&&N[ie].classList.add(...`${D.bulletActiveClass}-main`.split(" "));d(G,"prev"),d(J,"next")}}if(D.dynamicBullets){const R=Math.min(N.length,D.dynamicMainBullets+4),G=(a*R-a)/2-O*a,J=C?"right":"left";N.forEach(ie=>{ie.style[e.isHorizontal()?J:"top"]=`${G}px`})}}B.forEach((N,j)=>{if(D.type==="fraction"&&(N.querySelectorAll(Td(D.currentClass)).forEach(A=>{A.textContent=D.formatFractionCurrent(L+1)}),N.querySelectorAll(Td(D.totalClass)).forEach(A=>{A.textContent=D.formatFractionTotal(I)})),D.type==="progressbar"){let A;D.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const O=(L+1)/I;let R=1,G=1;A==="horizontal"?R=O:G=O,N.querySelectorAll(Td(D.progressbarFillClass)).forEach(J=>{J.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${G})`,J.style.transitionDuration=`${e.params.speed}ms`})}D.type==="custom"&&D.renderCustom?(N.innerHTML=D.renderCustom(e,L+1,I),j===0&&s("paginationRender",N)):(j===0&&s("paginationRender",N),s("paginationUpdate",N)),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](D.lockClass)})}function b(){const C=e.params.pagination;if(c())return;const D=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let B=e.pagination.el;B=pn(B);let L="";if(C.type==="bullets"){let U=e.params.loop?Math.ceil(D/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&U>D&&(U=D);for(let M=0;M<U;M+=1)C.renderBullet?L+=C.renderBullet.call(e,M,C.bulletClass):L+=`<${C.bulletElement} ${e.isElement?'part="bullet"':""} class="${C.bulletClass}"></${C.bulletElement}>`}C.type==="fraction"&&(C.renderFraction?L=C.renderFraction.call(e,C.currentClass,C.totalClass):L=`<span class="${C.currentClass}"></span> / <span class="${C.totalClass}"></span>`),C.type==="progressbar"&&(C.renderProgressbar?L=C.renderProgressbar.call(e,C.progressbarFillClass):L=`<span class="${C.progressbarFillClass}"></span>`),e.pagination.bullets=[],B.forEach(U=>{C.type!=="custom"&&(U.innerHTML=L||""),C.type==="bullets"&&e.pagination.bullets.push(...U.querySelectorAll(Td(C.bulletClass)))}),C.type!=="custom"&&s("paginationRender",B[0])}function x(){e.params.pagination=$D(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const C=e.params.pagination;if(!C.el)return;let D;typeof C.el=="string"&&e.isElement&&(D=e.el.querySelector(C.el)),!D&&typeof C.el=="string"&&(D=[...document.querySelectorAll(C.el)]),D||(D=C.el),!(!D||D.length===0)&&(e.params.uniqueNavElements&&typeof C.el=="string"&&Array.isArray(D)&&D.length>1&&(D=[...e.el.querySelectorAll(C.el)],D.length>1&&(D=D.find(B=>ah(B,".swiper")[0]===e.el))),Array.isArray(D)&&D.length===1&&(D=D[0]),Object.assign(e.pagination,{el:D}),D=pn(D),D.forEach(B=>{C.type==="bullets"&&C.clickable&&B.classList.add(...(C.clickableClass||"").split(" ")),B.classList.add(C.modifierClass+C.type),B.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass),C.type==="bullets"&&C.dynamicBullets&&(B.classList.add(`${C.modifierClass}${C.type}-dynamic`),l=0,C.dynamicMainBullets<1&&(C.dynamicMainBullets=1)),C.type==="progressbar"&&C.progressbarOpposite&&B.classList.add(C.progressbarOppositeClass),C.clickable&&B.addEventListener("click",p),e.enabled||B.classList.add(C.lockClass)}))}function w(){const C=e.params.pagination;if(c())return;let D=e.pagination.el;D&&(D=pn(D),D.forEach(B=>{B.classList.remove(C.hiddenClass),B.classList.remove(C.modifierClass+C.type),B.classList.remove(e.isHorizontal()?C.horizontalClass:C.verticalClass),C.clickable&&(B.classList.remove(...(C.clickableClass||"").split(" ")),B.removeEventListener("click",p))})),e.pagination.bullets&&e.pagination.bullets.forEach(B=>B.classList.remove(...C.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const C=e.params.pagination;let{el:D}=e.pagination;D=pn(D),D.forEach(B=>{B.classList.remove(C.horizontalClass,C.verticalClass),B.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?P():(x(),b(),v())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&v()}),r("snapIndexChange",()=>{v()}),r("snapGridLengthChange",()=>{b(),v()}),r("destroy",()=>{w()}),r("enable disable",()=>{let{el:C}=e.pagination;C&&(C=pn(C),C.forEach(D=>D.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{v()}),r("click",(C,D)=>{const B=D.target,L=pn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&L&&L.length>0&&!B.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&B===e.navigation.nextEl||e.navigation.prevEl&&B===e.navigation.prevEl))return;const U=L[0].classList.contains(e.params.pagination.hiddenClass);s(U===!0?"paginationShow":"paginationHide"),L.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const T=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:C}=e.pagination;C&&(C=pn(C),C.forEach(D=>D.classList.remove(e.params.pagination.paginationDisabledClass))),x(),b(),v()},P=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:C}=e.pagination;C&&(C=pn(C),C.forEach(D=>D.classList.add(e.params.pagination.paginationDisabledClass))),w()};Object.assign(e.pagination,{enable:T,disable:P,render:b,update:v,init:x,destroy:w})}function Q9(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const i=kn();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let a=1,l=!1,c=!1,d={x:0,y:0};const f=-3;let p,v;const b=[],x={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},w={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},T={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let P=1;Object.defineProperty(e.zoom,"scale",{get(){return P},set(re){if(P!==re){const le=x.imageEl,he=x.slideEl;s("zoomChange",re,le,he)}P=re}});function C(){if(b.length<2)return 1;const re=b[0].pageX,le=b[0].pageY,he=b[1].pageX,Se=b[1].pageY;return Math.sqrt((he-re)**2+(Se-le)**2)}function D(){const re=e.params.zoom,le=x.imageWrapEl.getAttribute("data-swiper-zoom")||re.maxRatio;if(re.limitToOriginalSize&&x.imageEl&&x.imageEl.naturalWidth){const he=x.imageEl.naturalWidth/x.imageEl.offsetWidth;return Math.min(he,le)}return le}function B(){if(b.length<2)return{x:null,y:null};const re=x.imageEl.getBoundingClientRect();return[(b[0].pageX+(b[1].pageX-b[0].pageX)/2-re.x-i.scrollX)/a,(b[0].pageY+(b[1].pageY-b[0].pageY)/2-re.y-i.scrollY)/a]}function L(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function U(re){const le=L();return!!(re.target.matches(le)||e.slides.filter(he=>he.contains(re.target)).length>0)}function M(re){const le=`.${e.params.zoom.containerClass}`;return!!(re.target.matches(le)||[...e.hostEl.querySelectorAll(le)].filter(he=>he.contains(re.target)).length>0)}function I(re){if(re.pointerType==="mouse"&&b.splice(0,b.length),!U(re))return;const le=e.params.zoom;if(p=!1,v=!1,b.push(re),!(b.length<2)){if(p=!0,x.scaleStart=C(),!x.slideEl){x.slideEl=re.target.closest(`.${e.params.slideClass}, swiper-slide`),x.slideEl||(x.slideEl=e.slides[e.activeIndex]);let he=x.slideEl.querySelector(`.${le.containerClass}`);if(he&&(he=he.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),x.imageEl=he,he?x.imageWrapEl=ah(x.imageEl,`.${le.containerClass}`)[0]:x.imageWrapEl=void 0,!x.imageWrapEl){x.imageEl=void 0;return}x.maxRatio=D()}if(x.imageEl){const[he,Se]=B();x.originX=he,x.originY=Se,x.imageEl.style.transitionDuration="0ms"}l=!0}}function N(re){if(!U(re))return;const le=e.params.zoom,he=e.zoom,Se=b.findIndex(De=>De.pointerId===re.pointerId);Se>=0&&(b[Se]=re),!(b.length<2)&&(v=!0,x.scaleMove=C(),x.imageEl&&(he.scale=x.scaleMove/x.scaleStart*a,he.scale>x.maxRatio&&(he.scale=x.maxRatio-1+(he.scale-x.maxRatio+1)**.5),he.scale<le.minRatio&&(he.scale=le.minRatio+1-(le.minRatio-he.scale+1)**.5),x.imageEl.style.transform=`translate3d(0,0,0) scale(${he.scale})`))}function j(re){if(!U(re)||re.pointerType==="mouse"&&re.type==="pointerout")return;const le=e.params.zoom,he=e.zoom,Se=b.findIndex(De=>De.pointerId===re.pointerId);Se>=0&&b.splice(Se,1),!(!p||!v)&&(p=!1,v=!1,x.imageEl&&(he.scale=Math.max(Math.min(he.scale,x.maxRatio),le.minRatio),x.imageEl.style.transitionDuration=`${e.params.speed}ms`,x.imageEl.style.transform=`translate3d(0,0,0) scale(${he.scale})`,a=he.scale,l=!1,he.scale>1&&x.slideEl?x.slideEl.classList.add(`${le.zoomedSlideClass}`):he.scale<=1&&x.slideEl&&x.slideEl.classList.remove(`${le.zoomedSlideClass}`),he.scale===1&&(x.originX=0,x.originY=0,x.slideEl=void 0)))}let A;function O(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function R(){clearTimeout(A),e.touchEventsData.preventTouchMoveFromPointerMove=!0,A=setTimeout(()=>{e.destroyed||O()})}function G(re){const le=e.device;if(!x.imageEl||w.isTouched)return;le.android&&re.cancelable&&re.preventDefault(),w.isTouched=!0;const he=b.length>0?b[0]:re;w.touchesStart.x=he.pageX,w.touchesStart.y=he.pageY}function J(re){const he=re.pointerType==="mouse"&&e.params.zoom.panOnMouseMove;if(!U(re)||!M(re))return;const Se=e.zoom;if(!x.imageEl)return;if(!w.isTouched||!x.slideEl){he&&ee(re);return}if(he){ee(re);return}w.isMoved||(w.width=x.imageEl.offsetWidth||x.imageEl.clientWidth,w.height=x.imageEl.offsetHeight||x.imageEl.clientHeight,w.startX=lw(x.imageWrapEl,"x")||0,w.startY=lw(x.imageWrapEl,"y")||0,x.slideWidth=x.slideEl.offsetWidth,x.slideHeight=x.slideEl.offsetHeight,x.imageWrapEl.style.transitionDuration="0ms");const De=w.width*Se.scale,tt=w.height*Se.scale;if(w.minX=Math.min(x.slideWidth/2-De/2,0),w.maxX=-w.minX,w.minY=Math.min(x.slideHeight/2-tt/2,0),w.maxY=-w.minY,w.touchesCurrent.x=b.length>0?b[0].pageX:re.pageX,w.touchesCurrent.y=b.length>0?b[0].pageY:re.pageY,Math.max(Math.abs(w.touchesCurrent.x-w.touchesStart.x),Math.abs(w.touchesCurrent.y-w.touchesStart.y))>5&&(e.allowClick=!1),!w.isMoved&&!l){if(e.isHorizontal()&&(Math.floor(w.minX)===Math.floor(w.startX)&&w.touchesCurrent.x<w.touchesStart.x||Math.floor(w.maxX)===Math.floor(w.startX)&&w.touchesCurrent.x>w.touchesStart.x)){w.isTouched=!1,O();return}if(!e.isHorizontal()&&(Math.floor(w.minY)===Math.floor(w.startY)&&w.touchesCurrent.y<w.touchesStart.y||Math.floor(w.maxY)===Math.floor(w.startY)&&w.touchesCurrent.y>w.touchesStart.y)){w.isTouched=!1,O();return}}re.cancelable&&re.preventDefault(),re.stopPropagation(),R(),w.isMoved=!0;const Ut=(Se.scale-a)/(x.maxRatio-e.params.zoom.minRatio),{originX:$t,originY:Be}=x;w.currentX=w.touchesCurrent.x-w.touchesStart.x+w.startX+Ut*(w.width-$t*2),w.currentY=w.touchesCurrent.y-w.touchesStart.y+w.startY+Ut*(w.height-Be*2),w.currentX<w.minX&&(w.currentX=w.minX+1-(w.minX-w.currentX+1)**.8),w.currentX>w.maxX&&(w.currentX=w.maxX-1+(w.currentX-w.maxX+1)**.8),w.currentY<w.minY&&(w.currentY=w.minY+1-(w.minY-w.currentY+1)**.8),w.currentY>w.maxY&&(w.currentY=w.maxY-1+(w.currentY-w.maxY+1)**.8),T.prevPositionX||(T.prevPositionX=w.touchesCurrent.x),T.prevPositionY||(T.prevPositionY=w.touchesCurrent.y),T.prevTime||(T.prevTime=Date.now()),T.x=(w.touchesCurrent.x-T.prevPositionX)/(Date.now()-T.prevTime)/2,T.y=(w.touchesCurrent.y-T.prevPositionY)/(Date.now()-T.prevTime)/2,Math.abs(w.touchesCurrent.x-T.prevPositionX)<2&&(T.x=0),Math.abs(w.touchesCurrent.y-T.prevPositionY)<2&&(T.y=0),T.prevPositionX=w.touchesCurrent.x,T.prevPositionY=w.touchesCurrent.y,T.prevTime=Date.now(),x.imageWrapEl.style.transform=`translate3d(${w.currentX}px, ${w.currentY}px,0)`}function ie(){const re=e.zoom;if(b.length=0,!x.imageEl)return;if(!w.isTouched||!w.isMoved){w.isTouched=!1,w.isMoved=!1;return}w.isTouched=!1,w.isMoved=!1;let le=300,he=300;const Se=T.x*le,De=w.currentX+Se,tt=T.y*he,Vt=w.currentY+tt;T.x!==0&&(le=Math.abs((De-w.currentX)/T.x)),T.y!==0&&(he=Math.abs((Vt-w.currentY)/T.y));const Ut=Math.max(le,he);w.currentX=De,w.currentY=Vt;const $t=w.width*re.scale,Be=w.height*re.scale;w.minX=Math.min(x.slideWidth/2-$t/2,0),w.maxX=-w.minX,w.minY=Math.min(x.slideHeight/2-Be/2,0),w.maxY=-w.minY,w.currentX=Math.max(Math.min(w.currentX,w.maxX),w.minX),w.currentY=Math.max(Math.min(w.currentY,w.maxY),w.minY),x.imageWrapEl.style.transitionDuration=`${Ut}ms`,x.imageWrapEl.style.transform=`translate3d(${w.currentX}px, ${w.currentY}px,0)`}function ue(){const re=e.zoom;x.slideEl&&e.activeIndex!==e.slides.indexOf(x.slideEl)&&(x.imageEl&&(x.imageEl.style.transform="translate3d(0,0,0) scale(1)"),x.imageWrapEl&&(x.imageWrapEl.style.transform="translate3d(0,0,0)"),x.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),re.scale=1,a=1,x.slideEl=void 0,x.imageEl=void 0,x.imageWrapEl=void 0,x.originX=0,x.originY=0)}function ee(re){if(a<=1||!x.imageWrapEl||!U(re)||!M(re))return;const le=i.getComputedStyle(x.imageWrapEl).transform,he=new i.DOMMatrix(le);if(!c){c=!0,d.x=re.clientX,d.y=re.clientY,w.startX=he.e,w.startY=he.f,w.width=x.imageEl.offsetWidth||x.imageEl.clientWidth,w.height=x.imageEl.offsetHeight||x.imageEl.clientHeight,x.slideWidth=x.slideEl.offsetWidth,x.slideHeight=x.slideEl.offsetHeight;return}const Se=(re.clientX-d.x)*f,De=(re.clientY-d.y)*f,tt=w.width*a,Vt=w.height*a,Ut=x.slideWidth,$t=x.slideHeight,Be=Math.min(Ut/2-tt/2,0),St=-Be,It=Math.min($t/2-Vt/2,0),qn=-It,ir=Math.max(Math.min(w.startX+Se,St),Be),An=Math.max(Math.min(w.startY+De,qn),It);x.imageWrapEl.style.transitionDuration="0ms",x.imageWrapEl.style.transform=`translate3d(${ir}px, ${An}px, 0)`,d.x=re.clientX,d.y=re.clientY,w.startX=ir,w.startY=An,w.currentX=ir,w.currentY=An}function ce(re){const le=e.zoom,he=e.params.zoom;if(!x.slideEl){re&&re.target&&(x.slideEl=re.target.closest(`.${e.params.slideClass}, swiper-slide`)),x.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?x.slideEl=Br(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:x.slideEl=e.slides[e.activeIndex]);let Gn=x.slideEl.querySelector(`.${he.containerClass}`);Gn&&(Gn=Gn.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),x.imageEl=Gn,Gn?x.imageWrapEl=ah(x.imageEl,`.${he.containerClass}`)[0]:x.imageWrapEl=void 0}if(!x.imageEl||!x.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),x.slideEl.classList.add(`${he.zoomedSlideClass}`);let Se,De,tt,Vt,Ut,$t,Be,St,It,qn,ir,An,Dn,Rn,ps,Er,qr,gs;typeof w.touchesStart.x>"u"&&re?(Se=re.pageX,De=re.pageY):(Se=w.touchesStart.x,De=w.touchesStart.y);const yt=a,dt=typeof re=="number"?re:null;a===1&&dt&&(Se=void 0,De=void 0,w.touchesStart.x=void 0,w.touchesStart.y=void 0);const ar=D();le.scale=dt||ar,a=dt||ar,re&&!(a===1&&dt)?(qr=x.slideEl.offsetWidth,gs=x.slideEl.offsetHeight,tt=LI(x.slideEl).left+i.scrollX,Vt=LI(x.slideEl).top+i.scrollY,Ut=tt+qr/2-Se,$t=Vt+gs/2-De,It=x.imageEl.offsetWidth||x.imageEl.clientWidth,qn=x.imageEl.offsetHeight||x.imageEl.clientHeight,ir=It*le.scale,An=qn*le.scale,Dn=Math.min(qr/2-ir/2,0),Rn=Math.min(gs/2-An/2,0),ps=-Dn,Er=-Rn,yt>0&&dt&&typeof w.currentX=="number"&&typeof w.currentY=="number"?(Be=w.currentX*le.scale/yt,St=w.currentY*le.scale/yt):(Be=Ut*le.scale,St=$t*le.scale),Be<Dn&&(Be=Dn),Be>ps&&(Be=ps),St<Rn&&(St=Rn),St>Er&&(St=Er)):(Be=0,St=0),dt&&le.scale===1&&(x.originX=0,x.originY=0),w.currentX=Be,w.currentY=St,x.imageWrapEl.style.transitionDuration="300ms",x.imageWrapEl.style.transform=`translate3d(${Be}px, ${St}px,0)`,x.imageEl.style.transitionDuration="300ms",x.imageEl.style.transform=`translate3d(0,0,0) scale(${le.scale})`}function se(){const re=e.zoom,le=e.params.zoom;if(!x.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?x.slideEl=Br(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:x.slideEl=e.slides[e.activeIndex];let he=x.slideEl.querySelector(`.${le.containerClass}`);he&&(he=he.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),x.imageEl=he,he?x.imageWrapEl=ah(x.imageEl,`.${le.containerClass}`)[0]:x.imageWrapEl=void 0}!x.imageEl||!x.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),re.scale=1,a=1,w.currentX=void 0,w.currentY=void 0,w.touchesStart.x=void 0,w.touchesStart.y=void 0,x.imageWrapEl.style.transitionDuration="300ms",x.imageWrapEl.style.transform="translate3d(0,0,0)",x.imageEl.style.transitionDuration="300ms",x.imageEl.style.transform="translate3d(0,0,0) scale(1)",x.slideEl.classList.remove(`${le.zoomedSlideClass}`),x.slideEl=void 0,x.originX=0,x.originY=0,e.params.zoom.panOnMouseMove&&(d={x:0,y:0},c&&(c=!1,w.startX=0,w.startY=0)))}function H(re){const le=e.zoom;le.scale&&le.scale!==1?se():ce(re)}function te(){const re=e.params.passiveListeners?{passive:!0,capture:!1}:!1,le=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:re,activeListenerWithCapture:le}}function be(){const re=e.zoom;if(re.enabled)return;re.enabled=!0;const{passiveListener:le,activeListenerWithCapture:he}=te();e.wrapperEl.addEventListener("pointerdown",I,le),e.wrapperEl.addEventListener("pointermove",N,he),["pointerup","pointercancel","pointerout"].forEach(Se=>{e.wrapperEl.addEventListener(Se,j,le)}),e.wrapperEl.addEventListener("pointermove",J,he)}function Ee(){const re=e.zoom;if(!re.enabled)return;re.enabled=!1;const{passiveListener:le,activeListenerWithCapture:he}=te();e.wrapperEl.removeEventListener("pointerdown",I,le),e.wrapperEl.removeEventListener("pointermove",N,he),["pointerup","pointercancel","pointerout"].forEach(Se=>{e.wrapperEl.removeEventListener(Se,j,le)}),e.wrapperEl.removeEventListener("pointermove",J,he)}r("init",()=>{e.params.zoom.enabled&&be()}),r("destroy",()=>{Ee()}),r("touchStart",(re,le)=>{e.zoom.enabled&&G(le)}),r("touchEnd",(re,le)=>{e.zoom.enabled&&ie()}),r("doubleTap",(re,le)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&H(le)}),r("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&ue()}),r("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&ue()}),Object.assign(e.zoom,{enable:be,disable:Ee,in:ce,out:se,toggle:H})}function HD(n){let{swiper:e,extendParams:t,on:r,emit:s,params:i}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,c=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,f,p=new Date().getTime(),v,b,x,w,T,P,C;function D(ee){!e||e.destroyed||!e.wrapperEl||ee.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",D),!(C||ee.detail&&ee.detail.bySwiperTouchMove)&&j())}const B=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?v=!0:v&&(d=f,v=!1);const ee=e.autoplay.paused?f:p+d-new Date().getTime();e.autoplay.timeLeft=ee,s("autoplayTimeLeft",ee,ee/c),l=requestAnimationFrame(()=>{B()})},L=()=>{let ee;return e.virtual&&e.params.virtual.enabled?ee=e.slides.find(se=>se.classList.contains("swiper-slide-active")):ee=e.slides[e.activeIndex],ee?parseInt(ee.getAttribute("data-swiper-autoplay"),10):void 0},U=ee=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),B();let ce=typeof ee>"u"?e.params.autoplay.delay:ee;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const se=L();!Number.isNaN(se)&&se>0&&typeof ee>"u"&&(ce=se,c=se,d=se),f=ce;const H=e.params.speed,te=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(H,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,H,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(H,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,H,!0,!0),s("autoplay")),e.params.cssMode&&(p=new Date().getTime(),requestAnimationFrame(()=>{U()})))};return ce>0?(clearTimeout(a),a=setTimeout(()=>{te()},ce)):requestAnimationFrame(()=>{te()}),ce},M=()=>{p=new Date().getTime(),e.autoplay.running=!0,U(),s("autoplayStart")},I=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),s("autoplayStop")},N=(ee,ce)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),ee||(P=!0);const se=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",D):j()};if(e.autoplay.paused=!0,ce){T&&(f=e.params.autoplay.delay),T=!1,se();return}f=(f||e.params.autoplay.delay)-(new Date().getTime()-p),!(e.isEnd&&f<0&&!e.params.loop)&&(f<0&&(f=0),se())},j=()=>{e.isEnd&&f<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(p=new Date().getTime(),P?(P=!1,U(f)):U(),e.autoplay.paused=!1,s("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const ee=ds();ee.visibilityState==="hidden"&&(P=!0,N(!0)),ee.visibilityState==="visible"&&j()},O=ee=>{ee.pointerType==="mouse"&&(P=!0,C=!0,!(e.animating||e.autoplay.paused)&&N(!0))},R=ee=>{ee.pointerType==="mouse"&&(C=!1,e.autoplay.paused&&j())},G=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",O),e.el.addEventListener("pointerleave",R))},J=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",O),e.el.removeEventListener("pointerleave",R))},ie=()=>{ds().addEventListener("visibilitychange",A)},ue=()=>{ds().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(G(),ie(),M())}),r("destroy",()=>{J(),ue(),e.autoplay.running&&I()}),r("_freeModeStaticRelease",()=>{(x||P)&&j()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?I():N(!0,!0)}),r("beforeTransitionStart",(ee,ce,se)=>{e.destroyed||!e.autoplay.running||(se||!e.params.autoplay.disableOnInteraction?N(!0,!0):I())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){I();return}b=!0,x=!1,P=!1,w=setTimeout(()=>{P=!0,x=!0,N(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!b)){if(clearTimeout(w),clearTimeout(a),e.params.autoplay.disableOnInteraction){x=!1,b=!1;return}x&&e.params.cssMode&&j(),x=!1,b=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(T=!0)}),Object.assign(e.autoplay,{start:M,stop:I,pause:N,resume:j})}function $I(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,i=!1;e.thumbs={swiper:null};function a(){const d=e.thumbs.swiper;if(!d||d.destroyed)return;const f=d.clickedIndex,p=d.clickedSlide;if(p&&p.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof f>"u"||f===null)return;let v;d.params.loop?v=parseInt(d.clickedSlide.getAttribute("data-swiper-slide-index"),10):v=f,e.params.loop?e.slideToLoop(v):e.slideTo(v)}function l(){const{thumbs:d}=e.params;if(s)return!1;s=!0;const f=e.constructor;if(d.swiper instanceof f){if(d.swiper.destroyed)return s=!1,!1;e.thumbs.swiper=d.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(zd(d.swiper)){const p=Object.assign({},d.swiper);Object.assign(p,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new f(p),i=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",a),!0}function c(d){const f=e.thumbs.swiper;if(!f||f.destroyed)return;const p=f.params.slidesPerView==="auto"?f.slidesPerViewDynamic():f.params.slidesPerView;let v=1;const b=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(v=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(v=1),v=Math.floor(v),f.slides.forEach(T=>T.classList.remove(b)),f.params.loop||f.params.virtual&&f.params.virtual.enabled)for(let T=0;T<v;T+=1)Br(f.slidesEl,`[data-swiper-slide-index="${e.realIndex+T}"]`).forEach(P=>{P.classList.add(b)});else for(let T=0;T<v;T+=1)f.slides[e.realIndex+T]&&f.slides[e.realIndex+T].classList.add(b);const x=e.params.thumbs.autoScrollOffset,w=x&&!f.params.loop;if(e.realIndex!==f.realIndex||w){const T=f.activeIndex;let P,C;if(f.params.loop){const D=f.slides.find(B=>B.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);P=f.slides.indexOf(D),C=e.activeIndex>e.previousIndex?"next":"prev"}else P=e.realIndex,C=P>e.previousIndex?"next":"prev";w&&(P+=C==="next"?x:-1*x),f.visibleSlidesIndexes&&f.visibleSlidesIndexes.indexOf(P)<0&&(f.params.centeredSlides?P>T?P=P-Math.floor(p/2)+1:P=P+Math.floor(p/2)-1:P>T&&f.params.slidesPerGroup,f.slideTo(P,d?0:void 0))}}r("beforeInit",()=>{const{thumbs:d}=e.params;if(!(!d||!d.swiper))if(typeof d.swiper=="string"||d.swiper instanceof HTMLElement){const f=ds(),p=()=>{const b=typeof d.swiper=="string"?f.querySelector(d.swiper):d.swiper;if(b&&b.swiper)d.swiper=b.swiper,l(),c(!0);else if(b){const x=`${e.params.eventsPrefix}init`,w=T=>{d.swiper=T.detail[0],b.removeEventListener(x,w),l(),c(!0),d.swiper.update(),e.update()};b.addEventListener(x,w)}return b},v=()=>{if(e.destroyed)return;p()||requestAnimationFrame(v)};requestAnimationFrame(v)}else l(),c(!0)}),r("slideChange update resize observerUpdate",()=>{c()}),r("setTransition",(d,f)=>{const p=e.thumbs.swiper;!p||p.destroyed||p.setTransition(f)}),r("beforeDestroy",()=>{const d=e.thumbs.swiper;!d||d.destroyed||i&&d.destroy()}),Object.assign(e.thumbs,{init:l,update:c})}var J9=Object.defineProperty,Z9=(n,e,t)=>e in n?J9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F0=(n,e,t)=>(Z9(n,typeof e!="symbol"?e+"":e,t),t);let e8=class{constructor(){F0(this,"current",this.detect()),F0(this,"handoffState","pending"),F0(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},pl=new e8,ao=(n,e)=>{pl.isServer?F.useEffect(n,e):F.useLayoutEffect(n,e)};function tu(n){let e=F.useRef(n);return ao(()=>{e.current=n},[n]),e}let zr=function(n){let e=tu(n);return pe.useCallback((...t)=>e.current(...t),[e])};function t8(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function mf(){let n=[],e={addEventListener(t,r,s,i){return t.addEventListener(r,s,i),e.add(()=>t.removeEventListener(r,s,i))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return e.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return t8(()=>{r.current&&t[0]()}),e.add(()=>{r.current=!1})},style(t,r,s){let i=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:s}),this.add(()=>{Object.assign(t.style,{[r]:i})})},group(t){let r=mf();return t(r),this.add(()=>r.dispose())},add(t){return n.push(t),()=>{let r=n.indexOf(t);if(r>=0)for(let s of n.splice(r,1))s()}},dispose(){for(let t of n.splice(0))t()}};return e}function qD(){let[n]=F.useState(mf);return F.useEffect(()=>()=>n.dispose(),[n]),n}function n8(){let n=typeof document>"u";return"useSyncExternalStore"in Tx?(e=>e.useSyncExternalStore)(Tx)(()=>()=>{},()=>!1,()=>!n):!1}function s_(){let n=n8(),[e,t]=F.useState(pl.isHandoffComplete);return e&&pl.isHandoffComplete===!1&&t(!1),F.useEffect(()=>{e!==!0&&t(!0)},[e]),F.useEffect(()=>pl.handoff(),[]),n?!1:e}var WI;let GD=(WI=pe.useId)!=null?WI:function(){let n=s_(),[e,t]=pe.useState(n?()=>pl.nextId():null);return ao(()=>{e===null&&t(pl.nextId())},[e]),e!=null?""+e:void 0};function Ur(n,e,...t){if(n in e){let s=e[n];return typeof s=="function"?s(...t):s}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ur),r}function r8(n){return pl.isServer?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}function HI(n){var e;if(n.type)return n.type;let t=(e=n.as)!=null?e:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function s8(n,e){let[t,r]=F.useState(()=>HI(n));return ao(()=>{r(HI(n))},[n.type,n.as]),ao(()=>{t||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[t,e]),t}let YD=Symbol();function i8(n,e=!0){return Object.assign(n,{[YD]:e})}function pf(...n){let e=F.useRef(n);F.useEffect(()=>{e.current=n},[n]);let t=zr(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return n.every(r=>r==null||(r==null?void 0:r[YD]))?void 0:t}function wg(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var bg=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(bg||{}),Ga=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Ga||{});function gf({ourProps:n,theirProps:e,slot:t,defaultTag:r,features:s,visible:i=!0,name:a,mergeRefs:l}){l=l??a8;let c=XD(e,n);if(i)return Ym(c,t,r,a,l);let d=s??0;if(d&2){let{static:f=!1,...p}=c;if(f)return Ym(p,t,r,a,l)}if(d&1){let{unmount:f=!0,...p}=c;return Ur(f?0:1,{0(){return null},1(){return Ym({...p,hidden:!0,style:{display:"none"}},t,r,a,l)}})}return Ym(c,t,r,a,l)}function Ym(n,e={},t,r,s){let{as:i=t,children:a,refName:l="ref",...c}=B0(n,["unmount","static"]),d=n.ref!==void 0?{[l]:n.ref}:{},f=typeof a=="function"?a(e):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let p={};if(e){let v=!1,b=[];for(let[x,w]of Object.entries(e))typeof w=="boolean"&&(v=!0),w===!0&&b.push(x);v&&(p["data-headlessui-state"]=b.join(" "))}if(i===F.Fragment&&Object.keys(qI(c)).length>0){if(!F.isValidElement(f)||Array.isArray(f)&&f.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let v=f.props,b=typeof(v==null?void 0:v.className)=="function"?(...w)=>wg(v==null?void 0:v.className(...w),c.className):wg(v==null?void 0:v.className,c.className),x=b?{className:b}:{};return F.cloneElement(f,Object.assign({},XD(f.props,qI(B0(c,["ref"]))),p,d,{ref:s(f.ref,d.ref)},x))}return F.createElement(i,Object.assign({},B0(c,["ref"]),i!==F.Fragment&&d,i!==F.Fragment&&p),f)}function KD(){let n=F.useRef([]),e=F.useCallback(t=>{for(let r of n.current)r!=null&&(typeof r=="function"?r(t):r.current=t)},[]);return(...t)=>{if(!t.every(r=>r==null))return n.current=t,e}}function a8(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function XD(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(t[s]!=null||(t[s]=[]),t[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(t).map(r=>[r,void 0])));for(let r in t)Object.assign(e,{[r](s,...i){let a=t[r];for(let l of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return e}function Du(n){var e;return Object.assign(F.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function qI(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function B0(n,e=[]){let t=Object.assign({},n);for(let r of e)r in t&&delete t[r];return t}let i_=F.createContext(null);i_.displayName="OpenClosedContext";var Lr=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Lr||{});function a_(){return F.useContext(i_)}function QD({value:n,children:e}){return pe.createElement(i_.Provider,{value:n},e)}function o8(n){let e=n.parentElement,t=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(t=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&l8(t)?!1:r}function l8(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var Bc=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(Bc||{});function o_(){let n=F.useRef(!1);return ao(()=>(n.current=!0,()=>{n.current=!1}),[]),n}var GI;let c8=(GI=pe.startTransition)!=null?GI:function(n){n()};var u8=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(u8||{}),d8=(n=>(n[n.ToggleDisclosure=0]="ToggleDisclosure",n[n.CloseDisclosure=1]="CloseDisclosure",n[n.SetButtonId=2]="SetButtonId",n[n.SetPanelId=3]="SetPanelId",n[n.LinkPanel=4]="LinkPanel",n[n.UnlinkPanel=5]="UnlinkPanel",n))(d8||{});let h8={0:n=>({...n,disclosureState:Ur(n.disclosureState,{0:1,1:0})}),1:n=>n.disclosureState===1?n:{...n,disclosureState:1},4(n){return n.linkedPanel===!0?n:{...n,linkedPanel:!0}},5(n){return n.linkedPanel===!1?n:{...n,linkedPanel:!1}},2(n,e){return n.buttonId===e.buttonId?n:{...n,buttonId:e.buttonId}},3(n,e){return n.panelId===e.panelId?n:{...n,panelId:e.panelId}}},l_=F.createContext(null);l_.displayName="DisclosureContext";function c_(n){let e=F.useContext(l_);if(e===null){let t=new Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,c_),t}return e}let u_=F.createContext(null);u_.displayName="DisclosureAPIContext";function JD(n){let e=F.useContext(u_);if(e===null){let t=new Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,JD),t}return e}let d_=F.createContext(null);d_.displayName="DisclosurePanelContext";function f8(){return F.useContext(d_)}function m8(n,e){return Ur(e.type,h8,n,e)}let p8=F.Fragment;function g8(n,e){let{defaultOpen:t=!1,...r}=n,s=F.useRef(null),i=pf(e,i8(T=>{s.current=T},n.as===void 0||n.as===F.Fragment)),a=F.useRef(null),l=F.useRef(null),c=F.useReducer(m8,{disclosureState:t?0:1,linkedPanel:!1,buttonRef:l,panelRef:a,buttonId:null,panelId:null}),[{disclosureState:d,buttonId:f},p]=c,v=zr(T=>{p({type:1});let P=r8(s);if(!P||!f)return;let C=T?T instanceof HTMLElement?T:T.current instanceof HTMLElement?T.current:P.getElementById(f):P.getElementById(f);C==null||C.focus()}),b=F.useMemo(()=>({close:v}),[v]),x=F.useMemo(()=>({open:d===0,close:v}),[d,v]),w={ref:i};return pe.createElement(l_.Provider,{value:c},pe.createElement(u_.Provider,{value:b},pe.createElement(QD,{value:Ur(d,{0:Lr.Open,1:Lr.Closed})},gf({ourProps:w,theirProps:r,slot:x,defaultTag:p8,name:"Disclosure"}))))}let y8="button";function v8(n,e){let t=GD(),{id:r=`headlessui-disclosure-button-${t}`,...s}=n,[i,a]=c_("Disclosure.Button"),l=f8(),c=l===null?!1:l===i.panelId,d=F.useRef(null),f=pf(d,e,c?null:i.buttonRef),p=KD();F.useEffect(()=>{if(!c)return a({type:2,buttonId:r}),()=>{a({type:2,buttonId:null})}},[r,a,c]);let v=zr(C=>{var D;if(c){if(i.disclosureState===1)return;switch(C.key){case Bc.Space:case Bc.Enter:C.preventDefault(),C.stopPropagation(),a({type:0}),(D=i.buttonRef.current)==null||D.focus();break}}else switch(C.key){case Bc.Space:case Bc.Enter:C.preventDefault(),C.stopPropagation(),a({type:0});break}}),b=zr(C=>{switch(C.key){case Bc.Space:C.preventDefault();break}}),x=zr(C=>{var D;o8(C.currentTarget)||n.disabled||(c?(a({type:0}),(D=i.buttonRef.current)==null||D.focus()):a({type:0}))}),w=F.useMemo(()=>({open:i.disclosureState===0}),[i]),T=s8(n,d),P=c?{ref:f,type:T,onKeyDown:v,onClick:x}:{ref:f,id:r,type:T,"aria-expanded":i.disclosureState===0,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:v,onKeyUp:b,onClick:x};return gf({mergeRefs:p,ourProps:P,theirProps:s,slot:w,defaultTag:y8,name:"Disclosure.Button"})}let x8="div",w8=bg.RenderStrategy|bg.Static;function b8(n,e){let t=GD(),{id:r=`headlessui-disclosure-panel-${t}`,...s}=n,[i,a]=c_("Disclosure.Panel"),{close:l}=JD("Disclosure.Panel"),c=KD(),d=pf(e,i.panelRef,x=>{c8(()=>a({type:x?4:5}))});F.useEffect(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let f=a_(),p=f!==null?(f&Lr.Open)===Lr.Open:i.disclosureState===0,v=F.useMemo(()=>({open:i.disclosureState===0,close:l}),[i,l]),b={ref:d,id:r};return pe.createElement(d_.Provider,{value:i.panelId},gf({mergeRefs:c,ourProps:b,theirProps:s,slot:v,defaultTag:x8,features:w8,visible:p,name:"Disclosure.Panel"}))}let _8=Du(g8),T8=Du(v8),E8=Du(b8),z0=Object.assign(_8,{Button:T8,Panel:E8});function S8(n=0){let[e,t]=F.useState(n),r=o_(),s=F.useCallback(c=>{r.current&&t(d=>d|c)},[e,r]),i=F.useCallback(c=>!!(e&c),[e]),a=F.useCallback(c=>{r.current&&t(d=>d&~c)},[t,r]),l=F.useCallback(c=>{r.current&&t(d=>d^c)},[t]);return{flags:e,addFlag:s,hasFlag:i,removeFlag:a,toggleFlag:l}}function I8(n){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,n(...t)}}function U0(n,...e){n&&e.length>0&&n.classList.add(...e)}function $0(n,...e){n&&e.length>0&&n.classList.remove(...e)}function P8(n,e){let t=mf();if(!n)return t.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(n),[i,a]=[r,s].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return d}),l=i+a;if(l!==0){t.group(d=>{d.setTimeout(()=>{e(),d.dispose()},l),d.addEventListener(n,"transitionrun",f=>{f.target===f.currentTarget&&d.dispose()})});let c=t.addEventListener(n,"transitionend",d=>{d.target===d.currentTarget&&(e(),c())})}else e();return t.add(()=>e()),t.dispose}function C8(n,e,t,r){let s=t?"enter":"leave",i=mf(),a=r!==void 0?I8(r):()=>{};s==="enter"&&(n.removeAttribute("hidden"),n.style.display="");let l=Ur(s,{enter:()=>e.enter,leave:()=>e.leave}),c=Ur(s,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),d=Ur(s,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return $0(n,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),U0(n,...e.base,...l,...d),i.nextFrame(()=>{$0(n,...e.base,...l,...d),U0(n,...e.base,...l,...c),P8(n,()=>($0(n,...e.base,...l),U0(n,...e.base,...e.entered),a()))}),i.dispose}function N8({immediate:n,container:e,direction:t,classes:r,onStart:s,onStop:i}){let a=o_(),l=qD(),c=tu(t);ao(()=>{n&&(c.current="enter")},[n]),ao(()=>{let d=mf();l.add(d.dispose);let f=e.current;if(f&&c.current!=="idle"&&a.current)return d.dispose(),s.current(c.current),d.add(C8(f,r.current,c.current==="enter",()=>{d.dispose(),i.current(c.current)})),d.dispose},[t])}function Ra(n=""){return n.split(/\s+/).filter(e=>e.length>1)}let wy=F.createContext(null);wy.displayName="TransitionContext";var k8=(n=>(n.Visible="visible",n.Hidden="hidden",n))(k8||{});function A8(){let n=F.useContext(wy);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}function D8(){let n=F.useContext(by);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}let by=F.createContext(null);by.displayName="NestingContext";function _y(n){return"children"in n?_y(n.children):n.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function ZD(n,e){let t=tu(n),r=F.useRef([]),s=o_(),i=qD(),a=zr((b,x=Ga.Hidden)=>{let w=r.current.findIndex(({el:T})=>T===b);w!==-1&&(Ur(x,{[Ga.Unmount](){r.current.splice(w,1)},[Ga.Hidden](){r.current[w].state="hidden"}}),i.microTask(()=>{var T;!_y(r)&&s.current&&((T=t.current)==null||T.call(t))}))}),l=zr(b=>{let x=r.current.find(({el:w})=>w===b);return x?x.state!=="visible"&&(x.state="visible"):r.current.push({el:b,state:"visible"}),()=>a(b,Ga.Unmount)}),c=F.useRef([]),d=F.useRef(Promise.resolve()),f=F.useRef({enter:[],leave:[],idle:[]}),p=zr((b,x,w)=>{c.current.splice(0),e&&(e.chains.current[x]=e.chains.current[x].filter(([T])=>T!==b)),e==null||e.chains.current[x].push([b,new Promise(T=>{c.current.push(T)})]),e==null||e.chains.current[x].push([b,new Promise(T=>{Promise.all(f.current[x].map(([P,C])=>C)).then(()=>T())})]),x==="enter"?d.current=d.current.then(()=>e==null?void 0:e.wait.current).then(()=>w(x)):w(x)}),v=zr((b,x,w)=>{Promise.all(f.current[x].splice(0).map(([T,P])=>P)).then(()=>{var T;(T=c.current.shift())==null||T()}).then(()=>w(x))});return F.useMemo(()=>({children:r,register:l,unregister:a,onStart:p,onStop:v,wait:d,chains:f}),[l,a,r,p,v,f,d])}function R8(){}let j8=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function YI(n){var e;let t={};for(let r of j8)t[r]=(e=n[r])!=null?e:R8;return t}function M8(n){let e=F.useRef(YI(n));return F.useEffect(()=>{e.current=YI(n)},[n]),e}let O8="div",eR=bg.RenderStrategy;function L8(n,e){var t,r;let{beforeEnter:s,afterEnter:i,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:f,entered:p,leave:v,leaveFrom:b,leaveTo:x,...w}=n,T=F.useRef(null),P=pf(T,e),C=(t=w.unmount)==null||t?Ga.Unmount:Ga.Hidden,{show:D,appear:B,initial:L}=A8(),[U,M]=F.useState(D?"visible":"hidden"),I=D8(),{register:N,unregister:j}=I;F.useEffect(()=>N(T),[N,T]),F.useEffect(()=>{if(C===Ga.Hidden&&T.current){if(D&&U!=="visible"){M("visible");return}return Ur(U,{hidden:()=>j(T),visible:()=>N(T)})}},[U,T,N,j,D,C]);let A=tu({base:Ra(w.className),enter:Ra(c),enterFrom:Ra(d),enterTo:Ra(f),entered:Ra(p),leave:Ra(v),leaveFrom:Ra(b),leaveTo:Ra(x)}),O=M8({beforeEnter:s,afterEnter:i,beforeLeave:a,afterLeave:l}),R=s_();F.useEffect(()=>{if(R&&U==="visible"&&T.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,U,R]);let G=L&&!B,J=B&&D&&L,ie=!R||G?"idle":D?"enter":"leave",ue=S8(0),ee=zr(Ee=>Ur(Ee,{enter:()=>{ue.addFlag(Lr.Opening),O.current.beforeEnter()},leave:()=>{ue.addFlag(Lr.Closing),O.current.beforeLeave()},idle:()=>{}})),ce=zr(Ee=>Ur(Ee,{enter:()=>{ue.removeFlag(Lr.Opening),O.current.afterEnter()},leave:()=>{ue.removeFlag(Lr.Closing),O.current.afterLeave()},idle:()=>{}})),se=ZD(()=>{M("hidden"),j(T)},I),H=F.useRef(!1);N8({immediate:J,container:T,classes:A,direction:ie,onStart:tu(Ee=>{H.current=!0,se.onStart(T,Ee,ee)}),onStop:tu(Ee=>{H.current=!1,se.onStop(T,Ee,ce),Ee==="leave"&&!_y(se)&&(M("hidden"),j(T))})});let te=w,be={ref:P};return J?te={...te,className:wg(w.className,...A.current.enter,...A.current.enterFrom)}:H.current&&(te.className=wg(w.className,(r=T.current)==null?void 0:r.className),te.className===""&&delete te.className),pe.createElement(by.Provider,{value:se},pe.createElement(QD,{value:Ur(U,{visible:Lr.Open,hidden:Lr.Closed})|ue.flags},gf({ourProps:be,theirProps:te,defaultTag:O8,features:eR,visible:U==="visible",name:"Transition.Child"})))}function V8(n,e){let{show:t,appear:r=!1,unmount:s=!0,...i}=n,a=F.useRef(null),l=pf(a,e);s_();let c=a_();if(t===void 0&&c!==null&&(t=(c&Lr.Open)===Lr.Open),![!0,!1].includes(t))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=F.useState(t?"visible":"hidden"),p=ZD(()=>{f("hidden")}),[v,b]=F.useState(!0),x=F.useRef([t]);ao(()=>{v!==!1&&x.current[x.current.length-1]!==t&&(x.current.push(t),b(!1))},[x,t]);let w=F.useMemo(()=>({show:t,appear:r,initial:v}),[t,r,v]);F.useEffect(()=>{if(t)f("visible");else if(!_y(p))f("hidden");else{let D=a.current;if(!D)return;let B=D.getBoundingClientRect();B.x===0&&B.y===0&&B.width===0&&B.height===0&&f("hidden")}},[t,p]);let T={unmount:s},P=zr(()=>{var D;v&&b(!1),(D=n.beforeEnter)==null||D.call(n)}),C=zr(()=>{var D;v&&b(!1),(D=n.beforeLeave)==null||D.call(n)});return pe.createElement(by.Provider,{value:p},pe.createElement(wy.Provider,{value:w},gf({ourProps:{...T,as:F.Fragment,children:pe.createElement(tR,{ref:l,...T,...i,beforeEnter:P,beforeLeave:C})},theirProps:{},defaultTag:F.Fragment,features:eR,visible:d==="visible",name:"Transition"})))}function F8(n,e){let t=F.useContext(wy)!==null,r=a_()!==null;return pe.createElement(pe.Fragment,null,!t&&r?pe.createElement(hw,{ref:e,...n}):pe.createElement(tR,{ref:e,...n}))}let hw=Du(V8),tR=Du(L8),B8=Du(F8),z8=Object.assign(hw,{Child:B8,Root:hw});const nR=F.createContext({});function U8(n){const e=F.useRef(null);return e.current===null&&(e.current=n()),e.current}const h_=F.createContext(null),rR=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function $8(n=!0){const e=F.useContext(h_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,i=F.useId();F.useEffect(()=>{n&&s(i)},[n]);const a=F.useCallback(()=>n&&r&&r(i),[i,r,n]);return!t&&r?[!1,a]:[!0]}const f_=typeof window<"u",W8=f_?F.useLayoutEffect:F.useEffect,$r=n=>n;let sR=$r;function m_(n){let e;return()=>(e===void 0&&(e=n()),e)}const gu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},qi=n=>n*1e3,Gi=n=>n/1e3,H8={useManualTiming:!1};function q8(n){let e=new Set,t=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),n()),d(a)}const c={schedule:(d,f=!1,p=!1)=>{const b=p&&r?e:t;return f&&i.add(d),b.has(d)||b.add(d),d},cancel:d=>{t.delete(d),i.delete(d)},process:d=>{if(a=d,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,c.process(d))}};return c}const Km=["read","resolveKeyframes","update","preRender","render","postRender"],G8=40;function iR(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,a=Km.reduce((P,C)=>(P[C]=q8(i),P),{}),{read:l,resolveKeyframes:c,update:d,preRender:f,render:p,postRender:v}=a,b=()=>{const P=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(P-s.timestamp,G8),1),s.timestamp=P,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),v.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(b))},x=()=>{t=!0,r=!0,s.isProcessing||n(b)};return{schedule:Km.reduce((P,C)=>{const D=a[C];return P[C]=(B,L=!1,U=!1)=>(t||x(),D.schedule(B,L,U)),P},{}),cancel:P=>{for(let C=0;C<Km.length;C++)a[Km[C]].cancel(P)},state:s,steps:a}}const{schedule:Et,cancel:oo,state:Sn,steps:W0}=iR(typeof requestAnimationFrame<"u"?requestAnimationFrame:$r,!0),aR=F.createContext({strict:!1}),KI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yu={};for(const n in KI)yu[n]={isEnabled:e=>KI[n].some(t=>!!e[t])};function Y8(n){for(const e in n)yu[e]={...yu[e],...n[e]}}const K8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _g(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||K8.has(n)}let oR=n=>!_g(n);function X8(n){n&&(oR=e=>e.startsWith("on")?!_g(e):n(e))}try{X8(require("@emotion/is-prop-valid").default)}catch{}function Q8(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(oR(s)||t===!0&&_g(s)||!e&&!_g(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function J8(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Ty=F.createContext({});function Oh(n){return typeof n=="string"||Array.isArray(n)}function Ey(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const p_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g_=["initial",...p_];function Sy(n){return Ey(n.animate)||g_.some(e=>Oh(n[e]))}function lR(n){return!!(Sy(n)||n.variants)}function Z8(n,e){if(Sy(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Oh(t)?t:void 0,animate:Oh(r)?r:void 0}}return n.inherit!==!1?e:{}}function eW(n){const{initial:e,animate:t}=Z8(n,F.useContext(Ty));return F.useMemo(()=>({initial:e,animate:t}),[XI(e),XI(t)])}function XI(n){return Array.isArray(n)?n.join(" "):n}const tW=Symbol.for("motionComponentSymbol");function Uc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function nW(n,e,t){return F.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Uc(t)&&(t.current=r))},[e])}const y_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rW="framerAppearId",cR="data-"+y_(rW),{schedule:v_}=iR(queueMicrotask,!1),uR=F.createContext({});function sW(n,e,t,r,s){var i,a;const{visualElement:l}=F.useContext(Ty),c=F.useContext(aR),d=F.useContext(h_),f=F.useContext(rR).reducedMotion,p=F.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:l,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const v=p.current,b=F.useContext(uR);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&iW(p.current,t,s,b);const x=F.useRef(!1);F.useInsertionEffect(()=>{v&&x.current&&v.update(t,d)});const w=t[cR],T=F.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,w)));return W8(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v_.render(v.render),T.current&&v.animationState&&v.animationState.animateChanges())}),F.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,w)}),T.current=!1))}),v}function iW(n,e,t,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:dR(n.parent)),n.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Uc(l),visualElement:n,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function dR(n){if(n)return n.options.allowProjection!==!1?n.projection:dR(n.parent)}function aW({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var i,a;n&&Y8(n);function l(d,f){let p;const v={...F.useContext(rR),...d,layoutId:oW(d)},{isStatic:b}=v,x=eW(d),w=r(d,b);if(!b&&f_){lW();const T=cW(v);p=T.MeasureLayout,x.visualElement=sW(s,w,v,e,T.ProjectionNode)}return h.jsxs(Ty.Provider,{value:x,children:[p&&x.visualElement?h.jsx(p,{visualElement:x.visualElement,...v}):null,t(s,d,nW(w,x.visualElement,f),w,b,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=F.forwardRef(l);return c[tW]=s,c}function oW({layoutId:n}){const e=F.useContext(nR).id;return e&&n!==void 0?e+"-"+n:n}function lW(n,e){F.useContext(aR).strict}function cW(n){const{drag:e,layout:t}=yu;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const uW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x_(n){return typeof n!="string"||n.includes("-")?!1:!!(uW.indexOf(n)>-1||/[A-Z]/u.test(n))}function QI(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function w_(n,e,t,r){if(typeof e=="function"){const[s,i]=QI(r);e=e(t!==void 0?t:n.custom,s,i)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,i]=QI(r);e=e(t!==void 0?t:n.custom,s,i)}return e}const fw=n=>Array.isArray(n),dW=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),hW=n=>fw(n)?n[n.length-1]||0:n,Wn=n=>!!(n&&n.getVelocity);function Rp(n){const e=Wn(n)?n.get():n;return dW(e)?e.toValue():e}function fW({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,i){const a={latestValues:mW(r,s,i,n),renderState:e()};return t&&(a.onMount=l=>t({props:r,current:l,...a}),a.onUpdate=l=>t(l)),a}const hR=n=>(e,t)=>{const r=F.useContext(Ty),s=F.useContext(h_),i=()=>fW(n,e,r,s);return t?i():U8(i)};function mW(n,e,t,r){const s={},i=r(n,{});for(const v in i)s[v]=Rp(i[v]);let{initial:a,animate:l}=n;const c=Sy(n),d=lR(n);e&&d&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=t?t.initial===!1:!1;f=f||a===!1;const p=f?l:a;if(p&&typeof p!="boolean"&&!Ey(p)){const v=Array.isArray(p)?p:[p];for(let b=0;b<v.length;b++){const x=w_(n,v[b]);if(x){const{transitionEnd:w,transition:T,...P}=x;for(const C in P){let D=P[C];if(Array.isArray(D)){const B=f?D.length-1:0;D=D[B]}D!==null&&(s[C]=D)}for(const C in w)s[C]=w[C]}}}return s}const Ru=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zl=new Set(Ru),fR=n=>e=>typeof e=="string"&&e.startsWith(n),mR=fR("--"),pW=fR("var(--"),b_=n=>pW(n)?gW.test(n.split("/*")[0].trim()):!1,gW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pR=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ji=(n,e,t)=>t>e?e:t<n?n:t,ju={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Lh={...ju,transform:n=>Ji(0,1,n)},Xm={...ju,default:1},yf=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Oa=yf("deg"),li=yf("%"),Me=yf("px"),yW=yf("vh"),vW=yf("vw"),JI={...li,parse:n=>li.parse(n)/100,transform:n=>li.transform(n*100)},xW={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me},wW={rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:Xm,scaleX:Xm,scaleY:Xm,scaleZ:Xm,skew:Oa,skewX:Oa,skewY:Oa,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Lh,originX:JI,originY:JI,originZ:Me},ZI={...ju,transform:Math.round},__={...xW,...wW,zIndex:ZI,size:Me,fillOpacity:Lh,strokeOpacity:Lh,numOctaves:ZI},bW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_W=Ru.length;function TW(n,e,t){let r="",s=!0;for(let i=0;i<_W;i++){const a=Ru[i],l=n[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const d=pR(l,__[a]);if(!c){s=!1;const f=bW[a]||a;r+=`${f}(${d}) `}t&&(e[a]=d)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function T_(n,e,t){const{style:r,vars:s,transformOrigin:i}=n;let a=!1,l=!1;for(const c in e){const d=e[c];if(zl.has(c)){a=!0;continue}else if(mR(c)){s[c]=d;continue}else{const f=pR(d,__[c]);c.startsWith("origin")?(l=!0,i[c]=f):r[c]=f}}if(e.transform||(a||t?r.transform=TW(e,n.transform,t):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=i;r.transformOrigin=`${c} ${d} ${f}`}}const EW={offset:"stroke-dashoffset",array:"stroke-dasharray"},SW={offset:"strokeDashoffset",array:"strokeDasharray"};function IW(n,e,t=1,r=0,s=!0){n.pathLength=1;const i=s?EW:SW;n[i.offset]=Me.transform(-r);const a=Me.transform(e),l=Me.transform(t);n[i.array]=`${a} ${l}`}function eP(n,e,t){return typeof n=="string"?n:Me.transform(e+t*n)}function PW(n,e,t){const r=eP(e,n.x,n.width),s=eP(t,n.y,n.height);return`${r} ${s}`}function E_(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,p){if(T_(n,d,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b,dimensions:x}=n;v.transform&&(x&&(b.transform=v.transform),delete v.transform),x&&(s!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=PW(x,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),r!==void 0&&(v.scale=r),a!==void 0&&IW(v,a,l,c,!1)}const S_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),gR=()=>({...S_(),attrs:{}}),I_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function yR(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const i in t)n.style.setProperty(i,t[i])}const vR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xR(n,e,t,r){yR(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(vR.has(s)?s:y_(s),e.attrs[s])}const Tg={};function CW(n){Object.assign(Tg,n)}function wR(n,{layout:e,layoutId:t}){return zl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Tg[n]||n==="opacity")}function P_(n,e,t){var r;const{style:s}=n,i={};for(const a in s)(Wn(s[a])||e.style&&Wn(e.style[a])||wR(a,n)||((r=t==null?void 0:t.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function bR(n,e,t){const r=P_(n,e,t);for(const s in n)if(Wn(n[s])||Wn(e[s])){const i=Ru.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=n[s]}return r}function NW(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const tP=["x","y","width","height","cx","cy","r"],kW={useVisualState:hR({scrapeMotionValuesFromProps:bR,createRenderState:gR,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let i=!!n.drag;if(!i){for(const l in s)if(zl.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<tP.length;l++){const c=tP[l];n[c]!==e[c]&&(a=!0)}a&&Et.read(()=>{NW(t,r),Et.render(()=>{E_(r,s,I_(t.tagName),n.transformTemplate),xR(t,r)})})}})},AW={useVisualState:hR({scrapeMotionValuesFromProps:P_,createRenderState:S_})};function _R(n,e,t){for(const r in e)!Wn(e[r])&&!wR(r,t)&&(n[r]=e[r])}function DW({transformTemplate:n},e){return F.useMemo(()=>{const t=S_();return T_(t,e,n),Object.assign({},t.vars,t.style)},[e])}function RW(n,e){const t=n.style||{},r={};return _R(r,t,n),Object.assign(r,DW(n,e)),r}function jW(n,e){const t={},r=RW(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function MW(n,e,t,r){const s=F.useMemo(()=>{const i=gR();return E_(i,e,I_(r),n.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};_R(i,n.style,n),s.style={...i,...s.style}}return s}function OW(n=!1){return(t,r,s,{latestValues:i},a)=>{const c=(x_(t)?MW:jW)(r,i,a,t),d=Q8(r,typeof t=="string",n),f=t!==F.Fragment?{...d,...c,ref:s}:{},{children:p}=r,v=F.useMemo(()=>Wn(p)?p.get():p,[p]);return F.createElement(t,{...f,children:v})}}function LW(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...x_(r)?kW:AW,preloadedFeatures:n,useRender:OW(s),createVisualElement:e,Component:r};return aW(a)}}function TR(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Iy(n,e,t){const r=n.getProps();return w_(r,e,t!==void 0?t:r.custom,n)}const VW=m_(()=>window.ScrollTimeline!==void 0);class FW{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(VW()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class BW extends FW{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function C_(n,e){return n?n[e]||n.default||n:void 0}const mw=2e4;function ER(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<mw;)e+=t,r=n.next(e);return e>=mw?1/0:e}function N_(n){return typeof n=="function"}function nP(n,e){n.timeline=e,n.onfinish=null}const k_=n=>Array.isArray(n)&&typeof n[0]=="number",zW={linearEasing:void 0};function UW(n,e){const t=m_(n);return()=>{var r;return(r=zW[e])!==null&&r!==void 0?r:t()}}const Eg=UW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),SR=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let i=0;i<s;i++)r+=n(gu(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function IR(n){return!!(typeof n=="function"&&Eg()||!n||typeof n=="string"&&(n in pw||Eg())||k_(n)||Array.isArray(n)&&n.every(IR))}const Ud=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,pw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ud([0,.65,.55,1]),circOut:Ud([.55,0,1,.45]),backIn:Ud([.31,.01,.66,-.59]),backOut:Ud([.33,1.53,.69,.99])};function PR(n,e){if(n)return typeof n=="function"&&Eg()?SR(n,e):k_(n)?Ud(n):Array.isArray(n)?n.map(t=>PR(t,e)||pw.easeOut):pw[n]}const Ds={x:!1,y:!1};function CR(){return Ds.x||Ds.y}function $W(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}function NR(n,e){const t=$W(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function rP(n){return e=>{e.pointerType==="touch"||CR()||n(e)}}function WW(n,e,t={}){const[r,s,i]=NR(n,t),a=rP(l=>{const{target:c}=l,d=e(l);if(typeof d!="function"||!c)return;const f=rP(p=>{d(p),c.removeEventListener("pointerleave",f)});c.addEventListener("pointerleave",f,s)});return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const kR=(n,e)=>e?n===e?!0:kR(n,e.parentElement):!1,A_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,HW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qW(n){return HW.has(n.tagName)||n.tabIndex!==-1}const $d=new WeakSet;function sP(n){return e=>{e.key==="Enter"&&n(e)}}function H0(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GW=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=sP(()=>{if($d.has(t))return;H0(t,"down");const s=sP(()=>{H0(t,"up")}),i=()=>H0(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function iP(n){return A_(n)&&!CR()}function YW(n,e,t={}){const[r,s,i]=NR(n,t),a=l=>{const c=l.currentTarget;if(!iP(l)||$d.has(c))return;$d.add(c);const d=e(l),f=(b,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),!(!iP(b)||!$d.has(c))&&($d.delete(c),typeof d=="function"&&d(b,{success:x}))},p=b=>{f(b,t.useGlobalTarget||kR(c,b.target))},v=b=>{f(b,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",v,s)};return r.forEach(l=>{!qW(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l.addEventListener("focus",d=>GW(d,s),s)}),i}function KW(n){return n==="x"||n==="y"?Ds[n]?null:(Ds[n]=!0,()=>{Ds[n]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}const AR=new Set(["width","height","top","left","right","bottom",...Ru]);let jp;function XW(){jp=void 0}const ci={now:()=>(jp===void 0&&ci.set(Sn.isProcessing||H8.useManualTiming?Sn.timestamp:performance.now()),jp),set:n=>{jp=n,queueMicrotask(XW)}};function D_(n,e){n.indexOf(e)===-1&&n.push(e)}function R_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class j_{constructor(){this.subscriptions=[]}add(e){return D_(this.subscriptions,e),()=>R_(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function DR(n,e){return e?n*(1e3/e):0}const aP=30,QW=n=>!isNaN(parseFloat(n));class JW{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ci.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new j_);const r=this.events[e].add(t);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aP)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,aP);return DR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vh(n,e){return new JW(n,e)}function ZW(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Vh(t))}function e7(n,e){const t=Iy(n,e);let{transitionEnd:r={},transition:s={},...i}=t||{};i={...i,...r};for(const a in i){const l=hW(i[a]);ZW(n,a,l)}}function t7(n){return!!(Wn(n)&&n.add)}function gw(n,e){const t=n.getValue("willChange");if(t7(t))return t.add(e)}function RR(n){return n.props[cR]}const jR=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,n7=1e-7,r7=12;function s7(n,e,t,r,s){let i,a,l=0;do a=e+(t-e)/2,i=jR(a,r,s)-n,i>0?t=a:e=a;while(Math.abs(i)>n7&&++l<r7);return a}function vf(n,e,t,r){if(n===e&&t===r)return $r;const s=i=>s7(i,0,1,n,t);return i=>i===0||i===1?i:jR(s(i),e,r)}const MR=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,OR=n=>e=>1-n(1-e),LR=vf(.33,1.53,.69,.99),M_=OR(LR),VR=MR(M_),FR=n=>(n*=2)<1?.5*M_(n):.5*(2-Math.pow(2,-10*(n-1))),O_=n=>1-Math.sin(Math.acos(n)),BR=OR(O_),zR=MR(O_),UR=n=>/^0[^.\s]+$/u.test(n);function i7(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||UR(n):!0}const lh=n=>Math.round(n*1e5)/1e5,L_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function a7(n){return n==null}const o7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V_=(n,e)=>t=>!!(typeof t=="string"&&o7.test(t)&&t.startsWith(n)||e&&!a7(t)&&Object.prototype.hasOwnProperty.call(t,e)),$R=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(L_);return{[n]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},l7=n=>Ji(0,255,n),q0={...ju,transform:n=>Math.round(l7(n))},ul={test:V_("rgb","red"),parse:$R("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+q0.transform(n)+", "+q0.transform(e)+", "+q0.transform(t)+", "+lh(Lh.transform(r))+")"};function c7(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const yw={test:V_("#"),parse:c7,transform:ul.transform},$c={test:V_("hsl","hue"),parse:$R("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+li.transform(lh(e))+", "+li.transform(lh(t))+", "+lh(Lh.transform(r))+")"},zn={test:n=>ul.test(n)||yw.test(n)||$c.test(n),parse:n=>ul.test(n)?ul.parse(n):$c.test(n)?$c.parse(n):yw.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ul.transform(n):$c.transform(n)},u7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function d7(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(L_))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(u7))===null||t===void 0?void 0:t.length)||0)>0}const WR="number",HR="color",h7="var",f7="var(",oP="${}",m7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fh(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(m7,c=>(zn.test(c)?(r.color.push(i),s.push(HR),t.push(zn.parse(c))):c.startsWith(f7)?(r.var.push(i),s.push(h7),t.push(c)):(r.number.push(i),s.push(WR),t.push(parseFloat(c))),++i,oP)).split(oP);return{values:t,split:l,indexes:r,types:s}}function qR(n){return Fh(n).values}function GR(n){const{split:e,types:t}=Fh(n),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=t[a];l===WR?i+=lh(s[a]):l===HR?i+=zn.transform(s[a]):i+=s[a]}return i}}const p7=n=>typeof n=="number"?0:n;function g7(n){const e=qR(n);return GR(n)(e.map(p7))}const lo={test:d7,parse:qR,createTransformer:GR,getAnimatableNone:g7},y7=new Set(["brightness","contrast","saturate","opacity"]);function v7(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(L_)||[];if(!r)return n;const s=t.replace(r,"");let i=y7.has(e)?1:0;return r!==t&&(i*=100),e+"("+i+s+")"}const x7=/\b([a-z-]*)\(.*?\)/gu,vw={...lo,getAnimatableNone:n=>{const e=n.match(x7);return e?e.map(v7).join(" "):n}},w7={...__,color:zn,backgroundColor:zn,outlineColor:zn,fill:zn,stroke:zn,borderColor:zn,borderTopColor:zn,borderRightColor:zn,borderBottomColor:zn,borderLeftColor:zn,filter:vw,WebkitFilter:vw},F_=n=>w7[n];function YR(n,e){let t=F_(n);return t!==vw&&(t=lo),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const b7=new Set(["auto","none","0"]);function _7(n,e,t){let r=0,s;for(;r<n.length&&!s;){const i=n[r];typeof i=="string"&&!b7.has(i)&&Fh(i).values.length&&(s=n[r]),r++}if(s&&t)for(const i of e)n[i]=YR(t,s)}const lP=n=>n===ju||n===Me,cP=(n,e)=>parseFloat(n.split(", ")[e]),uP=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return cP(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?cP(i[1],n):0}},T7=new Set(["x","y","z"]),E7=Ru.filter(n=>!T7.has(n));function S7(n){const e=[];return E7.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const vu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:uP(4,13),y:uP(5,14)};vu.translateX=vu.x;vu.translateY=vu.y;const gl=new Set;let xw=!1,ww=!1;function KR(){if(ww){const n=Array.from(gl).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=S7(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ww=!1,xw=!1,gl.forEach(n=>n.complete()),gl.clear()}function XR(){gl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ww=!0)})}function I7(){XR(),KR()}class B_{constructor(e,t,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gl.add(this),xw||(xw=!0,Et.read(XR),Et.resolveKeyframes(KR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const c=r.readValue(t,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const QR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),P7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function C7(n){const e=P7.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function JR(n,e,t=1){const[r,s]=C7(n);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return QR(a)?parseFloat(a):a}return b_(s)?JR(s,e,t+1):s}const ZR=n=>e=>e.test(n),N7={test:n=>n==="auto",parse:n=>n},ej=[ju,Me,li,Oa,vW,yW,N7],dP=n=>ej.find(ZR(n));class tj extends B_{constructor(e,t,r,s,i){super(e,t,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),b_(d))){const f=JR(d,t.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!AR.has(r)||e.length!==2)return;const[s,i]=e,a=dP(s),l=dP(i);if(a!==l)if(lP(a)&&lP(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)i7(e[s])&&r.push(s);r.length&&_7(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=vu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const hP=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(lo.test(n)||n==="0")&&!n.startsWith("url("));function k7(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function A7(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=n[n.length-1],a=hP(s,e),l=hP(i,e);return!a||!l?!1:k7(n)||(t==="spring"||N_(t))&&r}const D7=n=>n!==null;function Py(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(D7),i=e&&t!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const R7=40;class nj{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ci.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>R7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&I7(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ci.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!A7(e,r,s,i))if(a)this.options.duration=0;else{c&&c(Py(e,this.options,t)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,t);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...f},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ot=(n,e,t)=>n+(e-n)*t;function G0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function j7({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,i=0,a=0;if(!e)s=i=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;s=G0(c,l,n+1/3),i=G0(c,l,n),a=G0(c,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Sg(n,e){return t=>t>0?e:n}const Y0=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},M7=[yw,ul,$c],O7=n=>M7.find(e=>e.test(n));function fP(n){const e=O7(n);if(!e)return!1;let t=e.parse(n);return e===$c&&(t=j7(t)),t}const mP=(n,e)=>{const t=fP(n),r=fP(e);if(!t||!r)return Sg(n,e);const s={...t};return i=>(s.red=Y0(t.red,r.red,i),s.green=Y0(t.green,r.green,i),s.blue=Y0(t.blue,r.blue,i),s.alpha=Ot(t.alpha,r.alpha,i),ul.transform(s))},L7=(n,e)=>t=>e(n(t)),xf=(...n)=>n.reduce(L7),bw=new Set(["none","hidden"]);function V7(n,e){return bw.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function F7(n,e){return t=>Ot(n,e,t)}function z_(n){return typeof n=="number"?F7:typeof n=="string"?b_(n)?Sg:zn.test(n)?mP:U7:Array.isArray(n)?rj:typeof n=="object"?zn.test(n)?mP:B7:Sg}function rj(n,e){const t=[...n],r=t.length,s=n.map((i,a)=>z_(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)t[a]=s[a](i);return t}}function B7(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=z_(n[s])(n[s],e[s]));return s=>{for(const i in r)t[i]=r[i](s);return t}}function z7(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=n.indexes[a][s[a]],c=(t=n.values[l])!==null&&t!==void 0?t:0;r[i]=c,s[a]++}return r}const U7=(n,e)=>{const t=lo.createTransformer(e),r=Fh(n),s=Fh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?bw.has(n)&&!s.values.length||bw.has(e)&&!r.values.length?V7(n,e):xf(rj(z7(r,s),s.values),t):Sg(n,e)};function sj(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ot(n,e,t):z_(n)(n,e)}const $7=5;function ij(n,e,t){const r=Math.max(e-$7,0);return DR(t-n(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pP=.001;function W7({duration:n=Bt.duration,bounce:e=Bt.bounce,velocity:t=Bt.velocity,mass:r=Bt.mass}){let s,i,a=1-e;a=Ji(Bt.minDamping,Bt.maxDamping,a),n=Ji(Bt.minDuration,Bt.maxDuration,Gi(n)),a<1?(s=d=>{const f=d*a,p=f*n,v=f-t,b=_w(d,a),x=Math.exp(-p);return pP-v/b*x},i=d=>{const p=d*a*n,v=p*t+t,b=Math.pow(a,2)*Math.pow(d,2)*n,x=Math.exp(-p),w=_w(Math.pow(d,2),a);return(-s(d)+pP>0?-1:1)*((v-b)*x)/w}):(s=d=>{const f=Math.exp(-d*n),p=(d-t)*n+1;return-.001+f*p},i=d=>{const f=Math.exp(-d*n),p=(t-d)*(n*n);return f*p});const l=5/n,c=q7(s,i,l);if(n=qi(n),isNaN(c))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:n};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:n}}}const H7=12;function q7(n,e,t){let r=t;for(let s=1;s<H7;s++)r=r-n(r)/e(r);return r}function _w(n,e){return n*Math.sqrt(1-e*e)}const G7=["duration","bounce"],Y7=["stiffness","damping","mass"];function gP(n,e){return e.some(t=>n[t]!==void 0)}function K7(n){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...n};if(!gP(n,Y7)&&gP(n,G7))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,i=2*Ji(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Bt.mass,stiffness:s,damping:i}}else{const t=W7(n);e={...e,...t,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function aj(n=Bt.visualDuration,e=Bt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const i=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:f,duration:p,velocity:v,isResolvedFromDuration:b}=K7({...t,velocity:-Gi(t.velocity||0)}),x=v||0,w=d/(2*Math.sqrt(c*f)),T=a-i,P=Gi(Math.sqrt(c/f)),C=Math.abs(T)<5;r||(r=C?Bt.restSpeed.granular:Bt.restSpeed.default),s||(s=C?Bt.restDelta.granular:Bt.restDelta.default);let D;if(w<1){const L=_w(P,w);D=U=>{const M=Math.exp(-w*P*U);return a-M*((x+w*P*T)/L*Math.sin(L*U)+T*Math.cos(L*U))}}else if(w===1)D=L=>a-Math.exp(-P*L)*(T+(x+P*T)*L);else{const L=P*Math.sqrt(w*w-1);D=U=>{const M=Math.exp(-w*P*U),I=Math.min(L*U,300);return a-M*((x+w*P*T)*Math.sinh(I)+L*T*Math.cosh(I))/L}}const B={calculatedDuration:b&&p||null,next:L=>{const U=D(L);if(b)l.done=L>=p;else{let M=0;w<1&&(M=L===0?qi(x):ij(D,L,U));const I=Math.abs(M)<=r,N=Math.abs(a-U)<=s;l.done=I&&N}return l.value=l.done?a:U,l},toString:()=>{const L=Math.min(ER(B),mw),U=SR(M=>B.next(L*M).value,L,30);return L+"ms "+U}};return B}function yP({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:f}){const p=n[0],v={done:!1,value:p},b=I=>l!==void 0&&I<l||c!==void 0&&I>c,x=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let w=t*e;const T=p+w,P=a===void 0?T:a(T);P!==T&&(w=P-p);const C=I=>-w*Math.exp(-I/r),D=I=>P+C(I),B=I=>{const N=C(I),j=D(I);v.done=Math.abs(N)<=d,v.value=v.done?P:j};let L,U;const M=I=>{b(v.value)&&(L=I,U=aj({keyframes:[v.value,x(v.value)],velocity:ij(D,I,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:f}))};return M(0),{calculatedDuration:null,next:I=>{let N=!1;return!U&&L===void 0&&(N=!0,B(I),M(I)),L!==void 0&&I>=L?U.next(I-L):(!N&&B(I),v)}}}const X7=vf(.42,0,1,1),Q7=vf(0,0,.58,1),oj=vf(.42,0,.58,1),J7=n=>Array.isArray(n)&&typeof n[0]!="number",Z7={linear:$r,easeIn:X7,easeInOut:oj,easeOut:Q7,circIn:O_,circInOut:zR,circOut:BR,backIn:M_,backInOut:VR,backOut:LR,anticipate:FR},vP=n=>{if(k_(n)){sR(n.length===4);const[e,t,r,s]=n;return vf(e,t,r,s)}else if(typeof n=="string")return Z7[n];return n};function eH(n,e,t){const r=[],s=t||sj,i=n.length-1;for(let a=0;a<i;a++){let l=s(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||$r:e;l=xf(c,l)}r.push(l)}return r}function tH(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const i=n.length;if(sR(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=eH(e,r,s),c=l.length,d=f=>{if(a&&f<n[0])return e[0];let p=0;if(c>1)for(;p<n.length-2&&!(f<n[p+1]);p++);const v=gu(n[p],n[p+1],f);return l[p](v)};return t?f=>d(Ji(n[0],n[i-1],f)):d}function nH(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=gu(0,e,r);n.push(Ot(t,1,s))}}function rH(n){const e=[0];return nH(e,n.length-1),e}function sH(n,e){return n.map(t=>t*e)}function iH(n,e){return n.map(()=>e||oj).splice(0,n.length-1)}function Ig({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=J7(r)?r.map(vP):vP(r),i={done:!1,value:e[0]},a=sH(t&&t.length===e.length?t:rH(e),n),l=tH(a,e,{ease:Array.isArray(s)?s:iH(e,s)});return{calculatedDuration:n,next:c=>(i.value=l(c),i.done=c>=n,i)}}const aH=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Et.update(e,!0),stop:()=>oo(e),now:()=>Sn.isProcessing?Sn.timestamp:ci.now()}},oH={decay:yP,inertia:yP,tween:Ig,keyframes:Ig,spring:aj},lH=n=>n/100;class U_ extends nj{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||B_,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new a(i,l,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,l=N_(t)?t:oH[t]||Ig;let c,d;l!==Ig&&typeof e[0]!="number"&&(c=xf(lH,sj(e[0],e[1])),e=[0,100]);const f=l({...this.options,keyframes:e});i==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=ER(f));const{calculatedDuration:p}=f,v=p+s,b=v*(r+1)-s;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:p,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return i.next(0);const{delay:v,repeat:b,repeatType:x,repeatDelay:w,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-v*(this.speed>=0?1:-1),C=this.speed>=0?P<0:P>f;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let D=this.currentTime,B=i;if(b){const I=Math.min(this.currentTime,f)/p;let N=Math.floor(I),j=I%1;!j&&I>=1&&(j=1),j===1&&N--,N=Math.min(N,b+1),!!(N%2)&&(x==="reverse"?(j=1-j,w&&(j-=w/p)):x==="mirror"&&(B=a)),D=Ji(0,1,j)*p}const L=C?{done:!1,value:c[0]}:B.next(D);l&&(L.value=l(L.value));let{done:U}=L;!C&&d!==null&&(U=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return M&&s!==void 0&&(L.value=Py(c,this.options,s)),T&&T(L.value),M&&this.finish(),L}get duration(){const{resolved:e}=this;return e?Gi(e.calculatedDuration):0}get time(){return Gi(this.currentTime)}set time(e){e=qi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Gi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=aH,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const cH=new Set(["opacity","clipPath","filter","transform"]);function uH(n,e,t,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const d={[e]:t};c&&(d.offset=c);const f=PR(l,s);return Array.isArray(f)&&(d.easing=f),n.animate(d,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const dH=m_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Pg=10,hH=2e4;function fH(n){return N_(n.type)||n.type==="spring"||!IR(n.ease)}function mH(n,e){const t=new U_({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let i=0;for(;!r.done&&i<hH;)r=t.sample(i),s.push(r.value),i+=Pg;return{times:void 0,keyframes:s,duration:i-Pg,ease:"linear"}}const lj={anticipate:FR,backInOut:VR,circInOut:zR};function pH(n){return n in lj}class xP extends nj{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new tj(i,(a,l)=>this.onKeyframesResolved(a,l),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Eg()&&pH(i)&&(i=lj[i]),fH(this.options)){const{onComplete:p,onUpdate:v,motionValue:b,element:x,...w}=this.options,T=mH(e,w);e=T.keyframes,e.length===1&&(e[1]=e[0]),r=T.duration,s=T.times,i=T.ease,a="keyframes"}const f=uH(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:i});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(nP(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Py(e,this.options,t)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Gi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Gi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=qi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return $r;const{animation:r}=t;nP(r,e)}return $r}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:i,ease:a,times:l}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:v,...b}=this.options,x=new U_({...b,keyframes:r,duration:s,type:i,ease:a,times:l,isGenerator:!0}),w=qi(this.time);d.setWithVelocity(x.sample(w-Pg).value,x.sample(w).value,Pg)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:i,damping:a,type:l}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return dH()&&r&&cH.has(r)&&!c&&!d&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}}const gH={type:"spring",stiffness:500,damping:25,restSpeed:10},yH=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),vH={type:"keyframes",duration:.8},xH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wH=(n,{keyframes:e})=>e.length>2?vH:zl.has(n)?n.startsWith("scale")?yH(e[1]):gH:xH;function bH({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const $_=(n,e,t,r={},s,i)=>a=>{const l=C_(r,n)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-qi(c);let f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:i?void 0:s};bH(l)||(f={...f,...wH(n,f)}),f.duration&&(f.duration=qi(f.duration)),f.repeatDelay&&(f.repeatDelay=qi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const v=Py(f.keyframes,l);if(v!==void 0)return Et.update(()=>{f.onUpdate(v),f.onComplete()}),new BW([])}return!i&&xP.supports(f)?new xP(f):new U_(f)};function _H({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function cj(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var i;let{transition:a=n.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],f=s&&n.animationState&&n.animationState.getState()[s];for(const p in c){const v=n.getValue(p,(i=n.latestValues[p])!==null&&i!==void 0?i:null),b=c[p];if(b===void 0||f&&_H(f,p))continue;const x={delay:t,...C_(a||{},p)};let w=!1;if(window.MotionHandoffAnimation){const P=RR(n);if(P){const C=window.MotionHandoffAnimation(P,p,Et);C!==null&&(x.startTime=C,w=!0)}}gw(n,p),v.start($_(p,v,b,n.shouldReduceMotion&&AR.has(p)?{type:!1}:x,n,w));const T=v.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{Et.update(()=>{l&&e7(n,l)})}),d}function Tw(n,e,t={}){var r;const s=Iy(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(i=t.transitionOverride);const a=s?()=>Promise.all(cj(n,s,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:v}=i;return TH(n,e,f+d,p,v,t)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>f())}else return Promise.all([a(),l(t.delay)])}function TH(n,e,t=0,r=0,s=1,i){const a=[],l=(n.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(n.variantChildren).sort(EH).forEach((d,f)=>{d.notify("AnimationStart",e),a.push(Tw(d,e,{...i,delay:t+c(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function EH(n,e){return n.sortNodePosition(e)}function SH(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Tw(n,i,t));r=Promise.all(s)}else if(typeof e=="string")r=Tw(n,e,t);else{const s=typeof e=="function"?Iy(n,e,t.custom):e;r=Promise.all(cj(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const IH=g_.length;function uj(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?uj(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<IH;t++){const r=g_[t],s=n.props[r];(Oh(s)||s===!1)&&(e[r]=s)}return e}const PH=[...p_].reverse(),CH=p_.length;function NH(n){return e=>Promise.all(e.map(({animation:t,options:r})=>SH(n,t,r)))}function kH(n){let e=NH(n),t=wP(),r=!0;const s=c=>(d,f)=>{var p;const v=Iy(n,f,c==="exit"?(p=n.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(v){const{transition:b,transitionEnd:x,...w}=v;d={...d,...w,...x}}return d};function i(c){e=c(n)}function a(c){const{props:d}=n,f=uj(n.parent)||{},p=[],v=new Set;let b={},x=1/0;for(let T=0;T<CH;T++){const P=PH[T],C=t[P],D=d[P]!==void 0?d[P]:f[P],B=Oh(D),L=P===c?C.isActive:null;L===!1&&(x=T);let U=D===f[P]&&D!==d[P]&&B;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),C.protectedKeys={...b},!C.isActive&&L===null||!D&&!C.prevProp||Ey(D)||typeof D=="boolean")continue;const M=AH(C.prevProp,D);let I=M||P===c&&C.isActive&&!U&&B||T>x&&B,N=!1;const j=Array.isArray(D)?D:[D];let A=j.reduce(s(P),{});L===!1&&(A={});const{prevResolvedValues:O={}}=C,R={...O,...A},G=ue=>{I=!0,v.has(ue)&&(N=!0,v.delete(ue)),C.needsAnimating[ue]=!0;const ee=n.getValue(ue);ee&&(ee.liveStyle=!1)};for(const ue in R){const ee=A[ue],ce=O[ue];if(b.hasOwnProperty(ue))continue;let se=!1;fw(ee)&&fw(ce)?se=!TR(ee,ce):se=ee!==ce,se?ee!=null?G(ue):v.add(ue):ee!==void 0&&v.has(ue)?G(ue):C.protectedKeys[ue]=!0}C.prevProp=D,C.prevResolvedValues=A,C.isActive&&(b={...b,...A}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(U&&M)||N)&&p.push(...j.map(ue=>({animation:ue,options:{type:P}})))}if(v.size){const T={};v.forEach(P=>{const C=n.getBaseTarget(P),D=n.getValue(P);D&&(D.liveStyle=!0),T[P]=C??null}),p.push({animation:T})}let w=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(p):Promise.resolve()}function l(c,d){var f;if(t[c].isActive===d)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(c,d)}),t[c].isActive=d;const p=a(c);for(const v in t)t[v].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>t,reset:()=>{t=wP(),r=!0}}}function AH(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!TR(e,n):!1}function Go(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wP(){return{animate:Go(!0),whileInView:Go(),whileHover:Go(),whileTap:Go(),whileDrag:Go(),whileFocus:Go(),exit:Go()}}class xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DH extends xo{constructor(e){super(e),e.animationState||(e.animationState=kH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ey(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let RH=0;class jH extends xo{constructor(){super(...arguments),this.id=RH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const MH={animation:{Feature:DH},exit:{Feature:jH}};function Bh(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function wf(n){return{point:{x:n.pageX,y:n.pageY}}}const OH=n=>e=>A_(e)&&n(e,wf(e));function ch(n,e,t,r){return Bh(n,e,OH(t),r)}const bP=(n,e)=>Math.abs(n-e);function LH(n,e){const t=bP(n.x,e.x),r=bP(n.y,e.y);return Math.sqrt(t**2+r**2)}class dj{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=X0(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=LH(p.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:x}=p,{timestamp:w}=Sn;this.history.push({...x,timestamp:w});const{onStart:T,onMove:P}=this.handlers;v||(T&&T(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=K0(v,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=X0(p.type==="pointercancel"?this.lastMoveEventInfo:K0(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,T),x&&x(p,T)},!A_(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const a=wf(e),l=K0(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Sn;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=t;f&&f(e,X0(l,this.history)),this.removeListeners=xf(ch(this.contextWindow,"pointermove",this.handlePointerMove),ch(this.contextWindow,"pointerup",this.handlePointerUp),ch(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oo(this.updatePoint)}}function K0(n,e){return e?{point:e(n.point)}:n}function _P(n,e){return{x:n.x-e.x,y:n.y-e.y}}function X0({point:n},e){return{point:n,delta:_P(n,hj(e)),offset:_P(n,VH(e)),velocity:FH(e,.1)}}function VH(n){return n[0]}function hj(n){return n[n.length-1]}function FH(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=hj(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>qi(e)));)t--;if(!r)return{x:0,y:0};const i=Gi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const fj=1e-4,BH=1-fj,zH=1+fj,mj=.01,UH=0-mj,$H=0+mj;function Hr(n){return n.max-n.min}function WH(n,e,t){return Math.abs(n-e)<=t}function TP(n,e,t,r=.5){n.origin=r,n.originPoint=Ot(e.min,e.max,n.origin),n.scale=Hr(t)/Hr(e),n.translate=Ot(t.min,t.max,n.origin)-n.originPoint,(n.scale>=BH&&n.scale<=zH||isNaN(n.scale))&&(n.scale=1),(n.translate>=UH&&n.translate<=$H||isNaN(n.translate))&&(n.translate=0)}function uh(n,e,t,r){TP(n.x,e.x,t.x,r?r.originX:void 0),TP(n.y,e.y,t.y,r?r.originY:void 0)}function EP(n,e,t){n.min=t.min+e.min,n.max=n.min+Hr(e)}function HH(n,e,t){EP(n.x,e.x,t.x),EP(n.y,e.y,t.y)}function SP(n,e,t){n.min=e.min-t.min,n.max=n.min+Hr(e)}function dh(n,e,t){SP(n.x,e.x,t.x),SP(n.y,e.y,t.y)}function qH(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Ot(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Ot(t,n,r.max):Math.min(n,t)),n}function IP(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function GH(n,{top:e,left:t,bottom:r,right:s}){return{x:IP(n.x,t,s),y:IP(n.y,e,r)}}function PP(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function YH(n,e){return{x:PP(n.x,e.x),y:PP(n.y,e.y)}}function KH(n,e){let t=.5;const r=Hr(n),s=Hr(e);return s>r?t=gu(e.min,e.max-r,n.min):r>s&&(t=gu(n.min,n.max-s,e.min)),Ji(0,1,t)}function XH(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Ew=.35;function QH(n=Ew){return n===!1?n=0:n===!0&&(n=Ew),{x:CP(n,"left","right"),y:CP(n,"top","bottom")}}function CP(n,e,t){return{min:NP(n,e),max:NP(n,t)}}function NP(n,e){return typeof n=="number"?n:n[e]||0}const kP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wc=()=>({x:kP(),y:kP()}),AP=()=>({min:0,max:0}),qt=()=>({x:AP(),y:AP()});function is(n){return[n("x"),n("y")]}function pj({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function JH({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function ZH(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Q0(n){return n===void 0||n===1}function Sw({scale:n,scaleX:e,scaleY:t}){return!Q0(n)||!Q0(e)||!Q0(t)}function Zo(n){return Sw(n)||gj(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function gj(n){return DP(n.x)||DP(n.y)}function DP(n){return n&&n!=="0%"}function Cg(n,e,t){const r=n-t,s=e*r;return t+s}function RP(n,e,t,r,s){return s!==void 0&&(n=Cg(n,s,r)),Cg(n,t,r)+e}function Iw(n,e=0,t=1,r,s){n.min=RP(n.min,e,t,r,s),n.max=RP(n.max,e,t,r,s)}function yj(n,{x:e,y:t}){Iw(n.x,e.translate,e.scale,e.originPoint),Iw(n.y,t.translate,t.scale,t.originPoint)}const jP=.999999999999,MP=1.0000000000001;function eq(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=t[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qc(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,yj(n,a)),r&&Zo(i.latestValues)&&qc(n,i.latestValues))}e.x<MP&&e.x>jP&&(e.x=1),e.y<MP&&e.y>jP&&(e.y=1)}function Hc(n,e){n.min=n.min+e,n.max=n.max+e}function OP(n,e,t,r,s=.5){const i=Ot(n.min,n.max,s);Iw(n,e,t,i,r)}function qc(n,e){OP(n.x,e.x,e.scaleX,e.scale,e.originX),OP(n.y,e.y,e.scaleY,e.scale,e.originY)}function vj(n,e){return pj(ZH(n.getBoundingClientRect(),e))}function tq(n,e,t){const r=vj(n,t),{scroll:s}=e;return s&&(Hc(r.x,s.offset.x),Hc(r.y,s.offset.y)),r}const xj=({current:n})=>n?n.ownerDocument.defaultView:null,nq=new WeakMap;class rq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wf(f).point)},i=(f,p)=>{const{drag:v,dragPropagation:b,onDragStart:x}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KW(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),is(T=>{let P=this.getAxisMotionValue(T).get()||0;if(li.test(P)){const{projection:C}=this.visualElement;if(C&&C.layout){const D=C.layout.layoutBox[T];D&&(P=Hr(D)*(parseFloat(P)/100))}}this.originPoint[T]=P}),x&&Et.postRender(()=>x(f,p)),gw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(f,p)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:x,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:T}=p;if(b&&this.currentDirection===null){this.currentDirection=sq(T),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,T),this.updateAxis("y",p.point,T),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>this.stop(f,p),c=()=>is(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new dj(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:xj(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Et.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Qm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=qH(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;t&&Uc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=GH(s.layoutBox,t):this.constraints=!1,this.elastic=QH(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&is(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=XH(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Uc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=tq(r,s.root,this.visualElement.getTransformPagePoint());let a=YH(s.layout.layoutBox,i);if(t){const l=t(JH(a));this.hasMutatedConstraints=!!l,l&&(a=pj(l))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=is(f=>{if(!Qm(f,t,this.currentDirection))return;let p=c&&c[f]||{};a&&(p={min:0,max:0});const v=s?200:1e6,b=s?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return gw(this.visualElement,e),r.start($_(e,r,0,t,this.visualElement,!1))}stopAnimation(){is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){is(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){is(t=>{const{drag:r}=this.getProps();if(!Qm(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[t];i.set(e[t]-Ot(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Uc(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};is(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=KH({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),is(a=>{if(!Qm(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(Ot(c,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;nq.set(this.visualElement,this);const e=this.visualElement.current,t=ch(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Uc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Et.read(r);const a=Bh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(is(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{a(),t(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Ew,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Qm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function sq(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class iq extends xo{constructor(e){super(e),this.removeGroupControls=$r,this.removeListeners=$r,this.controls=new rq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$r}unmount(){this.removeGroupControls(),this.removeListeners()}}const LP=n=>(e,t)=>{n&&Et.postRender(()=>n(e,t))};class aq extends xo{constructor(){super(...arguments),this.removePointerDownListener=$r}onPointerDown(e){this.session=new dj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:LP(e),onStart:LP(t),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Et.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ch(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VP(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ed={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Me.test(n))n=parseFloat(n);else return n;const t=VP(n,e.target.x),r=VP(n,e.target.y);return`${t}% ${r}%`}},oq={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=lo.parse(n);if(s.length>5)return r;const i=lo.createTransformer(n),a=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const d=Ot(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};class lq extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;CW(cq),i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Mp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Et.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),v_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wj(n){const[e,t]=$8(),r=F.useContext(nR);return h.jsx(lq,{...n,layoutGroup:r,switchLayoutGroup:F.useContext(uR),isPresent:e,safeToRemove:t})}const cq={borderRadius:{...Ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ed,borderTopRightRadius:Ed,borderBottomLeftRadius:Ed,borderBottomRightRadius:Ed,boxShadow:oq};function uq(n,e,t){const r=Wn(n)?n:Vh(n);return r.start($_("",r,e,t)),r.animation}function dq(n){return n instanceof SVGElement&&n.tagName!=="svg"}const hq=(n,e)=>n.depth-e.depth;class fq{constructor(){this.children=[],this.isDirty=!1}add(e){D_(this.children,e),this.isDirty=!0}remove(e){R_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hq),this.isDirty=!1,this.children.forEach(e)}}function mq(n,e){const t=ci.now(),r=({timestamp:s})=>{const i=s-t;i>=e&&(oo(r),n(i-e))};return Et.read(r,!0),()=>oo(r)}const bj=["TopLeft","TopRight","BottomLeft","BottomRight"],pq=bj.length,FP=n=>typeof n=="string"?parseFloat(n):n,BP=n=>typeof n=="number"||Me.test(n);function gq(n,e,t,r,s,i){s?(n.opacity=Ot(0,t.opacity!==void 0?t.opacity:1,yq(r)),n.opacityExit=Ot(e.opacity!==void 0?e.opacity:1,0,vq(r))):i&&(n.opacity=Ot(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<pq;a++){const l=`border${bj[a]}Radius`;let c=zP(e,l),d=zP(t,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||BP(c)===BP(d)?(n[l]=Math.max(Ot(FP(c),FP(d),r),0),(li.test(d)||li.test(c))&&(n[l]+="%")):n[l]=d}(e.rotate||t.rotate)&&(n.rotate=Ot(e.rotate||0,t.rotate||0,r))}function zP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const yq=_j(0,.5,BR),vq=_j(.5,.95,$r);function _j(n,e,t){return r=>r<n?0:r>e?1:t(gu(n,e,r))}function UP(n,e){n.min=e.min,n.max=e.max}function rs(n,e){UP(n.x,e.x),UP(n.y,e.y)}function $P(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function WP(n,e,t,r,s){return n-=e,n=Cg(n,1/t,r),s!==void 0&&(n=Cg(n,1/s,r)),n}function xq(n,e=0,t=1,r=.5,s,i=n,a=n){if(li.test(e)&&(e=parseFloat(e),e=Ot(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Ot(i.min,i.max,r);n===i&&(l-=e),n.min=WP(n.min,e,t,l,s),n.max=WP(n.max,e,t,l,s)}function HP(n,e,[t,r,s],i,a){xq(n,e[t],e[r],e[s],e.scale,i,a)}const wq=["x","scaleX","originX"],bq=["y","scaleY","originY"];function qP(n,e,t,r){HP(n.x,e,wq,t?t.x:void 0,r?r.x:void 0),HP(n.y,e,bq,t?t.y:void 0,r?r.y:void 0)}function GP(n){return n.translate===0&&n.scale===1}function Tj(n){return GP(n.x)&&GP(n.y)}function YP(n,e){return n.min===e.min&&n.max===e.max}function _q(n,e){return YP(n.x,e.x)&&YP(n.y,e.y)}function KP(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Ej(n,e){return KP(n.x,e.x)&&KP(n.y,e.y)}function XP(n){return Hr(n.x)/Hr(n.y)}function QP(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Tq{constructor(){this.members=[]}add(e){D_(this.members,e),e.scheduleRender()}remove(e){if(R_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Eq(n,e,t){let r="";const s=n.x.translate/e.x,i=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:v,skewX:b,skewY:x}=t;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const el={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wd=typeof window<"u"&&window.MotionDebug!==void 0,J0=["","X","Y","Z"],Sq={visibility:"hidden"},JP=1e3;let Iq=0;function Z0(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function Sj(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=RR(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:i}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Et,!(s||i))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Sj(r)}function Ij({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Iq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wd&&(el.totalNodes=el.resolvedTargetDeltas=el.recalculatedProjection=0),this.nodes.forEach(Nq),this.nodes.forEach(jq),this.nodes.forEach(Mq),this.nodes.forEach(kq),Wd&&window.MotionDebug.record(el)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new fq)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new j_),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dq(a),this.instance=a;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),n){let p;const v=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=mq(v,250),Mp.hasAnimatedSinceResize&&(Mp.hasAnimatedSinceResize=!1,this.nodes.forEach(eC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeTargetChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||Bq,{onLayoutAnimationStart:T,onLayoutAnimationComplete:P}=f.getProps(),C=!this.targetLayout||!Ej(this.targetLayout,x)||b,D=!v&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||D||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,D);const B={...C_(w,"layout"),onPlay:T,onComplete:P};(f.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else v||eC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,oo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Oq),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZP);return}this.isUpdating||this.nodes.forEach(Dq),this.isUpdating=!1,this.nodes.forEach(Rq),this.nodes.forEach(Pq),this.nodes.forEach(Cq),this.clearAllSnapshots();const l=ci.now();Sn.delta=Ji(0,1e3/60,l-Sn.timestamp),Sn.timestamp=l,Sn.isProcessing=!0,W0.update.process(Sn),W0.preRender.process(Sn),W0.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,v_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Aq),this.sharedNodes.forEach(Lq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Tj(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&(l||Zo(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),zq(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return qt();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Uq))){const{scroll:f}=this.root;f&&(Hc(c.x,f.offset.x),Hc(c.y,f.offset.y))}return c}removeElementScroll(a){var l;const c=qt();if(rs(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:v}=f;f!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&rs(c,a),Hc(c.x,p.offset.x),Hc(c.y,p.offset.y))}return c}applyTransform(a,l=!1){const c=qt();rs(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&qc(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Zo(f.latestValues)&&qc(c,f.latestValues)}return Zo(this.latestValues)&&qc(c,this.latestValues),c}removeTransform(a){const l=qt();rs(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Zo(d.latestValues))continue;Sw(d.latestValues)&&d.updateSnapshot();const f=qt(),p=d.measurePageBox();rs(f,p),qP(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Zo(this.latestValues)&&qP(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),dh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rs(this.target,this.layout.layoutBox),yj(this.target,this.targetDelta)):rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),dh(this.relativeTargetOrigin,this.target,b.target),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wd&&el.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sw(this.parent.latestValues)||gj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;rs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;eq(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=qt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($P(this.prevProjectionDelta.x,this.projectionDelta.x),$P(this.prevProjectionDelta.y,this.projectionDelta.y)),uh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!QP(this.projectionDelta.x,this.prevProjectionDelta.x)||!QP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Wd&&el.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wc(),this.projectionDelta=Wc(),this.projectionDeltaWithTransform=Wc()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=Wc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=qt(),b=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=b!==x,T=this.getStack(),P=!T||T.members.length<=1,C=!!(w&&!P&&this.options.crossfade===!0&&!this.path.some(Fq));this.animationProgress=0;let D;this.mixTargetDelta=B=>{const L=B/1e3;tC(p.x,a.x,L),tC(p.y,a.y,L),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dh(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vq(this.relativeTarget,this.relativeTargetOrigin,v,L),D&&_q(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=qt()),rs(D,this.relativeTarget)),w&&(this.animationValues=f,gq(f,d,this.latestValues,L,C,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(oo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Mp.hasAnimatedSinceResize=!0,this.currentAnimation=uq(0,JP,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&Pj(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||qt();const p=Hr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const v=Hr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+v}rs(l,c),qc(l,f),uh(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Tq),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Z0("z",a,d,this.animationValues);for(let f=0;f<J0.length;f++)Z0(`rotate${J0[f]}`,a,d,this.animationValues),Z0(`skew${J0[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Sq;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Rp(a==null?void 0:a.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Rp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Zo(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const v=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=Eq(this.projectionDeltaWithTransform,this.treeScale,v),f&&(d.transform=f(v,d.transform));const{x:b,y:x}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,p.animationValues?d.opacity=p===this?(c=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const w in Tg){if(v[w]===void 0)continue;const{correct:T,applyTo:P}=Tg[w],C=d.transform==="none"?v[w]:T(v[w],p);if(P){const D=P.length;for(let B=0;B<D;B++)d[P[B]]=C}else d[w]=C}return this.options.layoutId&&(d.pointerEvents=p===this?Rp(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ZP),this.root.sharedNodes.clear()}}}function Pq(n){n.updateLayout()}function Cq(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:i}=n.options,a=t.source!==n.layout.source;i==="size"?is(p=>{const v=a?t.measuredBox[p]:t.layoutBox[p],b=Hr(v);v.min=r[p].min,v.max=v.min+b}):Pj(i,t.layoutBox,r)&&is(p=>{const v=a?t.measuredBox[p]:t.layoutBox[p],b=Hr(r[p]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+b)});const l=Wc();uh(l,r,t.layoutBox);const c=Wc();a?uh(c,n.applyTransform(s,!0),t.measuredBox):uh(c,r,t.layoutBox);const d=!Tj(l);let f=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:b}=p;if(v&&b){const x=qt();dh(x,t.layoutBox,v.layoutBox);const w=qt();dh(w,r,b.layoutBox),Ej(x,w)||(f=!0),p.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=x,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Nq(n){Wd&&el.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function kq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Aq(n){n.clearSnapshot()}function ZP(n){n.clearMeasurements()}function Dq(n){n.isLayoutDirty=!1}function Rq(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function eC(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function jq(n){n.resolveTargetDelta()}function Mq(n){n.calcProjection()}function Oq(n){n.resetSkewAndRotation()}function Lq(n){n.removeLeadSnapshot()}function tC(n,e,t){n.translate=Ot(e.translate,0,t),n.scale=Ot(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function nC(n,e,t,r){n.min=Ot(e.min,t.min,r),n.max=Ot(e.max,t.max,r)}function Vq(n,e,t,r){nC(n.x,e.x,t.x,r),nC(n.y,e.y,t.y,r)}function Fq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Bq={duration:.45,ease:[.4,0,.1,1]},rC=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),sC=rC("applewebkit/")&&!rC("chrome/")?Math.round:$r;function iC(n){n.min=sC(n.min),n.max=sC(n.max)}function zq(n){iC(n.x),iC(n.y)}function Pj(n,e,t){return n==="position"||n==="preserve-aspect"&&!WH(XP(e),XP(t),.2)}function Uq(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const $q=Ij({attachResizeListener:(n,e)=>Bh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ex={current:void 0},Cj=Ij({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ex.current){const n=new $q({});n.mount(window),n.setOptions({layoutScroll:!0}),ex.current=n}return ex.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Wq={pan:{Feature:aq},drag:{Feature:iq,ProjectionNode:Cj,MeasureLayout:wj}};function aC(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,i=r[s];i&&Et.postRender(()=>i(e,wf(e)))}class Hq extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=WW(e,t=>(aC(this.node,t,"Start"),r=>aC(this.node,r,"End"))))}unmount(){}}class qq extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xf(Bh(this.node.current,"focus",()=>this.onFocus()),Bh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oC(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),i=r[s];i&&Et.postRender(()=>i(e,wf(e)))}class Gq extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=YW(e,t=>(oC(this.node,t,"Start"),(r,{success:s})=>oC(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pw=new WeakMap,tx=new WeakMap,Yq=n=>{const e=Pw.get(n.target);e&&e(n)},Kq=n=>{n.forEach(Yq)};function Xq({root:n,...e}){const t=n||document;tx.has(t)||tx.set(t,{});const r=tx.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Kq,{root:n,...e})),r[s]}function Qq(n,e,t){const r=Xq(e);return Pw.set(n,t),r.observe(n),()=>{Pw.delete(n),r.unobserve(n)}}const Jq={some:0,all:1};class Zq extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Jq[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),v=d?f:p;v&&v(c)};return Qq(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(eG(e,t))&&this.startObserver()}unmount(){}}function eG({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const tG={inView:{Feature:Zq},tap:{Feature:Gq},focus:{Feature:qq},hover:{Feature:Hq}},nG={layout:{ProjectionNode:Cj,MeasureLayout:wj}},Cw={current:null},Nj={current:!1};function rG(){if(Nj.current=!0,!!f_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cw.current=n.matches;n.addListener(e),e()}else Cw.current=!1}const sG=[...ej,zn,lo],iG=n=>sG.find(ZR(n)),lC=new WeakMap;function aG(n,e,t){for(const r in e){const s=e[r],i=t[r];if(Wn(s))n.addValue(r,s);else if(Wn(i))n.addValue(r,Vh(s,{owner:n}));else if(i!==s)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Vh(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const cC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oG{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ci.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Et.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:f}=a;this.onUpdate=f,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Sy(t),this.isVariantNode=lR(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in v){const x=v[b];c[b]!==void 0&&Wn(x)&&x.set(c[b],!1)}}mount(e){this.current=e,lC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Nj.current||rG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lC.delete(this.current),this.projection&&this.projection.unmount(),oo(this.notifyUpdate),oo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zl.has(e),s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yu){const t=yu[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<cC.length;r++){const s=cC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=aG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Vh(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(QR(s)||UR(s))?s=parseFloat(s):!iG(s)&&lo.test(t)&&(s=YR(e,t)),this.setBaseTarget(e,Wn(s)?s.get():s)),Wn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=w_(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Wn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new j_),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class kj extends oG{constructor(){super(...arguments),this.KeyframeResolver=tj}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function lG(n){return window.getComputedStyle(n)}class cG extends kj{constructor(){super(...arguments),this.type="html",this.renderInstance=yR}readValueFromInstance(e,t){if(zl.has(t)){const r=F_(t);return r&&r.default||0}else{const r=lG(e),s=(mR(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return vj(e,t)}build(e,t,r){T_(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return P_(e,t,r)}}class uG extends kj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(zl.has(t)){const r=F_(t);return r&&r.default||0}return t=vR.has(t)?t:y_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return bR(e,t,r)}build(e,t,r){E_(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){xR(e,t,r,s)}mount(e){this.isSVGTag=I_(e.tagName),super.mount(e)}}const dG=(n,e)=>x_(n)?new uG(e):new cG(e,{allowProjection:n!==F.Fragment}),hG=LW({...MH,...tG,...Wq,...nG},dG),Sd=J8(hG),fG=()=>{var w;const{currentUser:n,userProfile:e}=xn(),[t,r]=F.useState(!0),[s,i]=F.useState(null),[a,l]=F.useState(null),[c,d]=F.useState(null),f=[{title:"Stay Hydrated",image:"https://images.unsplash.com/photo-1548839140-29a749e1cf4d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",description:"Drink at least 8 glasses of water daily for optimal health."},{title:"Regular Exercise",image:"https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",description:"30 minutes of daily exercise can improve your overall well-being."},{title:"Balanced Diet",image:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",description:"Include a variety of fruits, vegetables, and whole grains in your diet."}],p=[{title:"Track Period",icon:Nn,color:"bg-purple-100 text-purple-600",link:"/cycle-tracker"},{title:"Book Appointment",icon:eo,color:"bg-green-100 text-green-600",link:"/appointments"},{title:"Check BMI",icon:tr,color:"bg-blue-100 text-blue-600",link:"/bmi-calculator"},{title:"Shop Products",icon:pu,color:"bg-red-100 text-red-600",link:"/shop"}],v=[{question:"How often should I track my cycle?",answer:"It's recommended to track your cycle daily for the most accurate predictions and insights. Regular tracking helps identify patterns and potential irregularities."},{question:"What's a normal cycle length?",answer:"A typical menstrual cycle can range from 21 to 35 days, with 28 days being average. However, what's 'normal' varies from person to person."},{question:"When should I see a doctor?",answer:"Consult a healthcare provider if you experience irregular periods, severe pain, heavy bleeding, or if your cycle length varies significantly."}],b=[{name:"Women Helpline (All India)",number:"1091",description:"24/7 helpline for women in distress"},{name:"National Commission for Women",number:"7827170170",description:"Complaints related to women's rights violations"},{name:"Police Emergency",number:"100",description:"For immediate police assistance"},{name:"Child Helpline",number:"1098",description:"For children in need of care and protection"},{name:"Medical Emergency",number:"108",description:"Ambulance and emergency medical services"},{name:"RPF / GRP Helpline in Train",number:"182",description:"Ambulance and emergency medical services"}];F.useEffect(()=>{n&&x()},[n]);const x=async()=>{try{r(!0);const T=br(yn(at,"cycles"),Cn("userId","==",(n==null?void 0:n.uid)??""),oi("startDate","desc"),sh(1)),P=await _r(T);P.empty||i(P.docs[0].data());const C=br(yn(at,"bmiRecords"),Cn("userId","==",(n==null?void 0:n.uid)??""),oi("date","desc"),sh(1)),D=await _r(C);D.empty||l(D.docs[0].data());const B=new Date().toISOString().split("T")[0],L=br(yn(at,"appointments"),Cn("userId","==",(n==null?void 0:n.uid)??""),Cn("date",">=",B),Cn("status","==","scheduled"),oi("date"),sh(1)),U=await _r(L);U.empty||d(U.docs[0].data())}catch(T){console.error("Error fetching dashboard data:",T)}finally{r(!1)}};return t?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-500 rounded-xl overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),h.jsxs("div",{className:"relative z-10 px-8 py-12 text-white",children:[h.jsxs(Sd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Welcome back, ",(e==null?void 0:e.name)||((w=n==null?void 0:n.email)==null?void 0:w.split("@")[0])]}),h.jsx("p",{className:"text-purple-100",children:"Your personal health companion"})]}),h.jsx("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4",children:p.map((T,P)=>h.jsxs(it,{to:T.link,className:`${T.color} p-4 rounded-lg transition-transform hover:scale-105`,children:[h.jsx(T.icon,{className:"h-6 w-6 mb-2"}),h.jsx("span",{className:"font-medium",children:T.title})]},P))})]})]}),h.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-xl shadow-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 bg-gradient-to-r from-red-50 to-pink-50",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(CD,{className:"h-6 w-6 text-red-600 mr-2"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Women's Helpline Numbers (India)"})]})}),h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((T,P)=>h.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:h.jsxs("div",{className:"flex items-start",children:[h.jsx("div",{className:"bg-red-100 p-2 rounded-full mr-3",children:h.jsx(v$,{className:"h-4 w-4 text-red-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:T.name}),h.jsx("a",{href:`tel:${T.number}`,className:"text-xl font-bold text-red-600 hover:text-red-800 block my-1",children:T.number}),h.jsx("p",{className:"text-sm text-gray-600",children:T.description})]})]})},P))}),h.jsx("div",{className:"mt-4 text-sm text-gray-500",children:h.jsx("p",{children:"These helplines are available 24/7 for emergencies and support."})})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Health Tips"})}),h.jsx(jh,{modules:[HD,WD,xg],spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3},pagination:{clickable:!0},navigation:!0,className:"health-tips-swiper",children:f.map((T,P)=>h.jsx(Mh,{children:h.jsxs("div",{className:"relative h-64",children:[h.jsx("img",{src:T.image,alt:T.title,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:h.jsxs("div",{className:"text-white",children:[h.jsx("h3",{className:"text-xl font-semibold mb-2",children:T.title}),h.jsx("p",{className:"text-sm",children:T.description})]})})]})},P))})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs(Sd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Nn,{className:"h-6 w-6 text-purple-600 mr-2"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Cycle Tracking"})]}),h.jsx(it,{to:"/cycle-tracker",className:"text-purple-600 hover:text-purple-800",children:h.jsx(Fr,{className:"h-5 w-5"})})]})}),h.jsx("div",{className:"p-6",children:s?h.jsxs("div",{children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-sm text-gray-600",children:"Current cycle started"}),h.jsx("div",{className:"text-lg font-semibold text-purple-600",children:new Date(s.startDate).toLocaleDateString()})]}),s.predictedNextStart&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-gray-600",children:"Next period predicted"}),h.jsx("div",{className:"text-lg font-semibold text-purple-600",children:new Date(s.predictedNextStart).toLocaleDateString()})]})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Nn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Start tracking your cycle today"})]})})]}),h.jsxs(Sd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-green-50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(tr,{className:"h-6 w-6 text-blue-600 mr-2"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"BMI Status"})]}),h.jsx(it,{to:"/bmi-calculator",className:"text-blue-600 hover:text-blue-800",children:h.jsx(Fr,{className:"h-5 w-5"})})]})}),h.jsx("div",{className:"p-6",children:a?h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("span",{className:"text-2xl font-bold text-blue-600",children:a.bmi.toFixed(1)}),h.jsx("span",{className:"text-sm font-medium px-3 py-1 rounded-full bg-blue-100 text-blue-800",children:a.category})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Height"}),h.jsxs("span",{className:"font-medium",children:[a.height," cm"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Weight"}),h.jsxs("span",{className:"font-medium",children:[a.weight," kg"]})]})]})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(tr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Calculate your BMI"})]})})]}),h.jsxs(Sd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 bg-gradient-to-r from-green-50 to-teal-50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(eo,{className:"h-6 w-6 text-green-600 mr-2"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Appointments"})]}),h.jsx(it,{to:"/appointments",className:"text-green-600 hover:text-green-800",children:h.jsx(Fr,{className:"h-5 w-5"})})]})}),h.jsx("div",{className:"p-6",children:c?h.jsxs("div",{children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-sm text-gray-600",children:"Next appointment"}),h.jsx("div",{className:"font-semibold text-gray-800",children:c.doctorName}),h.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(c.date).toLocaleDateString()," at"," ",c.time]})]}),h.jsxs(it,{to:"/appointments",className:"inline-flex items-center text-green-600 hover:text-green-800",children:["View details",h.jsx(Fr,{className:"h-4 w-4 ml-1"})]})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(eo,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"No upcoming appointments"})]})})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Frequently Asked Questions"})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"space-y-4",children:v.map((T,P)=>h.jsx(z0,{children:({open:C})=>h.jsxs(h.Fragment,{children:[h.jsxs(z0.Button,{className:"flex justify-between w-full px-4 py-3 text-left text-gray-800 bg-gray-50 rounded-lg hover:bg-gray-100 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-50",children:[h.jsx("span",{className:"font-medium",children:T.question}),h.jsx(u$,{className:`${C?"transform rotate-180":""} w-5 h-5 text-purple-500`})]}),h.jsx(z8,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:h.jsx(z0.Panel,{className:"px-4 pt-4 pb-2 text-gray-600",children:T.answer})})]})},P))})})]}),h.jsx(Sd.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"fixed bottom-24 right-4 p-4 bg-white rounded-xl shadow-lg",children:h.jsxs("div",{className:"flex items-center text-gray-800",children:[h.jsx(l$,{className:"h-5 w-5 text-purple-600 mr-2"}),h.jsx("span",{className:"font-medium",children:"Stay updated with your health journey"})]})})]})},mG=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),[s,i]=F.useState(""),[a,l]=F.useState(!1);let[c,d]=F.useState("");const{login:f}=xn(),p=jl(),v=async x=>{x.preventDefault();try{i(""),l(!0),await f(n,t),p("/")}catch(w){i("Failed to log in. Please check your credentials."),console.error(w)}finally{l(!1)}};let b=x=>{x.target.value,e(x.target.value),d("")};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-pink-100 to-purple-100 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-lg p-10 rounded-xl shadow-2xl auth-container",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(fi,{className:"h-16 w-16 text-pink-500 animate-pulse"})}),h.jsx("h2",{className:"mt-6 text-center text-4xl font-extrabold text-white",children:"IRA"}),h.jsx("p",{className:"mt-2 text-center text-lg text-pink-100",children:"Integrated Reproductive Assistant"}),h.jsx("h3",{className:"mt-6 text-center text-2xl font-bold text-white",children:"Welcome Back!"}),h.jsx("p",{style:{color:"red"},children:c}),"    "]}),s&&h.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",role:"alert",children:[h.jsx("p",{className:"font-medium",children:"Error"}),h.jsx("p",{children:s})]}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[h.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[h.jsxs("div",{className:"relative",children:[h.jsx(t_,{className:"absolute top-3 left-3 h-5 w-5 text-pink-500"}),h.jsx("input",{id:"email-address",name:"email",type:"text",autoComplete:"email",required:!0,className:"auth-input appearance-none rounded-t-lg relative block w-full px-10 py-3 border border-pink-300 placeholder-pink-400 text-gray-900 focus:outline-none focus:ring-pink-500 focus:border-pink-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:n,onChange:b})]}),h.jsxs("div",{className:"relative",children:[h.jsx(iw,{className:"absolute top-3 left-3 h-5 w-5 text-pink-500"}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"auth-input appearance-none rounded-b-lg relative block w-full px-10 py-3 border border-pink-300 placeholder-pink-400 text-gray-900 focus:outline-none focus:ring-pink-500 focus:border-pink-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:x=>r(x.target.value)})]})]}),h.jsx("div",{className:"flex items-center justify-between",children:h.jsx("div",{className:"text-sm",children:h.jsx(it,{to:"/forgot-password",className:"font-medium text-pink-100 hover:text-white transition-colors",children:"Forgot your password?"})})}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:a,className:"auth-button group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50",children:a?h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Signing in..."]}):h.jsxs("div",{className:"flex items-center",children:["Sign in",h.jsx(Fr,{className:"ml-2 h-4 w-4"})]})})}),h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-sm text-pink-100",children:["Don't have an account?"," ",h.jsx(it,{to:"/register",className:"font-medium text-white hover:text-pink-200 transition-colors",children:"Sign up"})]})})]}),h.jsx("div",{className:"mt-6 border-t border-pink-200/30 pt-6",children:h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80",alt:"Women's Health",className:"w-24 h-24 rounded-full object-cover shadow-lg"}),h.jsx("p",{className:"text-sm text-pink-100 text-center",children:"Your personal health companion for a better tomorrow"})]})})]})})},pG=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),[s,i]=F.useState(""),[a,l]=F.useState(""),[c,d]=F.useState(""),[f,p]=F.useState(!1),{register:v}=xn(),b=jl(),x=async w=>{if(w.preventDefault(),s!==a)return d("Passwords do not match");if(s.length<6)return d("Password must be at least 6 characters");try{d(""),p(!0),await v(t,s,n),b("/")}catch(T){T.code==="auth/email-already-in-use"?d("Email is already in use"):d("Failed to create an account"),console.error(T)}finally{p(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-pink-100 to-purple-100 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-lg p-10 rounded-xl shadow-2xl auth-container",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(fi,{className:"h-16 w-16 text-pink-500 animate-pulse"})}),h.jsx("h2",{className:"mt-6 text-center text-4xl font-extrabold text-white",children:"IRA"}),h.jsx("p",{className:"mt-2 text-center text-lg text-pink-100",children:"Integrated Reproductive Assistant"}),h.jsx("h3",{className:"mt-6 text-center text-2xl font-bold text-white",children:"Create Account"})]}),c&&h.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",role:"alert",children:[h.jsx("p",{className:"font-medium",children:"Error"}),h.jsx("p",{children:c})]}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[h.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[h.jsxs("div",{className:"relative",children:[h.jsx(fg,{className:"absolute top-3 left-3 h-5 w-5 text-pink-500"}),h.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"auth-input appearance-none rounded-t-lg relative block w-full px-10 py-3 border border-pink-300 placeholder-pink-400 text-gray-900 focus:outline-none focus:ring-pink-500 focus:border-pink-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:n,onChange:w=>e(w.target.value)})]}),h.jsxs("div",{className:"relative",children:[h.jsx(t_,{className:"absolute top-3 left-3 h-5 w-5 text-pink-500"}),h.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"auth-input appearance-none relative block w-full px-10 py-3 border border-pink-300 placeholder-pink-400 text-gray-900 focus:outline-none focus:ring-pink-500 focus:border-pink-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:w=>r(w.target.value)})]}),h.jsxs("div",{className:"relative",children:[h.jsx(iw,{className:"absolute top-3 left-3 h-5 w-5 text-pink-500"}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"auth-input appearance-none relative block w-full px-10 py-3 border border-pink-300 placeholder-pink-400 text-gray-900 focus:outline-none focus:ring-pink-500 focus:border-pink-500 focus:z-10 sm:text-sm",placeholder:"Password",value:s,onChange:w=>i(w.target.value)})]}),h.jsxs("div",{className:"relative",children:[h.jsx(iw,{className:"absolute top-3 left-3 h-5 w-5 text-pink-500"}),h.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"auth-input appearance-none rounded-b-lg relative block w-full px-10 py-3 border border-pink-300 placeholder-pink-400 text-gray-900 focus:outline-none focus:ring-pink-500 focus:border-pink-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:a,onChange:w=>l(w.target.value)})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:f,className:"auth-button group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50",children:f?h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Creating account..."]}):h.jsxs("div",{className:"flex items-center",children:["Create Account",h.jsx(Fr,{className:"ml-2 h-4 w-4"})]})})}),h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-sm text-pink-100",children:["Already have an account?"," ",h.jsx(it,{to:"/login",className:"font-medium text-white hover:text-pink-200 transition-colors",children:"Sign in"})]})})]}),h.jsx("div",{className:"mt-6 border-t border-pink-200/30 pt-6",children:h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsx("div",{className:"gap-4",children:h.jsx("img",{src:"https://shorturl.at/YWaIf",alt:"Wellness",className:"w-full h-24 rounded-lg object-cover shadow-lg"})}),h.jsx("p",{className:"text-sm text-pink-100 text-center",children:"Join our community of women taking control of their health journey"})]})})]})})},gG=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),[s,i]=F.useState(""),[a,l]=F.useState(!1),{resetPassword:c}=xn(),d=async f=>{f.preventDefault();try{i(""),r(""),l(!0),await c(n),i("Check your email for further instructions")}catch(p){r("Failed to reset password"),console.error(p)}finally{l(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-purple-100 to-pink-100 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(fi,{className:"h-12 w-12 text-purple-600"})}),h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"IRA"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Integrated Reproductive Assistant"}),h.jsx("h3",{className:"mt-6 text-center text-xl font-bold text-gray-900",children:"Reset your password"})]}),t&&h.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:t})}),s&&h.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:s})}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Email address"}),h.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Enter your email",value:n,onChange:f=>e(f.target.value)})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:a?"Sending...":"Reset Password"})}),h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",h.jsx(it,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"Sign in"})]})})]})]})})},yG=()=>{const{currentUser:n,userProfile:e,updateUserProfile:t}=xn(),[r,s]=F.useState(!1),[i,a]=F.useState(""),[l,c]=F.useState(""),[d,f]=F.useState({name:"",email:"",dateOfBirth:"",height:"",weight:"",medicalConditions:"",allergies:"",medications:""});F.useEffect(()=>{e?f({name:e.name||"",email:e.email||"",dateOfBirth:e.dateOfBirth||"",height:e.height?e.height.toString():"",weight:e.weight?e.weight.toString():"",medicalConditions:e.medicalConditions?e.medicalConditions.join(", "):"",allergies:e.allergies?e.allergies.join(", "):"",medications:e.medications?e.medications.join(", "):""}):n&&f({...d,email:n.email||"",name:n.displayName||""})},[e,n]);const p=b=>{const{name:x,value:w}=b.target;f({...d,[x]:w})},v=async b=>{b.preventDefault();try{s(!0),c(""),a("");const x={name:d.name,dateOfBirth:d.dateOfBirth,height:d.height?parseFloat(d.height):void 0,weight:d.weight?parseFloat(d.weight):void 0,medicalConditions:d.medicalConditions?d.medicalConditions.split(",").map(w=>w.trim()):[],allergies:d.allergies?d.allergies.split(",").map(w=>w.trim()):[],medications:d.medications?d.medications.split(",").map(w=>w.trim()):[]};await t(x),a("Profile updated successfully!"),setTimeout(()=>{a("")},3e3)}catch(x){console.error("Error updating profile:",x),c("Failed to update profile. Please try again.")}finally{s(!1)}};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-500 rounded-2xl p-8 mb-8 text-white shadow-xl",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[h.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[h.jsxs("div",{className:"relative",children:[e!=null&&e.photoURL?h.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-white shadow-lg"}):h.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center border-4 border-white shadow-lg",children:h.jsx(fg,{className:"h-12 w-12 text-white"})}),h.jsx("button",{className:"absolute bottom-0 right-0 bg-white p-2 rounded-full shadow-lg hover:bg-gray-100 transition-colors",children:h.jsx(c$,{className:"h-4 w-4 text-purple-600"})})]}),h.jsxs("div",{className:"ml-6",children:[h.jsx("h1",{className:"text-3xl font-bold",children:d.name||"Welcome!"}),h.jsxs("div",{className:"flex items-center mt-2",children:[h.jsx(t_,{className:"h-4 w-4 mr-2"}),h.jsx("p",{children:d.email})]}),h.jsxs("div",{className:"flex items-center mt-2",children:[h.jsx(eo,{className:"h-4 w-4 mr-2"}),h.jsxs("p",{children:["Member since ",n!=null&&n.metadata.creationTime?new Date(n.metadata.creationTime).getFullYear():"N/A"]})]})]})]}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsxs("div",{className:"text-center px-6 py-3 bg-white/20 rounded-lg backdrop-blur-sm",children:[h.jsx("p",{className:"text-2xl font-bold",children:"28"}),h.jsx("p",{className:"text-sm",children:"Days Tracked"})]}),h.jsxs("div",{className:"text-center px-6 py-3 bg-white/20 rounded-lg backdrop-blur-sm",children:[h.jsx("p",{className:"text-2xl font-bold",children:"85%"}),h.jsx("p",{className:"text-sm",children:"Profile Complete"})]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[l&&h.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Au,{className:"h-5 w-5 text-red-500 mr-2"}),h.jsx("p",{className:"text-red-700",children:l})]})}),i&&h.jsx("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 p-4 rounded-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Dh,{className:"h-5 w-5 text-green-500 mr-2"}),h.jsx("p",{className:"text-green-700",children:i})]})}),h.jsx("form",{onSubmit:v,children:h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[h.jsx(fg,{className:"h-5 w-5 text-purple-600 mr-2"}),"Personal Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),h.jsx("input",{type:"text",name:"name",value:d.name,onChange:p,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your full name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),h.jsx("input",{type:"email",value:d.email,disabled:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 bg-gray-50 text-gray-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),h.jsx("input",{type:"date",name:"dateOfBirth",value:d.dateOfBirth,onChange:p,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height (cm)"}),h.jsx("input",{type:"number",name:"height",value:d.height,onChange:p,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Height"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (kg)"}),h.jsx("input",{type:"number",name:"weight",value:d.weight,onChange:p,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Weight"})]})]})]})]}),h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[h.jsx(fi,{className:"h-5 w-5 text-purple-600 mr-2"}),"Health Information"]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medical Conditions"}),h.jsx("textarea",{name:"medicalConditions",value:d.medicalConditions,onChange:p,rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter medical conditions (comma separated)"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),h.jsx("textarea",{name:"allergies",value:d.allergies,onChange:p,rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter allergies (comma separated)"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Medications"}),h.jsx("textarea",{name:"medications",value:d.medications,onChange:p,rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter current medications (comma separated)"})]})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"submit",disabled:r,className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white px-8 py-3 rounded-lg font-medium hover:from-purple-700 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all disabled:opacity-50 flex items-center",children:r?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Saving Changes..."]}):h.jsxs(h.Fragment,{children:[h.jsx(PD,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})})]})})]})}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[h.jsx(tr,{className:"h-5 w-5 text-purple-600 mr-2"}),"Health Stats"]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[h.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"BMI"}),h.jsx("p",{className:"text-2xl font-bold text-purple-700",children:d.height&&d.weight?(Number(d.weight)/Math.pow(Number(d.height)/100,2)).toFixed(1):"-"})]}),h.jsxs("div",{className:"bg-pink-50 rounded-xl p-4",children:[h.jsx("p",{className:"text-sm text-pink-600 mb-1",children:"Cycle Length"}),h.jsx("p",{className:"text-2xl font-bold text-pink-700",children:"28 days"})]}),h.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4",children:[h.jsx("p",{className:"text-sm text-indigo-600 mb-1",children:"Last Check-up"}),h.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:"2 months"})]}),h.jsxs("div",{className:"bg-rose-50 rounded-xl p-4",children:[h.jsx("p",{className:"text-sm text-rose-600 mb-1",children:"Risk Level"}),h.jsx("p",{className:"text-2xl font-bold text-rose-700",children:"Low"})]})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[h.jsx(x$,{className:"h-5 w-5 text-purple-600 mr-2"}),"Account Settings"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(CD,{className:"h-5 w-5 text-purple-600 mr-3"}),h.jsx("span",{className:"font-medium text-gray-700",children:"Privacy Settings"})]}),h.jsx(kp,{className:"h-5 w-5 text-gray-400"})]}),h.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(m$,{className:"h-5 w-5 text-purple-600 mr-3"}),h.jsx("span",{className:"font-medium text-gray-700",children:"Change Password"})]}),h.jsx(kp,{className:"h-5 w-5 text-gray-400"})]}),h.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(h$,{className:"h-5 w-5 text-purple-600 mr-3"}),h.jsx("span",{className:"font-medium text-gray-700",children:"Export Data"})]}),h.jsx(kp,{className:"h-5 w-5 text-gray-400"})]})]}),h.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"These features will be available soon"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-lg p-6 text-white",children:[h.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Quick Links"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("a",{href:"/appointments",className:"block px-4 py-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Nn,{className:"h-5 w-5 mr-3"}),h.jsx("span",{children:"Book Appointment"})]})}),h.jsx("a",{href:"/cycle-tracker",className:"block px-4 py-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(tr,{className:"h-5 w-5 mr-3"}),h.jsx("span",{children:"Track Cycle"})]})}),h.jsx("a",{href:"/health-insights",className:"block px-4 py-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(fi,{className:"h-5 w-5 mr-3"}),h.jsx("span",{children:"View Health Insights"})]})})]})]})]})]})]})})};var nx={exports:{}},rx,uC;function vG(){if(uC)return rx;uC=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rx=n,rx}var sx,dC;function xG(){if(dC)return sx;dC=1;var n=vG();function e(){}function t(){}return t.resetWarningCache=e,sx=function(){function r(a,l,c,d,f,p){if(p!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},sx}var hC;function wG(){return hC||(hC=1,nx.exports=xG()()),nx.exports}var bG=wG();const oe=Ug(bG);function Aj(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=Aj(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Cy(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=Aj(n))&&(r&&(r+=" "),r+=e);return r}var ix,fC;function _G(){if(fC)return ix;fC=1;const n=(c,d,f,p)=>{if(f==="length"||f==="prototype"||f==="arguments"||f==="caller")return;const v=Object.getOwnPropertyDescriptor(c,f),b=Object.getOwnPropertyDescriptor(d,f);!e(v,b)&&p||Object.defineProperty(c,f,b)},e=function(c,d){return c===void 0||c.configurable||c.writable===d.writable&&c.enumerable===d.enumerable&&c.configurable===d.configurable&&(c.writable||c.value===d.value)},t=(c,d)=>{const f=Object.getPrototypeOf(d);f!==Object.getPrototypeOf(c)&&Object.setPrototypeOf(c,f)},r=(c,d)=>`/* Wrapped ${c}*/
${d}`,s=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),i=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),a=(c,d,f)=>{const p=f===""?"":`with ${f.trim()}() `,v=r.bind(null,p,d.toString());Object.defineProperty(v,"name",i),Object.defineProperty(c,"toString",{...s,value:v})};return ix=(c,d,{ignoreNonConfigurable:f=!1}={})=>{const{name:p}=c;for(const v of Reflect.ownKeys(d))n(c,d,v,f);return t(c,d),a(c,d,p),c},ix}var Hd={exports:{}},ax,mC;function TG(){return mC||(mC=1,ax=()=>{const n={};return n.promise=new Promise((e,t)=>{n.resolve=e,n.reject=t}),n}),ax}var Jm=Hd.exports,pC;function EG(){return pC||(pC=1,function(n,e){var t=Jm&&Jm.__awaiter||function(a,l,c,d){return new(c||(c=Promise))(function(f,p){function v(w){try{x(d.next(w))}catch(T){p(T)}}function b(w){try{x(d.throw(w))}catch(T){p(T)}}function x(w){w.done?f(w.value):new c(function(T){T(w.value)}).then(v,b)}x((d=d.apply(a,l||[])).next())})},r=Jm&&Jm.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(TG());function i(a,l="maxAge"){let c,d,f;const p=()=>t(this,void 0,void 0,function*(){if(c!==void 0)return;const x=w=>t(this,void 0,void 0,function*(){f=s.default();const T=w[1][l]-Date.now();if(T<=0){a.delete(w[0]),f.resolve();return}return c=w[0],d=setTimeout(()=>{a.delete(w[0]),f&&f.resolve()},T),typeof d.unref=="function"&&d.unref(),f.promise});try{for(const w of a)yield x(w)}catch{}c=void 0}),v=()=>{c=void 0,d!==void 0&&(clearTimeout(d),d=void 0),f!==void 0&&(f.reject(void 0),f=void 0)},b=a.set.bind(a);return a.set=(x,w)=>{a.has(x)&&a.delete(x);const T=b(x,w);return c&&c===x&&v(),p(),T},p(),a}e.default=i,n.exports=i,n.exports.default=i}(Hd,Hd.exports)),Hd.exports}var ox,gC;function SG(){if(gC)return ox;gC=1;const n=_G(),e=EG(),t=new WeakMap,r=new WeakMap,s=(i,{cacheKey:a,cache:l=new Map,maxAge:c}={})=>{typeof c=="number"&&e(l);const d=function(...f){const p=a?a(f):f[0],v=l.get(p);if(v)return v.data;const b=i.apply(this,f);return l.set(p,{data:b,maxAge:c?Date.now()+c:Number.POSITIVE_INFINITY}),b};return n(d,i,{ignoreNonConfigurable:!0}),r.set(d,l),d};return s.decorator=(i={})=>(a,l,c)=>{const d=a[l];if(typeof d!="function")throw new TypeError("The decorated value must be a function");delete c.value,delete c.writable,c.get=function(){if(!t.has(this)){const f=s(d,i);return t.set(this,f),f}return t.get(this)}},s.clear=i=>{const a=r.get(i);if(!a)throw new TypeError("Can't clear a function that was not memoized!");if(typeof a.clear!="function")throw new TypeError("The cache Map can't be cleared!");a.clear()},ox=s,ox}var IG=SG();const Dj=Ug(IG);function PG(n){return typeof n=="string"}function CG(n,e,t){return t.indexOf(n)===e}function NG(n){return n.toLowerCase()===n}function yC(n){return n.indexOf(",")===-1?n:n.split(",")}function Nw(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return Nw(t)}if(n.indexOf("@")!==-1){var r=n.split("@")[0],t=r===void 0?"":r;return Nw(t)}if(n.indexOf("-")===-1||!NG(n))return n;var s=n.split("-"),i=s[0],a=s[1],l=a===void 0?"":a;return"".concat(i,"-").concat(l.toUpperCase())}function kG(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,r=t===void 0?!0:t,s=e.fallbackLocale,i=s===void 0?"en-US":s,a=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],c=[],d=0,f=l;d<f.length;d++){var p=f[d];c=c.concat(yC(p))}var v=navigator.language,b=v&&yC(v);a=a.concat(c,b)}return r&&a.push(i),a.filter(PG).map(Nw).filter(CG)}var AG=Dj(kG,{cacheKey:JSON.stringify});function DG(n){return AG(n)[0]||null}var Rj=Dj(DG,{cacheKey:JSON.stringify});function na(n,e,t){return function(s,i){i===void 0&&(i=t);var a=n(s)+i;return e(a)}}function bf(n){return function(t){return new Date(n(t).getTime()-1)}}function _f(n,e){return function(r){return[n(r),e(r)]}}function Dt(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;var e=parseInt(n,10);if(typeof n=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(n,"."))}function wo(n){if(n instanceof Date)return n.getMonth();throw new Error("Failed to get month from date: ".concat(n,"."))}function Ny(n){if(n instanceof Date)return n.getDate();throw new Error("Failed to get year from date: ".concat(n,"."))}function Mu(n){var e=Dt(n),t=e+(-e+1)%100,r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var RG=na(Dt,Mu,-100),jj=na(Dt,Mu,100),W_=bf(jj),jG=na(Dt,W_,-100),Mj=_f(Mu,W_);function bo(n){var e=Dt(n),t=e+(-e+1)%10,r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var Oj=na(Dt,bo,-10),H_=na(Dt,bo,10),ky=bf(H_),Lj=na(Dt,ky,-10),Vj=_f(bo,ky);function Ou(n){var e=Dt(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}var Fj=na(Dt,Ou,-1),q_=na(Dt,Ou,1),Ay=bf(q_),Bj=na(Dt,Ay,-1),MG=_f(Ou,Ay);function G_(n,e){return function(r,s){s===void 0&&(s=e);var i=Dt(r),a=wo(r)+s,l=new Date;return l.setFullYear(i,a,1),l.setHours(0,0,0,0),n(l)}}function Ul(n){var e=Dt(n),t=wo(n),r=new Date;return r.setFullYear(e,t,1),r.setHours(0,0,0,0),r}var zj=G_(Ul,-1),Y_=G_(Ul,1),Tf=bf(Y_),Uj=G_(Tf,-1),OG=_f(Ul,Tf);function LG(n,e){return function(r,s){s===void 0&&(s=e);var i=Dt(r),a=wo(r),l=Ny(r)+s,c=new Date;return c.setFullYear(i,a,l),c.setHours(0,0,0,0),n(c)}}function Ef(n){var e=Dt(n),t=wo(n),r=Ny(n),s=new Date;return s.setFullYear(e,t,r),s.setHours(0,0,0,0),s}var VG=LG(Ef,1),K_=bf(VG),FG=_f(Ef,K_);function $j(n){return Ny(Tf(n))}var Id,Tt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Gc={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},BG=(Id={},Id[Tt.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Id[Tt.HEBREW]=["he","he-IL"],Id[Tt.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Id),X_=[0,1,2,3,4,5,6],lx=new Map;function zG(n){return function(t,r){var s=t||Rj();lx.has(s)||lx.set(s,new Map);var i=lx.get(s);return i.has(n)||i.set(n,new Intl.DateTimeFormat(s||void 0,n).format),i.get(n)(r)}}function UG(n){var e=new Date(n);return new Date(e.setHours(12))}function $l(n){return function(e,t){return zG(n)(e,UG(t))}}var $G={day:"numeric"},WG={day:"numeric",month:"long",year:"numeric"},HG={month:"long"},qG={month:"long",year:"numeric"},GG={weekday:"short"},YG={weekday:"long"},KG={year:"numeric"},XG=$l($G),QG=$l(WG),JG=$l(HG),Wj=$l(qG),ZG=$l(GG),eY=$l(YG),Dy=$l(KG),tY=X_[0],nY=X_[5],vC=X_[6];function zh(n,e){e===void 0&&(e=Tt.ISO_8601);var t=n.getDay();switch(e){case Tt.ISO_8601:return(t+6)%7;case Tt.ISLAMIC:return(t+1)%7;case Tt.HEBREW:case Tt.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function rY(n){var e=Mu(n);return Dt(e)}function sY(n){var e=bo(n);return Dt(e)}function kw(n,e){e===void 0&&(e=Tt.ISO_8601);var t=Dt(n),r=wo(n),s=n.getDate()-zh(n,e);return new Date(t,r,s)}function iY(n,e){e===void 0&&(e=Tt.ISO_8601);var t=e===Tt.GREGORY?Tt.GREGORY:Tt.ISO_8601,r=kw(n,e),s=Dt(n)+1,i,a;do i=new Date(s,0,t===Tt.ISO_8601?4:1),a=kw(i,e),s-=1;while(n<a);return Math.round((r.getTime()-a.getTime())/(864e5*7))+1}function yl(n,e){switch(n){case"century":return Mu(e);case"decade":return bo(e);case"year":return Ou(e);case"month":return Ul(e);case"day":return Ef(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function aY(n,e){switch(n){case"century":return RG(e);case"decade":return Oj(e);case"year":return Fj(e);case"month":return zj(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function Hj(n,e){switch(n){case"century":return jj(e);case"decade":return H_(e);case"year":return q_(e);case"month":return Y_(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function oY(n,e){switch(n){case"decade":return Oj(e,-100);case"year":return Fj(e,-10);case"month":return zj(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function lY(n,e){switch(n){case"decade":return H_(e,100);case"year":return q_(e,10);case"month":return Y_(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function qj(n,e){switch(n){case"century":return W_(e);case"decade":return ky(e);case"year":return Ay(e);case"month":return Tf(e);case"day":return K_(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function cY(n,e){switch(n){case"century":return jG(e);case"decade":return Lj(e);case"year":return Bj(e);case"month":return Uj(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function uY(n,e){switch(n){case"decade":return Lj(e,-100);case"year":return Bj(e,-10);case"month":return Uj(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function xC(n,e){switch(n){case"century":return Mj(e);case"decade":return Vj(e);case"year":return MG(e);case"month":return OG(e);case"day":return FG(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function dY(n,e,t){var r=[e,t].sort(function(s,i){return s.getTime()-i.getTime()});return[yl(n,r[0]),qj(n,r[1])]}function Gj(n,e,t){return e===void 0&&(e=Dy),t.map(function(r){return e(n,r)}).join(" – ")}function hY(n,e,t){return Gj(n,e,Mj(t))}function Yj(n,e,t){return Gj(n,e,Vj(t))}function fY(n){return n.getDay()===new Date().getDay()}function Kj(n,e){e===void 0&&(e=Tt.ISO_8601);var t=n.getDay();switch(e){case Tt.ISLAMIC:case Tt.HEBREW:return t===nY||t===vC;case Tt.ISO_8601:case Tt.GREGORY:return t===vC||t===tY;default:throw new Error("Unsupported calendar type.")}}var Xs="react-calendar__navigation";function mY(n){var e=n.activeStartDate,t=n.drillUp,r=n.formatMonthYear,s=r===void 0?Wj:r,i=n.formatYear,a=i===void 0?Dy:i,l=n.locale,c=n.maxDate,d=n.minDate,f=n.navigationAriaLabel,p=f===void 0?"":f,v=n.navigationAriaLive,b=n.navigationLabel,x=n.next2AriaLabel,w=x===void 0?"":x,T=n.next2Label,P=T===void 0?"»":T,C=n.nextAriaLabel,D=C===void 0?"":C,B=n.nextLabel,L=B===void 0?"›":B,U=n.prev2AriaLabel,M=U===void 0?"":U,I=n.prev2Label,N=I===void 0?"«":I,j=n.prevAriaLabel,A=j===void 0?"":j,O=n.prevLabel,R=O===void 0?"‹":O,G=n.setActiveStartDate,J=n.showDoubleView,ie=n.view,ue=n.views,ee=ue.indexOf(ie)>0,ce=ie!=="century",se=aY(ie,e),H=ce?oY(ie,e):void 0,te=Hj(ie,e),be=ce?lY(ie,e):void 0,Ee=function(){if(se.getFullYear()<0)return!0;var Be=cY(ie,e);return d&&d>=Be}(),re=ce&&function(){if(H.getFullYear()<0)return!0;var Be=uY(ie,e);return d&&d>=Be}(),le=c&&c<te,he=ce&&c&&c<be;function Se(){G(se,"prev")}function De(){G(H,"prev2")}function tt(){G(te,"next")}function Vt(){G(be,"next2")}function Ut(Be){var St=function(){switch(ie){case"century":return hY(l,a,Be);case"decade":return Yj(l,a,Be);case"year":return a(l,Be);case"month":return s(l,Be);default:throw new Error("Invalid view: ".concat(ie,"."))}}();return b?b({date:Be,label:St,locale:l||Rj()||void 0,view:ie}):St}function $t(){var Be="".concat(Xs,"__label");return pe.createElement("button",{"aria-label":p,"aria-live":v,className:Be,disabled:!ee,onClick:t,style:{flexGrow:1},type:"button"},pe.createElement("span",{className:"".concat(Be,"__labelText ").concat(Be,"__labelText--from")},Ut(e)),J?pe.createElement(pe.Fragment,null,pe.createElement("span",{className:"".concat(Be,"__divider")}," – "),pe.createElement("span",{className:"".concat(Be,"__labelText ").concat(Be,"__labelText--to")},Ut(te))):null)}return pe.createElement("div",{className:Xs},N!==null&&ce?pe.createElement("button",{"aria-label":M,className:"".concat(Xs,"__arrow ").concat(Xs,"__prev2-button"),disabled:re,onClick:De,type:"button"},N):null,R!==null&&pe.createElement("button",{"aria-label":A,className:"".concat(Xs,"__arrow ").concat(Xs,"__prev-button"),disabled:Ee,onClick:Se,type:"button"},R),$t(),L!==null&&pe.createElement("button",{"aria-label":D,className:"".concat(Xs,"__arrow ").concat(Xs,"__next-button"),disabled:le,onClick:tt,type:"button"},L),P!==null&&ce?pe.createElement("button",{"aria-label":w,className:"".concat(Xs,"__arrow ").concat(Xs,"__next2-button"),disabled:he,onClick:Vt,type:"button"},P):null)}var Yc=function(){return Yc=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Yc.apply(this,arguments)},pY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function wC(n){return"".concat(n,"%")}function Q_(n){var e=n.children,t=n.className,r=n.count,s=n.direction,i=n.offset,a=n.style,l=n.wrap,c=pY(n,["children","className","count","direction","offset","style","wrap"]);return pe.createElement("div",Yc({className:t,style:Yc({display:"flex",flexDirection:s,flexWrap:l?"wrap":"nowrap"},a)},c),pe.Children.map(e,function(d,f){var p=i&&f===0?wC(100*i/r):null;return pe.cloneElement(d,Yc(Yc({},d.props),{style:{flexBasis:wC(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:p,marginInlineStart:p,marginInlineEnd:0}}))}))}var cx,bC;function gY(){if(bC)return cx;bC=1;var n=function(){};return cx=n,cx}var yY=gY();const vY=Ug(yY);var Ac;function xY(n,e,t){return e&&e>n?e:t&&t<n?t:n}function Uh(n,e){return e[0]<=n&&e[1]>=n}function wY(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function Xj(n,e){return Uh(n[0],e)||Uh(n[1],e)}function _C(n,e,t){var r=Xj(e,n),s=[];if(r){s.push(t);var i=Uh(n[0],e),a=Uh(n[1],e);i&&s.push("".concat(t,"Start")),a&&s.push("".concat(t,"End")),i&&a&&s.push("".concat(t,"BothEnds"))}return s}function bY(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function _Y(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,r=n.hover,s="react-calendar__tile",i=[s];if(!t)return i;var a=new Date,l=function(){if(Array.isArray(t))return t;var b=n.dateType;if(!b)throw new Error("dateType is required when date is not an array of two dates");return xC(b,t)}();if(Uh(a,l)&&i.push("".concat(s,"--now")),!e||!bY(e))return i;var c=function(){if(Array.isArray(e))return e;var b=n.valueType;if(!b)throw new Error("valueType is required when value is not an array of two dates");return xC(b,e)}();wY(c,l)?i.push("".concat(s,"--active")):Xj(c,l)&&i.push("".concat(s,"--hasActive"));var d=_C(c,l,"".concat(s,"--range"));i.push.apply(i,d);var f=Array.isArray(e)?e:[e];if(r&&f.length===1){var p=r>c[0]?[c[0],r]:[r,c[0]],v=_C(p,l,"".concat(s,"--hover"));i.push.apply(i,v)}return i}var TY=(Ac={},Ac[Gc.ARABIC]=Tt.ISLAMIC,Ac[Gc.HEBREW]=Tt.HEBREW,Ac[Gc.ISO_8601]=Tt.ISO_8601,Ac[Gc.US]=Tt.GREGORY,Ac);function EY(n){return n!==void 0&&n in Gc}var TC=!1;function Ry(n){if(EY(n)){var e=TY[n];return vY(TC,'Specifying calendarType="'.concat(n,'" is deprecated. Use calendarType="').concat(e,'" instead.')),TC=!0,e}return n}function jy(n){for(var e=n.className,t=n.count,r=t===void 0?3:t,s=n.dateTransform,i=n.dateType,a=n.end,l=n.hover,c=n.offset,d=n.renderTile,f=n.start,p=n.step,v=p===void 0?1:p,b=n.value,x=n.valueType,w=[],T=f;T<=a;T+=v){var P=s(T);w.push(d({classes:_Y({date:P,dateType:i,hover:l,value:b,valueType:x}),date:P}))}return pe.createElement(Q_,{className:e,count:r,offset:c,wrap:!0},w)}function My(n){var e=n.activeStartDate,t=n.children,r=n.classes,s=n.date,i=n.formatAbbr,a=n.locale,l=n.maxDate,c=n.maxDateTransform,d=n.minDate,f=n.minDateTransform,p=n.onClick,v=n.onMouseOver,b=n.style,x=n.tileClassName,w=n.tileContent,T=n.tileDisabled,P=n.view,C=F.useMemo(function(){var B={activeStartDate:e,date:s,view:P};return typeof x=="function"?x(B):x},[e,s,x,P]),D=F.useMemo(function(){var B={activeStartDate:e,date:s,view:P};return typeof w=="function"?w(B):w},[e,s,w,P]);return pe.createElement("button",{className:Cy(r,C),disabled:d&&f(d)>s||l&&c(l)<s||T&&T({activeStartDate:e,date:s,view:P}),onClick:p?function(B){return p(s,B)}:void 0,onFocus:v?function(){return v(s)}:void 0,onMouseOver:v?function(){return v(s)}:void 0,style:b,type:"button"},i?pe.createElement("abbr",{"aria-label":i(a,s)},t):t,D)}var Aw=function(){return Aw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Aw.apply(this,arguments)},SY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},EC="react-calendar__century-view__decades__decade";function IY(n){var e=n.classes,t=e===void 0?[]:e,r=n.currentCentury,s=n.formatYear,i=s===void 0?Dy:s,a=SY(n,["classes","currentCentury","formatYear"]),l=a.date,c=a.locale,d=[];return t&&d.push.apply(d,t),d.push(EC),Mu(l).getFullYear()!==r&&d.push("".concat(EC,"--neighboringCentury")),pe.createElement(My,Aw({},a,{classes:d,maxDateTransform:ky,minDateTransform:bo,view:"century"}),Yj(c,i,l))}var Dw=function(){return Dw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Dw.apply(this,arguments)},SC=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function PY(n){var e=n.activeStartDate,t=n.hover,r=n.showNeighboringCentury,s=n.value,i=n.valueType,a=SC(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=rY(e),c=l+(r?119:99);return pe.createElement(jy,{className:"react-calendar__century-view__decades",dateTransform:bo,dateType:"decade",end:c,hover:t,renderTile:function(d){var f=d.date,p=SC(d,["date"]);return pe.createElement(IY,Dw({key:f.getTime()},a,p,{activeStartDate:e,currentCentury:l,date:f}))},start:l,step:10,value:s,valueType:i})}var IC=function(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},CY=Object.values(Tt),NY=Object.values(Gc),Rw=["century","decade","year","month"],Qj=oe.oneOf(IC(IC([],CY,!0),NY,!0)),Ng=oe.oneOfType([oe.string,oe.arrayOf(oe.string)]),Jj=function(e,t,r){var s=e,i=t,a=s[i];if(!a)return null;if(!(a instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof a,"` supplied to `").concat(r,"`, expected instance of `Date`."));var l=e.maxDate;return l&&a>l?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof a,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},Zj=function(e,t,r){var s=e,i=t,a=s[i];if(!a)return null;if(!(a instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof a,"` supplied to `").concat(r,"`, expected instance of `Date`."));var l=e.minDate;return l&&a<l?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof a,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null},kY=oe.oneOfType([oe.func,oe.exact({current:oe.any})]),AY=oe.arrayOf(oe.oneOfType([oe.instanceOf(Date),oe.oneOf([null])]).isRequired),DY=oe.oneOfType([oe.instanceOf(Date),oe.oneOf([null]),AY]);oe.arrayOf(oe.oneOf(Rw));var kg=function(e,t,r){var s=e,i=t,a=s[i];return a!==void 0&&(typeof a!="string"||Rw.indexOf(a)===-1)?new Error("Invalid prop `".concat(t,"` of value `").concat(a,"` supplied to `").concat(r,"`, expected one of [").concat(Rw.map(function(l){return'"'.concat(l,'"')}).join(", "),"].")):null};kg.isRequired=function(e,t,r,s,i){var a=e,l=t,c=a[l];return c?kg(e,t,r):new Error("The prop `".concat(t,"` is marked as required in `").concat(r,"`, but its value is `").concat(c,"`."))};var RY=function(n){return oe.arrayOf(n)},Oy={activeStartDate:oe.instanceOf(Date).isRequired,hover:oe.instanceOf(Date),locale:oe.string,maxDate:Zj,minDate:Jj,onClick:oe.func,onMouseOver:oe.func,tileClassName:oe.oneOfType([oe.func,Ng]),tileContent:oe.oneOfType([oe.func,oe.node]),value:DY,valueType:oe.oneOf(["century","decade","year","month","day"]).isRequired};oe.instanceOf(Date).isRequired,oe.arrayOf(oe.string.isRequired).isRequired,oe.instanceOf(Date).isRequired,oe.string,oe.func,oe.func,oe.objectOf(oe.oneOfType([oe.string,oe.number])),oe.oneOfType([oe.func,Ng]),oe.oneOfType([oe.func,oe.node]),oe.func;var $h=function(){return $h=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},$h.apply(this,arguments)},eM=function(e){function t(){return pe.createElement(PY,$h({},e))}return pe.createElement("div",{className:"react-calendar__century-view"},t())};eM.propTypes=$h($h({},Oy),{showNeighboringCentury:oe.bool});var jw=function(){return jw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},jw.apply(this,arguments)},jY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},PC="react-calendar__decade-view__years__year";function MY(n){var e=n.classes,t=e===void 0?[]:e,r=n.currentDecade,s=n.formatYear,i=s===void 0?Dy:s,a=jY(n,["classes","currentDecade","formatYear"]),l=a.date,c=a.locale,d=[];return t&&d.push.apply(d,t),d.push(PC),bo(l).getFullYear()!==r&&d.push("".concat(PC,"--neighboringDecade")),pe.createElement(My,jw({},a,{classes:d,maxDateTransform:Ay,minDateTransform:Ou,view:"decade"}),i(c,l))}var Mw=function(){return Mw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Mw.apply(this,arguments)},CC=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function OY(n){var e=n.activeStartDate,t=n.hover,r=n.showNeighboringDecade,s=n.value,i=n.valueType,a=CC(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=sY(e),c=l+(r?11:9);return pe.createElement(jy,{className:"react-calendar__decade-view__years",dateTransform:Ou,dateType:"year",end:c,hover:t,renderTile:function(d){var f=d.date,p=CC(d,["date"]);return pe.createElement(MY,Mw({key:f.getTime()},a,p,{activeStartDate:e,currentDecade:l,date:f}))},start:l,value:s,valueType:i})}var Wh=function(){return Wh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Wh.apply(this,arguments)},tM=function(e){function t(){return pe.createElement(OY,Wh({},e))}return pe.createElement("div",{className:"react-calendar__decade-view"},t())};tM.propTypes=Wh(Wh({},Oy),{showNeighboringDecade:oe.bool});var Ow=function(){return Ow=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Ow.apply(this,arguments)},LY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},NC=function(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},VY="react-calendar__year-view__months__month";function FY(n){var e=n.classes,t=e===void 0?[]:e,r=n.formatMonth,s=r===void 0?JG:r,i=n.formatMonthYear,a=i===void 0?Wj:i,l=LY(n,["classes","formatMonth","formatMonthYear"]),c=l.date,d=l.locale;return pe.createElement(My,Ow({},l,{classes:NC(NC([],t,!0),[VY],!1),formatAbbr:a,maxDateTransform:Tf,minDateTransform:Ul,view:"year"}),s(d,c))}var Lw=function(){return Lw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Lw.apply(this,arguments)},kC=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function BY(n){var e=n.activeStartDate,t=n.hover,r=n.value,s=n.valueType,i=kC(n,["activeStartDate","hover","value","valueType"]),a=0,l=11,c=Dt(e);return pe.createElement(jy,{className:"react-calendar__year-view__months",dateTransform:function(d){var f=new Date;return f.setFullYear(c,d,1),Ul(f)},dateType:"month",end:l,hover:t,renderTile:function(d){var f=d.date,p=kC(d,["date"]);return pe.createElement(FY,Lw({key:f.getTime()},i,p,{activeStartDate:e,date:f}))},start:a,value:r,valueType:s})}var Ag=function(){return Ag=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Ag.apply(this,arguments)},nM=function(e){function t(){return pe.createElement(BY,Ag({},e))}return pe.createElement("div",{className:"react-calendar__year-view"},t())};nM.propTypes=Ag({},Oy);var Vw=function(){return Vw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Vw.apply(this,arguments)},zY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},ux="react-calendar__month-view__days__day";function UY(n){var e=n.calendarType,t=n.classes,r=t===void 0?[]:t,s=n.currentMonthIndex,i=n.formatDay,a=i===void 0?XG:i,l=n.formatLongDate,c=l===void 0?QG:l,d=zY(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),f=Ry(e),p=d.date,v=d.locale,b=[];return r&&b.push.apply(b,r),b.push(ux),Kj(p,f)&&b.push("".concat(ux,"--weekend")),p.getMonth()!==s&&b.push("".concat(ux,"--neighboringMonth")),pe.createElement(My,Vw({},d,{classes:b,formatAbbr:c,maxDateTransform:K_,minDateTransform:Ef,view:"month"}),a(v,p))}var Fw=function(){return Fw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Fw.apply(this,arguments)},AC=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function $Y(n){var e=n.activeStartDate,t=n.calendarType,r=n.hover,s=n.showFixedNumberOfWeeks,i=n.showNeighboringMonth,a=n.value,l=n.valueType,c=AC(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=Ry(t),f=Dt(e),p=wo(e),v=s||i,b=zh(e,d),x=v?0:b,w=(v?-b:0)+1,T=function(){if(s)return w+6*7-1;var P=$j(e);if(i){var C=new Date;C.setFullYear(f,p,P),C.setHours(0,0,0,0);var D=7-zh(C,d)-1;return P+D}return P}();return pe.createElement(jy,{className:"react-calendar__month-view__days",count:7,dateTransform:function(P){var C=new Date;return C.setFullYear(f,p,P),Ef(C)},dateType:"day",hover:r,end:T,renderTile:function(P){var C=P.date,D=AC(P,["date"]);return pe.createElement(UY,Fw({key:C.getTime()},c,D,{activeStartDate:e,calendarType:t,currentMonthIndex:p,date:C}))},offset:x,start:w,value:a,valueType:l})}var rM="react-calendar__month-view__weekdays",dx="".concat(rM,"__weekday");function WY(n){for(var e=n.calendarType,t=n.formatShortWeekday,r=t===void 0?ZG:t,s=n.formatWeekday,i=s===void 0?eY:s,a=n.locale,l=n.onMouseLeave,c=Ry(e),d=new Date,f=Ul(d),p=Dt(f),v=wo(f),b=[],x=1;x<=7;x+=1){var w=new Date(p,v,x-zh(f,c)),T=i(a,w);b.push(pe.createElement("div",{key:x,className:Cy(dx,fY(w)&&"".concat(dx,"--current"),Kj(w,c)&&"".concat(dx,"--weekend"))},pe.createElement("abbr",{"aria-label":T,title:T},r(a,w).replace(".",""))))}return pe.createElement(Q_,{className:rM,count:7,onFocus:l,onMouseOver:l},b)}var Dg=function(){return Dg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Dg.apply(this,arguments)},DC=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},RC="react-calendar__tile";function HY(n){var e=n.onClickWeekNumber,t=n.weekNumber,r=pe.createElement("span",null,t);if(e){var s=n.date,i=n.onClickWeekNumber,a=n.weekNumber,l=DC(n,["date","onClickWeekNumber","weekNumber"]);return pe.createElement("button",Dg({},l,{className:RC,onClick:function(c){return i(a,s,c)},type:"button"}),r)}else{n.date,n.onClickWeekNumber,n.weekNumber;var l=DC(n,["date","onClickWeekNumber","weekNumber"]);return pe.createElement("div",Dg({},l,{className:RC}),r)}}function qY(n){var e=n.activeStartDate,t=n.calendarType,r=n.onClickWeekNumber,s=n.onMouseLeave,i=n.showFixedNumberOfWeeks,a=Ry(t),l=function(){if(i)return 6;var f=$j(e),p=zh(e,a),v=f-(7-p);return 1+Math.ceil(v/7)}(),c=function(){for(var f=Dt(e),p=wo(e),v=Ny(e),b=[],x=0;x<l;x+=1)b.push(kw(new Date(f,p,v+x*7),a));return b}(),d=c.map(function(f){return iY(f,a)});return pe.createElement(Q_,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},d.map(function(f,p){var v=c[p];if(!v)throw new Error("date is not defined");return pe.createElement(HY,{key:f,date:v,onClickWeekNumber:r,weekNumber:f})}))}var Hh=function(){return Hh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Hh.apply(this,arguments)},GY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function YY(n){if(n)for(var e=0,t=Object.entries(BG);e<t.length;e++){var r=t[e],s=r[0],i=r[1];if(i.includes(n))return s}return Tt.ISO_8601}var sM=function(e){var t=e.activeStartDate,r=e.locale,s=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,l=a===void 0?YY(r):a,c=e.formatShortWeekday,d=e.formatWeekday,f=e.onClickWeekNumber,p=e.showWeekNumbers,v=GY(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function b(){return pe.createElement(WY,{calendarType:l,formatShortWeekday:c,formatWeekday:d,locale:r,onMouseLeave:s})}function x(){return p?pe.createElement(qY,{activeStartDate:t,calendarType:l,onClickWeekNumber:f,onMouseLeave:s,showFixedNumberOfWeeks:i}):null}function w(){return pe.createElement($Y,Hh({calendarType:l},v))}var T="react-calendar__month-view";return pe.createElement("div",{className:Cy(T,p?"".concat(T,"--weekNumbers"):"")},pe.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},x(),pe.createElement("div",{style:{flexGrow:1,width:"100%"}},b(),w())))};sM.propTypes=Hh(Hh({},Oy),{calendarType:Qj,formatDay:oe.func,formatLongDate:oe.func,formatShortWeekday:oe.func,formatWeekday:oe.func,onClickWeekNumber:oe.func,onMouseLeave:oe.func,showFixedNumberOfWeeks:oe.bool,showNeighboringMonth:oe.bool,showWeekNumbers:oe.bool});var Kc=function(){return Kc=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Kc.apply(this,arguments)},Zm="react-calendar",nu=["century","decade","year","month"],KY=["decade","year","month","day"],J_=new Date;J_.setFullYear(1,0,1);J_.setHours(0,0,0,0);var XY=new Date(864e13);function qd(n){return n instanceof Date?n:new Date(n)}function iM(n,e){return nu.slice(nu.indexOf(n),nu.indexOf(e)+1)}function QY(n,e,t){var r=iM(e,t);return r.indexOf(n)!==-1}function Z_(n,e,t){return n&&QY(n,e,t)?n:t}function aM(n){var e=nu.indexOf(n);return KY[e]}function JY(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var r=qd(t);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(n));return r}function oM(n,e){var t=n.value,r=n.minDate,s=n.maxDate,i=n.maxDetail,a=JY(t,e);if(!a)return null;var l=aM(i),c=function(){switch(e){case 0:return yl(l,a);case 1:return qj(l,a);default:throw new Error("Invalid index value: ".concat(e))}}();return xY(c,r,s)}var eT=function(n){return oM(n,0)},lM=function(n){return oM(n,1)},ZY=function(n){return[eT,lM].map(function(e){return e(n)})};function cM(n){var e=n.maxDate,t=n.maxDetail,r=n.minDate,s=n.minDetail,i=n.value,a=n.view,l=Z_(a,s,t),c=eT({value:i,minDate:r,maxDate:e,maxDetail:t})||new Date;return yl(l,c)}function eK(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,r=n.defaultValue,s=n.defaultView,i=n.maxDate,a=n.maxDetail,l=n.minDate,c=n.minDetail,d=n.value,f=n.view,p=Z_(f,c,a),v=e||t;return v?yl(p,v):cM({maxDate:i,maxDetail:a,minDate:l,minDetail:c,value:d||r,view:f||s})}function hx(n){return n&&(!Array.isArray(n)||n.length===1)}function ep(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var uM=F.forwardRef(function(e,t){var r=e.activeStartDate,s=e.allowPartialRange,i=e.calendarType,a=e.className,l=e.defaultActiveStartDate,c=e.defaultValue,d=e.defaultView,f=e.formatDay,p=e.formatLongDate,v=e.formatMonth,b=e.formatMonthYear,x=e.formatShortWeekday,w=e.formatWeekday,T=e.formatYear,P=e.goToRangeStartOnSelect,C=P===void 0?!0:P,D=e.inputRef,B=e.locale,L=e.maxDate,U=L===void 0?XY:L,M=e.maxDetail,I=M===void 0?"month":M,N=e.minDate,j=N===void 0?J_:N,A=e.minDetail,O=A===void 0?"century":A,R=e.navigationAriaLabel,G=e.navigationAriaLive,J=e.navigationLabel,ie=e.next2AriaLabel,ue=e.next2Label,ee=e.nextAriaLabel,ce=e.nextLabel,se=e.onActiveStartDateChange,H=e.onChange,te=e.onClickDay,be=e.onClickDecade,Ee=e.onClickMonth,re=e.onClickWeekNumber,le=e.onClickYear,he=e.onDrillDown,Se=e.onDrillUp,De=e.onViewChange,tt=e.prev2AriaLabel,Vt=e.prev2Label,Ut=e.prevAriaLabel,$t=e.prevLabel,Be=e.returnValue,St=Be===void 0?"start":Be,It=e.selectRange,qn=e.showDoubleView,ir=e.showFixedNumberOfWeeks,An=e.showNavigation,Dn=An===void 0?!0:An,Rn=e.showNeighboringCentury,ps=e.showNeighboringDecade,Er=e.showNeighboringMonth,qr=Er===void 0?!0:Er,gs=e.showWeekNumbers,yt=e.tileClassName,dt=e.tileContent,ar=e.tileDisabled,Gn=e.value,ys=e.view,Os=F.useState(l),yi=Os[0],Ls=Os[1],ra=F.useState(null),_o=ra[0],sa=ra[1],ia=F.useState(Array.isArray(c)?c.map(function(ze){return ze!==null?qd(ze):null}):c!=null?qd(c):null),vs=ia[0],aa=ia[1],vi=F.useState(d),or=vi[0],Sr=vi[1],Wt=r||yi||eK({activeStartDate:r,defaultActiveStartDate:l,defaultValue:c,defaultView:d,maxDate:U,maxDetail:I,minDate:j,minDetail:O,value:Gn,view:ys}),vt=function(){var ze=function(){return It&&hx(vs)?vs:Gn!==void 0?Gn:vs}();return ze?Array.isArray(ze)?ze.map(function(Ke){return Ke!==null?qd(Ke):null}):ze!==null?qd(ze):null:null}(),Vs=aM(I),nt=Z_(ys||or,O,I),jn=iM(O,I),xs=It?_o:null,xi=jn.indexOf(nt)<jn.length-1,Pt=jn.indexOf(nt)>0,wi=F.useCallback(function(ze){var Ke=function(){switch(St){case"start":return eT;case"end":return lM;case"range":return ZY;default:throw new Error("Invalid returnValue.")}}();return Ke({maxDate:U,maxDetail:I,minDate:j,value:ze})},[U,I,j,St]),Yn=F.useCallback(function(ze,Ke){Ls(ze);var xt={action:Ke,activeStartDate:ze,value:vt,view:nt};se&&!ep(Wt,ze)&&se(xt)},[Wt,se,vt,nt]),Gr=F.useCallback(function(ze,Ke){var xt=function(){switch(nt){case"century":return be;case"decade":return le;case"year":return Ee;case"month":return te;default:throw new Error("Invalid view: ".concat(nt,"."))}}();xt&&xt(ze,Ke)},[te,be,Ee,le,nt]),ws=F.useCallback(function(ze,Ke){if(xi){Gr(ze,Ke);var xt=jn[jn.indexOf(nt)+1];if(!xt)throw new Error("Attempted to drill down from the lowest view.");Ls(ze),Sr(xt);var wn={action:"drillDown",activeStartDate:ze,value:vt,view:xt};se&&!ep(Wt,ze)&&se(wn),De&&nt!==xt&&De(wn),he&&he(wn)}},[Wt,xi,se,Gr,he,De,vt,nt,jn]),Fs=F.useCallback(function(){if(Pt){var ze=jn[jn.indexOf(nt)-1];if(!ze)throw new Error("Attempted to drill up from the highest view.");var Ke=yl(ze,Wt);Ls(Ke),Sr(ze);var xt={action:"drillUp",activeStartDate:Ke,value:vt,view:ze};se&&!ep(Wt,Ke)&&se(xt),De&&nt!==ze&&De(xt),Se&&Se(xt)}},[Wt,Pt,se,Se,De,vt,nt,jn]),Kn=F.useCallback(function(ze,Ke){var xt=vt;Gr(ze,Ke);var wn=It&&!hx(xt),on;if(It)if(wn)on=yl(Vs,ze);else{if(!xt)throw new Error("previousValue is required");if(Array.isArray(xt))throw new Error("previousValue must not be an array");on=dY(Vs,xt,ze)}else on=wi(ze);var Bs=!It||wn||C?cM({maxDate:U,maxDetail:I,minDate:j,minDetail:O,value:on,view:nt}):null;Ke.persist(),Ls(Bs),aa(on);var So={action:"onChange",activeStartDate:Bs,value:on,view:nt};if(se&&!ep(Wt,Bs)&&se(So),H)if(It){var Gl=hx(on);if(!Gl)H(on||null,Ke);else if(s){if(Array.isArray(on))throw new Error("value must not be an array");H([on||null,null],Ke)}}else H(on||null,Ke)},[Wt,s,wi,C,U,I,j,O,se,H,Gr,It,vt,Vs,nt]);function To(ze){sa(ze)}function Eo(){sa(null)}F.useImperativeHandle(t,function(){return{activeStartDate:Wt,drillDown:ws,drillUp:Fs,onChange:Kn,setActiveStartDate:Yn,value:vt,view:nt}},[Wt,ws,Fs,Kn,Yn,vt,nt]);function bi(ze){var Ke=ze?Hj(nt,Wt):yl(nt,Wt),xt=xi?ws:Kn,wn={activeStartDate:Ke,hover:xs,locale:B,maxDate:U,minDate:j,onClick:xt,onMouseOver:It?To:void 0,tileClassName:yt,tileContent:dt,tileDisabled:ar,value:vt,valueType:Vs};switch(nt){case"century":return pe.createElement(eM,Kc({formatYear:T,showNeighboringCentury:Rn},wn));case"decade":return pe.createElement(tM,Kc({formatYear:T,showNeighboringDecade:ps},wn));case"year":return pe.createElement(nM,Kc({formatMonth:v,formatMonthYear:b},wn));case"month":return pe.createElement(sM,Kc({calendarType:i,formatDay:f,formatLongDate:p,formatShortWeekday:x,formatWeekday:w,onClickWeekNumber:re,onMouseLeave:It?Eo:void 0,showFixedNumberOfWeeks:typeof ir<"u"?ir:qn,showNeighboringMonth:qr,showWeekNumbers:gs},wn));default:throw new Error("Invalid view: ".concat(nt,"."))}}function ql(){return Dn?pe.createElement(mY,{activeStartDate:Wt,drillUp:Fs,formatMonthYear:b,formatYear:T,locale:B,maxDate:U,minDate:j,navigationAriaLabel:R,navigationAriaLive:G,navigationLabel:J,next2AriaLabel:ie,next2Label:ue,nextAriaLabel:ee,nextLabel:ce,prev2AriaLabel:tt,prev2Label:Vt,prevAriaLabel:Ut,prevLabel:$t,setActiveStartDate:Yn,showDoubleView:qn,view:nt,views:jn}):null}var Ir=Array.isArray(vt)?vt:[vt];return pe.createElement("div",{className:Cy(Zm,It&&Ir.length===1&&"".concat(Zm,"--selectRange"),qn&&"".concat(Zm,"--doubleView"),a),ref:D},ql(),pe.createElement("div",{className:"".concat(Zm,"__viewContainer"),onBlur:It?Eo:void 0,onMouseLeave:It?Eo:void 0},bi(),qn?bi(!0):null))}),jC=oe.instanceOf(Date),MC=oe.oneOfType([oe.string,oe.instanceOf(Date)]),OC=oe.oneOfType([MC,RY(MC)]);uM.propTypes={activeStartDate:jC,allowPartialRange:oe.bool,calendarType:Qj,className:Ng,defaultActiveStartDate:jC,defaultValue:OC,defaultView:kg,formatDay:oe.func,formatLongDate:oe.func,formatMonth:oe.func,formatMonthYear:oe.func,formatShortWeekday:oe.func,formatWeekday:oe.func,formatYear:oe.func,goToRangeStartOnSelect:oe.bool,inputRef:kY,locale:oe.string,maxDate:Zj,maxDetail:oe.oneOf(nu),minDate:Jj,minDetail:oe.oneOf(nu),navigationAriaLabel:oe.string,navigationAriaLive:oe.oneOf(["off","polite","assertive"]),navigationLabel:oe.func,next2AriaLabel:oe.string,next2Label:oe.node,nextAriaLabel:oe.string,nextLabel:oe.node,onActiveStartDateChange:oe.func,onChange:oe.func,onClickDay:oe.func,onClickDecade:oe.func,onClickMonth:oe.func,onClickWeekNumber:oe.func,onClickYear:oe.func,onDrillDown:oe.func,onDrillUp:oe.func,onViewChange:oe.func,prev2AriaLabel:oe.string,prev2Label:oe.node,prevAriaLabel:oe.string,prevLabel:oe.node,returnValue:oe.oneOf(["start","end","range"]),selectRange:oe.bool,showDoubleView:oe.bool,showFixedNumberOfWeeks:oe.bool,showNavigation:oe.bool,showNeighboringCentury:oe.bool,showNeighboringDecade:oe.bool,showNeighboringMonth:oe.bool,showWeekNumbers:oe.bool,tileClassName:oe.oneOfType([oe.func,Ng]),tileContent:oe.oneOfType([oe.func,oe.node]),tileDisabled:oe.func,value:OC,view:kg};function Tr(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function co(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function LC(n,e){const t=Tr(n);return isNaN(e)?co(n,NaN):(e&&t.setDate(t.getDate()+e),t)}const dM=6048e5,tK=864e5;let nK={};function Ly(){return nK}function qh(n,e){var l,c,d,f;const t=Ly(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Tr(n),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Rg(n){return qh(n,{weekStartsOn:1})}function hM(n){const e=Tr(n),t=e.getFullYear(),r=co(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=Rg(r),i=co(n,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const a=Rg(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function VC(n){const e=Tr(n);return e.setHours(0,0,0,0),e}function FC(n){const e=Tr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function fM(n,e){const t=VC(n),r=VC(e),s=+t-FC(t),i=+r-FC(r);return Math.round((s-i)/tK)}function rK(n){const e=hM(n),t=co(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Rg(t)}function sK(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function iK(n){if(!sK(n)&&typeof n!="number")return!1;const e=Tr(n);return!isNaN(Number(e))}function BC(n,e){const t=Tr(n),r=Tr(e),s=zC(t,r),i=Math.abs(fM(t,r));t.setDate(t.getDate()-s*i);const a=+(zC(t,r)===-s),l=s*(i-a);return l===0?0:l}function zC(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function aK(n){const e=Tr(n),t=co(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const oK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lK=(n,e,t)=>{let r;const s=oK[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function fx(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const cK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hK={date:fx({formats:cK,defaultWidth:"full"}),time:fx({formats:uK,defaultWidth:"full"}),dateTime:fx({formats:dK,defaultWidth:"full"})},fK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mK=(n,e,t,r)=>fK[n];function Pd(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,l=t!=null&&t.width?String(t.width):a;s=n.formattingValues[l]||n.formattingValues[a]}else{const a=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[l]||n.values[a]}const i=n.argumentCallback?n.argumentCallback(e):e;return s[i]}}const pK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bK=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},_K={ordinalNumber:bK,era:Pd({values:pK,defaultWidth:"wide"}),quarter:Pd({values:gK,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Pd({values:yK,defaultWidth:"wide"}),day:Pd({values:vK,defaultWidth:"wide"}),dayPeriod:Pd({values:xK,defaultWidth:"wide",formattingValues:wK,defaultFormattingWidth:"wide"})};function Cd(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(l)?EK(l,p=>p.test(a)):TK(l,p=>p.test(a));let d;d=n.valueCallback?n.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function TK(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function EK(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function SK(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],i=e.match(n.parsePattern);if(!i)return null;let a=n.valueCallback?n.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const IK=/^(\d+)(th|st|nd|rd)?/i,PK=/\d+/i,CK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NK={any:[/^b/i,/^(a|c)/i]},kK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AK={any:[/1/i,/2/i,/3/i,/4/i]},DK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VK={ordinalNumber:SK({matchPattern:IK,parsePattern:PK,valueCallback:n=>parseInt(n,10)}),era:Cd({matchPatterns:CK,defaultMatchWidth:"wide",parsePatterns:NK,defaultParseWidth:"any"}),quarter:Cd({matchPatterns:kK,defaultMatchWidth:"wide",parsePatterns:AK,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Cd({matchPatterns:DK,defaultMatchWidth:"wide",parsePatterns:RK,defaultParseWidth:"any"}),day:Cd({matchPatterns:jK,defaultMatchWidth:"wide",parsePatterns:MK,defaultParseWidth:"any"}),dayPeriod:Cd({matchPatterns:OK,defaultMatchWidth:"any",parsePatterns:LK,defaultParseWidth:"any"})},FK={code:"en-US",formatDistance:lK,formatLong:hK,formatRelative:mK,localize:_K,match:VK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BK(n){const e=Tr(n);return fM(e,aK(e))+1}function zK(n){const e=Tr(n),t=+Rg(e)-+rK(e);return Math.round(t/dM)+1}function mM(n,e){var f,p,v,b;const t=Tr(n),r=t.getFullYear(),s=Ly(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(v=s.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,a=co(n,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=qh(a,e),c=co(n,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=qh(c,e);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function UK(n,e){var l,c,d,f;const t=Ly(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=mM(n,e),i=co(n,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),qh(i,e)}function $K(n,e){const t=Tr(n),r=+qh(t,e)-+UK(t,e);return Math.round(r/dM)+1}function lt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ja={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return lt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):lt(t+1,2)},d(n,e){return lt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return lt(n.getHours()%12||12,e.length)},H(n,e){return lt(n.getHours(),e.length)},m(n,e){return lt(n.getMinutes(),e.length)},s(n,e){return lt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return lt(s,e.length)}},Dc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UC={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return ja.y(n,e)},Y:function(n,e,t,r){const s=mM(n,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return lt(a,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):lt(i,e.length)},R:function(n,e){const t=hM(n);return lt(t,e.length)},u:function(n,e){const t=n.getFullYear();return lt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return lt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ja.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=$K(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):lt(s,e.length)},I:function(n,e,t){const r=zK(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):lt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ja.d(n,e)},D:function(n,e,t){const r=BK(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return lt(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return lt(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return lt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Dc.noon:r===0?s=Dc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Dc.evening:r>=12?s=Dc.afternoon:r>=4?s=Dc.morning:s=Dc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ja.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ja.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ja.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ja.s(n,e)},S:function(n,e){return ja.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return WC(r);case"XXXX":case"XX":return tl(r);case"XXXXX":case"XXX":default:return tl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return WC(r);case"xxxx":case"xx":return tl(r);case"xxxxx":case"xxx":default:return tl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$C(r,":");case"OOOO":default:return"GMT"+tl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$C(r,":");case"zzzz":default:return"GMT"+tl(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return lt(r,e.length)},T:function(n,e,t){const r=n.getTime();return lt(r,e.length)}};function $C(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),i=r%60;return i===0?t+String(s):t+String(s)+e+lt(i,2)}function WC(n,e){return n%60===0?(n>0?"-":"+")+lt(Math.abs(n)/60,2):tl(n,e)}function tl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=lt(Math.trunc(r/60),2),i=lt(r%60,2);return t+s+e+i}const HC=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pM=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},WK=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return HC(n,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",HC(r,e)).replace("{{time}}",pM(s,e))},HK={p:pM,P:WK},qK=/^D+$/,GK=/^Y+$/,YK=["D","DD","YY","YYYY"];function KK(n){return qK.test(n)}function XK(n){return GK.test(n)}function QK(n,e,t){const r=JK(n,e,t);if(console.warn(r),YK.includes(n))throw new RangeError(r)}function JK(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ZK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tX=/^'([^]*?)'?$/,nX=/''/g,rX=/[a-zA-Z]/;function hn(n,e,t){var f,p,v,b;const r=Ly(),s=r.locale??FK,i=r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=r.weekStartsOn??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Tr(n);if(!iK(l))throw new RangeError("Invalid time value");let c=e.match(eX).map(x=>{const w=x[0];if(w==="p"||w==="P"){const T=HK[w];return T(x,s.formatLong)}return x}).join("").match(ZK).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:sX(x)};if(UC[w])return{isToken:!0,value:x};if(w.match(rX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(XK(w)||KK(w))&&QK(w,e,String(n));const T=UC[w[0]];return T(l,w,s.localize,d)}).join("")}function sX(n){const e=n.match(tX);return e?e[1].replace(nX,"'"):n}const qC="cycleTrackerCycles",iX=()=>{const{currentUser:n}=xn(),[e,t]=F.useState(new Date),[r,s]=F.useState([]),[i,a]=F.useState(null),[l,c]=F.useState(!0),[d,f]=F.useState(!1),[p,v]=F.useState({date:hn(e,"yyyy-MM-dd"),flow:"none",symptoms:[],mood:"neutral",notes:""}),b={menstrual:"https://images.unsplash.com/photo-1584473457409-ae5c91d211ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",follicular:"https://images.unsplash.com/photo-1518310952931-b1de897abd40?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",ovulation:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",luteal:"https://images.unsplash.com/photo-1517677208171-0bc6725a3e60?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},x={happy:"😊",sad:"😢",anxious:"😰",irritable:"😠",neutral:"😐"},w=[{name:"Cramps",icon:h.jsx(tr,{className:"h-4 w-4"}),category:"pain"},{name:"Headache",icon:h.jsx(tr,{className:"h-4 w-4"}),category:"pain"},{name:"Bloating",icon:h.jsx(_d,{className:"h-4 w-4"}),category:"physical"},{name:"Fatigue",icon:h.jsx(RI,{className:"h-4 w-4"}),category:"physical"},{name:"Breast Tenderness",icon:h.jsx(tr,{className:"h-4 w-4"}),category:"pain"},{name:"Acne",icon:h.jsx(_d,{className:"h-4 w-4"}),category:"physical"},{name:"Backache",icon:h.jsx(tr,{className:"h-4 w-4"}),category:"pain"},{name:"Nausea",icon:h.jsx(_d,{className:"h-4 w-4"}),category:"physical"},{name:"Insomnia",icon:h.jsx(RI,{className:"h-4 w-4"}),category:"sleep"},{name:"Dizziness",icon:h.jsx(_d,{className:"h-4 w-4"}),category:"physical"},{name:"Cravings",icon:h.jsx(w$,{className:"h-4 w-4"}),category:"other"},{name:"Mood Swings",icon:h.jsx(_d,{className:"h-4 w-4"}),category:"emotional"}],T=(R,G)=>{const J=BC(G,R);return J<=5?{name:"Menstrual Phase",description:"Your period is active. Focus on rest and self-care.",image:b.menstrual}:J<=13?{name:"Follicular Phase",description:"Your body is preparing for ovulation. Energy levels are typically higher.",image:b.follicular}:J<=17?{name:"Ovulation Phase",description:"Peak fertility window. You may feel more energetic and social.",image:b.ovulation}:{name:"Luteal Phase",description:"Post-ovulation phase. You may experience PMS symptoms.",image:b.luteal}};F.useEffect(()=>{n&&D()},[n]);const P=()=>{const R=localStorage.getItem(qC);if(!R)return[];try{return JSON.parse(R)}catch{return[]}},C=R=>{localStorage.setItem(qC,JSON.stringify(R))},D=async()=>{try{c(!0);const R=P().filter(G=>G.userId===(n==null?void 0:n.uid));if(R.sort((G,J)=>new Date(J.startDate).getTime()-new Date(G.startDate).getTime()),s(R),R.length>0){const G=R[0];a(G)}else a(null)}catch(R){console.error("Error fetching cycles:",R)}finally{c(!1)}},B=(R,G)=>{if(!R||Array.isArray(R))return;const J=R;if(t(J),v({...p,date:hn(J,"yyyy-MM-dd")}),i){const ie=i.days.find(ue=>ue.date===hn(J,"yyyy-MM-dd"));ie?(v(ie),f(!0)):v({date:hn(J,"yyyy-MM-dd"),flow:"none",symptoms:[],mood:"neutral",notes:""})}},L=R=>{v(G=>({...G,flow:R}))},U=R=>{v(G=>({...G,mood:R}))},M=R=>{const{name:G,value:J}=R.target;v({...p,[G]:J})},I=R=>{v(G=>{const J=G.symptoms||[];return J.includes(R)?{...G,symptoms:J.filter(ie=>ie!==R)}:{...G,symptoms:[...J,R]}})},N=async()=>{if(n)try{const R={id:Date.now().toString(),userId:n.uid,startDate:hn(e,"yyyy-MM-dd"),cycleLength:28,periodLength:5,days:[{date:hn(e,"yyyy-MM-dd"),flow:"medium",symptoms:[],mood:"neutral",notes:""}],predictedNextStart:""};if(r.length>=2){const J=r.slice(0,Math.min(3,r.length)),ie=J.reduce((ue,ee)=>ue+(ee.duration||28),0)/J.length;R.predictedNextStart=hn(LC(e,Math.round(ie)),"yyyy-MM-dd")}else R.predictedNextStart=hn(LC(e,28),"yyyy-MM-dd");if(i){const J=BC(e,new Date(i.startDate)),ie=r.map(ue=>ue.id===i.id?{...ue,endDate:hn(e,"yyyy-MM-dd"),duration:J}:ue);C(ie),s(ie)}const G=[R,...r];C(G),s(G),a(R),alert("Cycle saved successfully.")}catch(R){console.error("Error starting new cycle:",R),alert("Failed to start new cycle. Please try again.")}},j=async()=>{if(!(!n||!i))try{const R=i.days.findIndex(ie=>ie.date===p.date);let G;R>=0?(G=[...i.days],G[R]=p):G=[...i.days,p];const J=r.map(ie=>ie.id===i.id?{...ie,days:G}:ie);C(J),s(J),a({...i,days:G}),f(!1),alert("Day saved successfully.")}catch(R){console.error("Error saving day:",R),alert("Failed to save day. Please try again.")}},A=({date:R,view:G})=>{if(G!=="month")return"";const J=hn(R,"yyyy-MM-dd");if(!i)return"";const ie=i.days.find(ee=>ee.date===J);if(!ie)return"";let ue="relative";return ie.flow==="light"?ue+=" bg-red-100":ie.flow==="medium"?ue+=" bg-red-200":ie.flow==="heavy"&&(ue+=" bg-red-300"),ue},O=({date:R,view:G})=>{if(G!=="month")return null;const J=hn(R,"yyyy-MM-dd");if(!i)return null;const ie=i.days.find(ue=>ue.date===J);return ie?h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center",children:[ie.mood==="happy"&&h.jsx("span",{className:"text-xs",children:"😊"}),ie.mood==="sad"&&h.jsx("span",{className:"text-xs",children:"😢"}),ie.mood==="anxious"&&h.jsx("span",{className:"text-xs",children:"😰"}),ie.mood==="irritable"&&h.jsx("span",{className:"text-xs",children:"😠"})]}):null};return l?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Nn,{className:"h-6 w-6 text-purple-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cycle Tracker"})]}),h.jsxs("button",{onClick:()=>N(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md flex items-center",children:[h.jsx(ff,{className:"h-4 w-4 mr-1"}),"Start New Cycle"]})]}),i&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:Object.entries(b).map(([R,G])=>h.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[h.jsx("img",{src:G,alt:R,className:"w-full h-32 object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-4",children:h.jsxs("p",{className:"text-white font-medium capitalize",children:[R," Phase"]})})]},R))})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"mb-4 flex items-center",children:[h.jsx(Nn,{className:"h-5 w-5 text-purple-600 mr-2"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Calendar"})]}),h.jsx("div",{className:"cycle-calendar",children:h.jsx(uM,{onChange:B,value:e,tileClassName:A,tileContent:O,className:"w-full border-none"})}),h.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-4 h-4 bg-red-100 rounded-full mr-2"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Light Flow"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-4 h-4 bg-red-200 rounded-full mr-2"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Medium Flow"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-4 h-4 bg-red-300 rounded-full mr-2"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Heavy Flow"})]})]})]}),i&&h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Current Cycle Overview"}),i.startDate&&h.jsx("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Cycle Started"}),h.jsx("p",{className:"text-lg font-semibold text-gray-800",children:hn(new Date(i.startDate),"MMMM d, yyyy")})]}),i.predictedNextStart&&h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Next Period Predicted"}),h.jsx("p",{className:"text-lg font-semibold text-gray-800",children:hn(new Date(i.predictedNextStart),"MMMM d, yyyy")})]})]})}),i.startDate&&h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Current Phase"}),(()=>{const R=T(new Date(i.startDate),new Date);return h.jsx("div",{className:"bg-white border rounded-lg overflow-hidden",children:h.jsxs("div",{className:"h-48 relative",children:[h.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:h.jsxs("div",{className:"text-white",children:[h.jsx("h4",{className:"text-xl font-semibold",children:R.name}),h.jsx("p",{className:"mt-1",children:R.description})]})})]})})})()]})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(MI,{className:"h-5 w-5 text-purple-600 mr-2"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:d?"Edit Day":"Day Details"})]}),!d&&h.jsx("button",{onClick:()=>f(!0),className:"text-purple-600 hover:text-purple-800",children:h.jsx(MI,{className:"h-4 w-4"})})]}),d?h.jsxs("form",{children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),h.jsx("div",{className:"text-gray-800 font-medium",children:hn(e,"MMMM d, yyyy")})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Flow"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:["none","light","medium","heavy"].map(R=>{const G=R;return h.jsxs("button",{type:"button",onClick:()=>L(G),className:`p-2 rounded-md border flex items-center justify-center ${p.flow===G?"bg-purple-100 border-purple-500 text-purple-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(AI,{className:`h-4 w-4 mr-1 ${p.flow===G?"text-purple-600":"text-gray-400"}`}),h.jsx("span",{className:"capitalize",children:R})]},R)})})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mood"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(x).map(([R,G])=>h.jsxs("button",{type:"button",onClick:()=>U(R),className:`p-2 rounded-md border flex items-center justify-center ${p.mood===R?"bg-purple-100 border-purple-500 text-purple-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[h.jsx("span",{className:"text-xl mr-1",children:G}),h.jsx("span",{className:"capitalize text-sm",children:R})]},R))})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symptoms"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.map(R=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:R.name,checked:(p.symptoms||[]).includes(R.name),onChange:()=>I(R.name),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),h.jsxs("label",{htmlFor:R.name,className:"ml-2 flex items-center text-sm text-gray-700",children:[R.icon,h.jsx("span",{className:"ml-1",children:R.name})]})]},R.name))})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),h.jsx("textarea",{name:"notes",value:p.notes,onChange:M,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-500 focus:ring-opacity-50",placeholder:"Add any additional notes here..."})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsxs("button",{type:"button",onClick:()=>f(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-md flex items-center",children:[h.jsx(Rh,{className:"h-4 w-4 mr-1"}),"Cancel"]}),h.jsxs("button",{type:"button",onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md flex items-center",children:[h.jsx(PD,{className:"h-4 w-4 mr-1"}),"Save"]})]})]}):h.jsxs("div",{children:[h.jsxs("p",{className:"text-gray-600 mb-2",children:["Selected date: ",h.jsx("span",{className:"font-semibold",children:hn(e,"MMMM d, yyyy")})]}),i&&i.days.find(R=>R.date===hn(e,"yyyy-MM-dd"))?h.jsxs("div",{children:[p.flow!=="none"&&h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Flow"}),h.jsxs("div",{className:`mt-1 inline-flex items-center px-3 py-1 rounded-full ${p.flow==="light"?"bg-red-100 text-red-800":p.flow==="medium"?"bg-red-200 text-red-800":"bg-red-300 text-red-800"}`,children:[h.jsx(AI,{className:"h-4 w-4 mr-1"}),h.jsx("span",{className:"capitalize",children:p.flow})]})]}),p.mood&&h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Mood"}),h.jsxs("div",{className:"mt-1 inline-flex items-center px-3 py-1 rounded-full bg-purple-100 text-purple-800",children:[h.jsx("span",{className:"text-xl mr-1",children:x[p.mood]}),h.jsx("span",{className:"capitalize",children:p.mood})]})]}),p.symptoms&&p.symptoms.length>0&&h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Symptoms"}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:p.symptoms.map(R=>{const G=w.find(J=>J.name===R);return h.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 text-gray-800",children:[G==null?void 0:G.icon,h.jsx("span",{className:"ml-1",children:R})]},R)})})]}),p.notes&&h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Notes"}),h.jsx("p",{className:"mt-1 text-gray-600 bg-gray-50 p-3 rounded-md",children:p.notes})]})]}):h.jsx("p",{className:"text-gray-600",children:"No data for this date. Click Edit to add details."})]})]}),r.length>0&&h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[h.jsxs("div",{className:"mb-4 flex items-center",children:[h.jsx(Nn,{className:"h-5 w-5 text-purple-600 mr-2"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Cycle History"})]}),h.jsx("div",{className:"space-y-4",children:r.slice(0,5).map((R,G)=>h.jsx("div",{className:"bg-white border rounded-lg overflow-hidden",children:h.jsx("div",{className:"p-4",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"font-medium text-gray-800",children:["Cycle ",r.length-G]}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Started: ",hn(new Date(R.startDate),"MMM d, yyyy")]}),R.endDate&&h.jsxs("p",{className:"text-sm text-gray-600",children:["Ended: ",hn(new Date(R.endDate),"MMM d, yyyy")]})]}),R.duration&&h.jsxs("div",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm",children:[R.duration," days"]})]})})},R.id))})]})]})]})]})},aX=()=>{const{currentUser:n,userProfile:e}=xn(),[t,r]=F.useState((e==null?void 0:e.height)||165),[s,i]=F.useState((e==null?void 0:e.weight)||60),[a,l]=F.useState(null),[c,d]=F.useState(""),[f,p]=F.useState(!1),[v,b]=F.useState([]),[x,w]=F.useState(!0);F.useEffect(()=>{n&&T()},[n]);const T=async()=>{try{w(!0);const L=br(yn(at,"bmiRecords"),Cn("userId","==",n==null?void 0:n.uid),oi("date","desc"),sh(5)),U=await _r(L),M=[];U.forEach(I=>{const N=I.data();M.push({...N,id:I.id})}),b(M)}catch(L){console.error("Error fetching BMI history:",L)}finally{w(!1)}},P=()=>{if(t&&s){const L=t/100,U=s/(L*L);l(U),U<18.5?d("underweight"):U>=18.5&&U<25?d("normal"):U>=25&&U<30?d("overweight"):d("obese")}},C=async()=>{if(!(!n||a===null))try{p(!0);const L={userId:n.uid,date:new Date().toISOString().split("T")[0],height:t,weight:s,bmi:a,category:c};await og(yn(at,"bmiRecords"),L),T()}catch(L){console.error("Error saving BMI:",L)}finally{p(!1)}},D=L=>{switch(L){case"underweight":return"text-blue-600";case"normal":return"text-green-600";case"overweight":return"text-yellow-600";case"obese":return"text-red-600";default:return"text-gray-600"}},B=L=>{switch(L){case"underweight":return"bg-blue-50";case"normal":return"bg-green-50";case"overweight":return"bg-yellow-50";case"obese":return"bg-red-50";default:return"bg-gray-50"}};return h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(tr,{className:"h-6 w-6 text-blue-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"BMI Calculator"})]}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Calculate your Body Mass Index (BMI) to check if your weight is healthy for your height."})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Calculate Your BMI"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),h.jsx("input",{type:"number",id:"height",value:t,onChange:L=>r(Number(L.target.value)),min:"100",max:"250",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),h.jsx("input",{type:"number",id:"weight",value:s,onChange:L=>i(Number(L.target.value)),min:"30",max:"300",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"})]})]}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("button",{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Calculate BMI"}),a!==null&&h.jsx("button",{onClick:C,disabled:f,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md disabled:opacity-50",children:f?"Saving...":"Save Results"})]}),a!==null&&h.jsxs("div",{className:`mt-8 p-6 rounded-lg ${B(c)}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your BMI Result"}),h.jsxs("p",{className:`text-lg font-bold mt-1 ${D(c)}`,children:[a.toFixed(1)," - ",h.jsx("span",{className:"capitalize",children:c})]})]}),h.jsx("div",{className:`text-5xl font-bold ${D(c)}`,children:a.toFixed(1)})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h4",{className:"font-medium text-gray-800",children:"What this means:"}),c==="underweight"&&h.jsx("p",{className:"text-gray-600 mt-1",children:"Your BMI suggests you are underweight. This may indicate malnutrition or other health problems. Consider consulting with a healthcare professional."}),c==="normal"&&h.jsx("p",{className:"text-gray-600 mt-1",children:"Your BMI is within the normal range. This suggests you have a healthy weight for your height. Maintain a balanced diet and regular physical activity."}),c==="overweight"&&h.jsx("p",{className:"text-gray-600 mt-1",children:"Your BMI suggests you are overweight. This may increase your risk of health problems. Consider making lifestyle changes and consulting with a healthcare professional."}),c==="obese"&&h.jsx("p",{className:"text-gray-600 mt-1",children:"Your BMI suggests you are obese. This increases your risk of various health problems. It's recommended to consult with a healthcare professional for personalized advice."})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[h.jsx("h4",{className:"font-medium text-gray-800",children:"Recommendations:"}),h.jsxs("ul",{className:"list-disc list-inside mt-1 text-gray-600 space-y-1",children:[c==="underweight"&&h.jsxs(h.Fragment,{children:[h.jsx("li",{children:"Increase your calorie intake with nutrient-rich foods"}),h.jsx("li",{children:"Include protein-rich foods in your diet"}),h.jsx("li",{children:"Consider strength training to build muscle mass"}),h.jsx("li",{children:"Consult with a nutritionist for a personalized meal plan"})]}),c==="normal"&&h.jsxs(h.Fragment,{children:[h.jsx("li",{children:"Maintain a balanced diet with plenty of fruits and vegetables"}),h.jsx("li",{children:"Stay physically active with regular exercise"}),h.jsx("li",{children:"Get regular health check-ups"}),h.jsx("li",{children:"Focus on overall wellness, not just weight"})]}),c==="overweight"&&h.jsxs(h.Fragment,{children:[h.jsx("li",{children:"Gradually increase physical activity"}),h.jsx("li",{children:"Focus on a balanced diet with portion control"}),h.jsx("li",{children:"Reduce intake of processed foods and sugary drinks"}),h.jsx("li",{children:"Set realistic weight loss goals (0.5-1 kg per week)"})]}),c==="obese"&&h.jsxs(h.Fragment,{children:[h.jsx("li",{children:"Consult with a healthcare professional before starting any weight loss program"}),h.jsx("li",{children:"Focus on gradual, sustainable lifestyle changes"}),h.jsx("li",{children:"Increase physical activity as recommended by your doctor"}),h.jsx("li",{children:"Consider working with a dietitian for a personalized meal plan"}),h.jsx("li",{children:"Monitor other health markers like blood pressure and cholesterol"})]})]})]})]})]})}),h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(dg,{className:"h-5 w-5 text-blue-600 mr-2"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"BMI History"})]}),x?h.jsx("div",{className:"flex items-center justify-center py-4",children:h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"})}):v.length>0?h.jsx("div",{className:"space-y-4",children:v.map(L=>h.jsxs("div",{className:`p-3 rounded-lg ${B(L.category)}`,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-800 font-medium",children:new Date(L.date).toLocaleDateString()}),h.jsx("p",{className:`text-sm font-semibold capitalize ${D(L.category)}`,children:L.category})]}),h.jsx("div",{className:"text-2xl font-bold",children:L.bmi.toFixed(1)})]}),h.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Height: ",L.height," cm | Weight: ",L.weight," kg"]})]},L.id))}):h.jsx("p",{className:"text-gray-600 py-4",children:"No BMI history available. Calculate and save your BMI to track changes over time."})]}),h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"BMI Information"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-800",children:"What is BMI?"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Body Mass Index (BMI) is a value derived from a person's weight and height. It provides a simple numeric measure of a person's thickness or thinness."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-800",children:"BMI Categories"}),h.jsxs("ul",{className:"text-sm space-y-1 mt-1",children:[h.jsx("li",{className:"text-blue-600",children:"Underweight: BMI less than 18.5"}),h.jsx("li",{className:"text-green-600",children:"Normal weight: BMI 18.5 to 24.9"}),h.jsx("li",{className:"text-yellow-600",children:"Overweight: BMI 25 to 29.9"}),h.jsx("li",{className:"text-red-600",children:"Obesity: BMI 30 or greater"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-800",children:"Limitations"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"BMI is a screening tool, not a diagnostic tool. It doesn't account for factors like muscle mass, bone density, or body composition. Always consult with healthcare professionals for a comprehensive health assessment."})]}),h.jsx("div",{className:"pt-2",children:h.jsxs(it,{to:"/health-insights",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-800",children:["View more health insights",h.jsx(Fr,{className:"ml-1 h-4 w-4"})]})})]})]})]})]})]})},oX=()=>{var T;const{currentUser:n}=xn(),[e,t]=F.useState("pcos"),[r,s]=F.useState({}),[i,a]=F.useState(null),[l,c]=F.useState(!1),d=[{id:"pcos",name:"PCOS Risk Assessment",description:"Evaluate your risk for Polycystic Ovary Syndrome",image:"https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"pcod",name:"PCOD Risk Assessment",description:"Check your risk for Polycystic Ovarian Disease",image:"https://images.unsplash.com/photo-1579684385127-1ef15d508118?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"breast_cancer",name:"Breast Cancer Risk Assessment",description:"Early detection screening questionnaire",image:"https://images.unsplash.com/photo-1576765608535-5f04d1e3f289?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"}],f=[{id:"irregular_periods",text:"Do you have irregular menstrual periods?",category:"pcos",weight:2},{id:"weight_gain",text:"Have you experienced unexplained weight gain or difficulty losing weight?",category:"pcos",weight:1.5},{id:"acne",text:"Do you have persistent acne?",category:"pcos",weight:1},{id:"hair_growth",text:"Do you have excessive hair growth on face, chest, or other areas?",category:"pcos",weight:1.5},{id:"hair_loss",text:"Have you experienced hair thinning or male-pattern baldness?",category:"pcos",weight:1},{id:"pelvic_pain",text:"Do you experience pelvic pain during menstruation?",category:"pcod",weight:2},{id:"mood_swings",text:"Do you have severe mood swings before or during periods?",category:"pcod",weight:1},{id:"fatigue",text:"Do you experience unusual fatigue or low energy?",category:"pcod",weight:1.5},{id:"skin_darkening",text:"Have you noticed darkening of skin in certain areas?",category:"pcod",weight:1},{id:"breast_lump",text:"Have you noticed any lumps in your breasts?",category:"breast_cancer",weight:3},{id:"breast_changes",text:"Have you noticed any changes in breast size or shape?",category:"breast_cancer",weight:2},{id:"nipple_discharge",text:"Have you experienced any unusual nipple discharge?",category:"breast_cancer",weight:2},{id:"breast_pain",text:"Do you have persistent breast pain?",category:"breast_cancer",weight:1.5}],p=(P,C)=>{s(D=>({...D,[P]:C}))},v=()=>{c(!0);const P=f.filter(U=>U.category===e),C=P.reduce((U,M)=>U+M.weight,0),B=P.reduce((U,M)=>U+(r[M.id]?M.weight:0),0)/C*100,L=b(e,B);a({category:e,score:B,recommendations:L}),c(!1)},b=(P,C)=>{const D=["Schedule regular check-ups with your healthcare provider","Maintain a healthy diet and exercise routine","Keep track of your symptoms and changes"];return C>70?["Consult a healthcare provider immediately","Consider comprehensive medical screening",...D]:C>40?["Schedule a consultation with a healthcare provider","Monitor your symptoms closely",...D]:["Continue with routine health screenings","Maintain awareness of any changes",...D]},x=P=>P>=70?{text:"High Risk",color:"text-red-600",bg:"bg-red-100"}:P>=40?{text:"Moderate Risk",color:"text-yellow-600",bg:"bg-yellow-100"}:{text:"Low Risk",color:"text-green-600",bg:"bg-green-100"},w=()=>{s({}),a(null)};return h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(fi,{className:"h-6 w-6 text-red-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Health Risk Assessment"})]}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Early detection is key. Complete this assessment to understand your health risks."})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:d.map(P=>h.jsxs("div",{onClick:()=>{t(P.id),w()},className:`bg-white shadow rounded-lg overflow-hidden cursor-pointer transition-transform hover:scale-105 ${e===P.id?"ring-2 ring-red-500":""}`,children:[h.jsx("div",{className:"h-48 overflow-hidden",children:h.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:P.name}),h.jsx("p",{className:"text-gray-600 mt-2",children:P.description})]})]},P.id))}),i?h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Assessment Results"}),h.jsx("button",{onClick:w,className:"text-gray-600 hover:text-gray-800",children:"Start Over"})]}),h.jsxs("div",{className:`p-6 rounded-lg ${x(i.score).bg}`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Risk Level"}),h.jsx("p",{className:`text-2xl font-bold ${x(i.score).color}`,children:x(i.score).text})]}),h.jsxs("div",{className:"text-4xl font-bold text-gray-800",children:[Math.round(i.score),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:h.jsx("div",{className:`h-2 rounded-full ${i.score>=70?"bg-red-600":i.score>=40?"bg-yellow-600":"bg-green-600"}`,style:{width:`${i.score}%`}})}),h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:"flex items-center mb-3",children:[h.jsx(Au,{className:"h-5 w-5 text-red-600 mr-2"}),h.jsx("h3",{className:"font-medium text-gray-800",children:"Recommendations"})]}),h.jsx("ul",{className:"space-y-2",children:i.recommendations.map((P,C)=>h.jsxs("li",{className:"flex items-start",children:[h.jsx(Fr,{className:"h-4 w-4 text-red-600 mt-1 mr-2 flex-shrink-0"}),h.jsx("span",{className:"text-gray-700",children:P})]},C))})]}),h.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:h.jsx("p",{className:"text-gray-600 text-sm",children:"This assessment is for informational purposes only and should not be considered as medical advice. Always consult with a healthcare professional for proper diagnosis and treatment."})})]})]}):h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:(T=d.find(P=>P.id===e))==null?void 0:T.name}),h.jsx("div",{className:"space-y-6",children:f.filter(P=>P.category===e).map(P=>h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("p",{className:"text-gray-800 mb-3",children:P.text}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("button",{onClick:()=>p(P.id,!0),className:`px-4 py-2 rounded-md ${r[P.id]===!0?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Yes"}),h.jsx("button",{onClick:()=>p(P.id,!1),className:`px-4 py-2 rounded-md ${r[P.id]===!1?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"No"})]})]},P.id))}),h.jsx("button",{onClick:v,disabled:l||Object.keys(r).length===0,className:"mt-6 bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-md flex items-center disabled:opacity-50",children:l?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Calculating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(tr,{className:"h-4 w-4 mr-2"}),"Calculate Risk"]})})]})]})},vr=n=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(n*83),lX=()=>{const{currentUser:n}=xn(),[e,t]=F.useState([]),[r,s]=F.useState([]),[i,a]=F.useState(!0),[l,c]=F.useState(""),[d,f]=F.useState("all"),[p,v]=F.useState({}),b=[{id:"all",name:"All Products"},{id:"menstrual",name:"Menstrual Products"},{id:"supplements",name:"Supplements"},{id:"skincare",name:"Skincare"},{id:"wellness",name:"Wellness"},{id:"books",name:"Books & Education"}];F.useEffect(()=>{x()},[]),F.useEffect(()=>{w()},[l,d,e]);const x=async()=>{try{a(!0);const D=br(yn(at,"products"),Cn("inStock","==",!0),oi("name")),B=await _r(D),L=[];B.forEach(U=>{const M=U.data();L.push({...M,id:U.id})}),t(L),s(L)}catch(D){console.error("Error fetching products:",D);const B=[{id:"1",name:"Organic Cotton Pads",description:"Eco-friendly, chemical-free cotton pads for a comfortable period.",price:8.99,images:["https://shorturl.at/cqWYX","https://tinyurl.com/3fvzxzk7","https://tinyurl.com/3yjfujfw"],category:"menstrual",tags:["organic","eco-friendly","pads"],inStock:!0,rating:4.8},{id:"2",name:"Menstrual Cup",description:"Reusable silicone menstrual cup for up to 12 hours of protection.",price:24.99,images:["https://tinyurl.com/4nkz9n9a","https://tinyurl.com/ywzevxut","https://tinyurl.com/3cucmxj3"],category:"menstrual",tags:["reusable","eco-friendly","cup"],inStock:!0,rating:4.7},{id:"3",name:"Iron & Vitamin B Complex",description:"Supplement to support energy levels and reduce fatigue during menstruation.",price:19.99,images:["https://tinyurl.com/5h5p8tae","https://tinyurl.com/5xurwwmf","https://tinyurl.com/yjzjn2zy"],category:"supplements",tags:["iron","vitamins","energy"],inStock:!0,rating:4.5},{id:"4",name:"PCOS Support Supplement",description:"Natural supplement to help manage PCOS symptoms and support hormonal balance.",price:29.99,images:["https://tinyurl.com/435h4t3c","https://tinyurl.com/wadjzrpy","https://tinyurl.com/3kk83tyv"],category:"supplements",tags:["pcos","hormonal balance","natural"],inStock:!0,rating:4.6},{id:"5",name:"Heating Pad",description:"Electric heating pad for menstrual cramp relief with multiple heat settings.",price:34.99,images:["https://tinyurl.com/y63upfbh","https://tinyurl.com/5axh9y5s","https://tinyurl.com/h43ubx38"],category:"wellness",tags:["pain relief","cramps","heat therapy"],inStock:!0,rating:4.9},{id:"6",name:"Period Tracking Journal",description:"Beautiful journal designed to track your cycle, symptoms, and mood.",price:14.99,images:["https://tinyurl.com/4xx23wsb","https://tinyurl.com/ys5d9axz","https://tinyurl.com/2s3ct5zc"],category:"books",tags:["journal","tracking","self-care"],inStock:!0,rating:4.4},{id:"7",name:"Acne Treatment Serum",description:"Targeted treatment for hormonal acne with salicylic acid and tea tree oil.",price:22.99,images:["https://tinyurl.com/487hfecn","https://tinyurl.com/59h2xd4v","https://tinyurl.com/nh2jspjp"],category:"skincare",tags:["acne","hormonal","treatment"],inStock:!0,rating:4.3},{id:"8",name:"Period Underwear",description:"Absorbent, leak-proof underwear that can replace pads and tampons.",price:32.99,images:["https://tinyurl.com/cztwzj9s","https://tinyurl.com/37j9bcep","https://tinyurl.com/3vzjtjhj"],category:"menstrual",tags:["reusable","eco-friendly","underwear"],inStock:!0,rating:4.7}];t(B),s(B)}finally{a(!1)}},w=()=>{let D=[...e];l&&(D=D.filter(B=>B.name.toLowerCase().includes(l.toLowerCase())||B.description.toLowerCase().includes(l.toLowerCase())||B.tags.some(L=>L.toLowerCase().includes(l.toLowerCase())))),d!=="all"&&(D=D.filter(B=>B.category===d)),s(D)},T=D=>{c(D.target.value)},P=D=>{f(D)},C=async(D,B)=>{if(D.preventDefault(),!n){rn.error("Please login to add items to cart");return}try{v(M=>({...M,[B.id]:!0}));const L=us(at,"carts",n.uid),U={productId:B.id,quantity:1,price:B.price,name:B.name,imageUrl:B.images[0],addedAt:new Date};await tw(L,{userId:n.uid,items:Dz(U),updatedAt:new Date},{merge:!0}),rn.success("Added to cart!")}catch(L){console.error("Error adding to cart:",L),rn.error("Failed to add to cart")}finally{v(L=>({...L,[B.id]:!1}))}};return i?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(pu,{className:"h-6 w-6 text-red-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Shop"})]}),h.jsx("p",{className:"text-gray-600",children:"Browse and purchase menstrual products, supplements, and women's health essentials."})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sticky top-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(jI,{className:"h-5 w-5 text-red-600 mr-2"}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search products...",value:l,onChange:T,className:"w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"}),h.jsx(jI,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(f$,{className:"h-5 w-5 text-red-600 mr-2"}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Categories"})]}),h.jsx("div",{className:"space-y-2",children:b.map(D=>h.jsx("button",{onClick:()=>P(D.id),className:`block w-full text-left px-3 py-2 rounded-md ${d===D.id?"bg-red-100 text-red-800 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:D.name},D.id))})]}),h.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:h.jsxs(it,{to:"/cart",className:"flex items-center text-red-600 hover:text-red-800",children:[h.jsx(hg,{className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"font-medium",children:"View Cart"})]})})]})}),h.jsx("div",{className:"lg:col-span-3",children:r.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(D=>{var B;return h.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 group relative",children:[h.jsx(it,{to:`/shop/product/${D.id}`,children:h.jsxs("div",{className:"relative h-48",children:[h.jsx(jh,{modules:[xg,WD,HD],navigation:{prevEl:`.prev-${D.id}`,nextEl:`.next-${D.id}`},pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"h-full group-hover:opacity-90 transition-opacity duration-300",children:D.images.map((L,U)=>h.jsx(Mh,{children:h.jsx("img",{src:L,alt:`${D.name} - View ${U+1}`,className:"w-full h-full object-cover"})},U))}),h.jsx("button",{className:`prev-${D.id} absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white/80 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300`,children:h.jsx(d$,{className:"h-4 w-4 text-gray-800"})}),h.jsx("button",{className:`next-${D.id} absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white/80 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300`,children:h.jsx(kp,{className:"h-4 w-4 text-gray-800"})})]})}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx(it,{to:`/shop/product/${D.id}`,children:h.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-red-600 transition-colors duration-300",children:D.name})}),h.jsx("span",{className:"font-bold text-red-600",children:vr(D.price)})]}),h.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",children:D.description}),h.jsxs("div",{className:"mt-3 flex items-center",children:[h.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((L,U)=>h.jsx("svg",{className:`h-4 w-4 ${U<Math.floor(D.rating||0)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},U)),h.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",(B=D.rating)==null?void 0:B.toFixed(1),")"]})]}),h.jsx("div",{className:"ml-auto flex flex-wrap gap-1",children:D.tags.slice(0,2).map(L=>h.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:L},L))})]}),h.jsx("button",{onClick:L=>C(L,D),disabled:p[D.id],className:"mt-4 w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md flex items-center justify-center transition-colors duration-300 disabled:opacity-50",children:p[D.id]?h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Adding..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ff,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})]})]},D.id)})}):h.jsx("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:h.jsx("p",{className:"text-gray-600",children:"No products found matching your criteria. Try adjusting your search or filters."})})})]})]})},cX=()=>{var B;const{id:n}=hk(),{currentUser:e}=xn(),[t,r]=F.useState(null),[s,i]=F.useState([]),[a,l]=F.useState(1),[c,d]=F.useState(!0),[f,p]=F.useState(!1),[v,b]=F.useState(null),[x,w]=F.useState("description");F.useEffect(()=>{n&&T(n)},[n]);const T=async L=>{try{d(!0);const U=await ll(us(at,"products",L));if(U.exists()){const M=U.data();r({...M,id:U.id}),P(M.category,L)}else r({id:L,name:"Organic Cotton Pads",description:"Eco-friendly, chemical-free cotton pads for a comfortable period. These pads are made from 100% organic cotton, free from chlorine, dyes, and synthetic materials. They provide excellent absorption while being gentle on your skin and the environment.",price:8.99,images:["https://shorturl.at/cqWYX","https://tinyurl.com/3fvzxzk7","https://tinyurl.com/3yjfujfw"],category:"menstrual",tags:["organic","eco-friendly","pads"],inStock:!0,rating:4.8,details:{ingredients:["100% Organic Cotton","Biodegradable materials"],usage:"Change every 4-6 hours or as needed",benefits:["Chemical-free and hypoallergenic","Excellent absorption","Eco-friendly and biodegradable","Soft and comfortable"],warnings:["For external use only","If irritation occurs, discontinue use"]}}),P("menstrual",L)}catch(U){console.error("Error fetching product:",U)}finally{d(!1)}},P=async(L,U)=>{try{const M=br(yn(at,"products"),Cn("category","==",L),Cn("inStock","==",!0)),I=await _r(M),N=[];I.forEach(j=>{if(j.id!==U){const A=j.data();N.push({...A,id:j.id})}}),i(N.slice(0,3)),N.length===0&&i([{id:"2",name:"Menstrual Cup",description:"Reusable silicone menstrual cup for up to 12 hours of protection.",price:24.99,images:["https://tinyurl.com/4nkz9n9a"],category:"menstrual",tags:["reusable","eco-friendly","cup"],inStock:!0,rating:4.7},{id:"8",name:"Period Underwear",description:"Absorbent, leak-proof underwear that can replace pads and tampons.",price:32.99,images:["https://tinyurl.com/cztwzj9s"],category:"menstrual",tags:["reusable","eco-friendly","underwear"],inStock:!0,rating:4.7}])}catch(M){console.error("Error fetching related products:",M)}},C=L=>{L>=1&&L<=10&&l(L)},D=async()=>{if(!(!e||!t))try{p(!0);const L=br(yn(at,"carts"),Cn("userId","==",e.uid)),U=await _r(L);if(U.empty)await og(yn(at,"carts"),{userId:e.uid,items:[{productId:t.id,quantity:a,price:t.price,name:t.name,imageUrl:t.images[0]}],updatedAt:new Date});else{const N=U.docs[0].data().items||[],j=N.findIndex(A=>A.productId===t.id);j>=0?N[j].quantity+=a:N.push({productId:t.id,quantity:a,price:t.price,name:t.name,imageUrl:t.images[0]}),await og(yn(at,"carts"),{userId:e.uid,items:N,updatedAt:new Date})}rn.success("Added to cart!")}catch(L){console.error("Error adding to cart:",L),rn.error("Failed to add to cart")}finally{p(!1)}};return c?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):t?h.jsxs("div",{children:[h.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(it,{to:"/shop",className:"text-gray-600 hover:text-gray-800 mr-2",children:h.jsx(mu,{className:"h-5 w-5"})}),h.jsx(pu,{className:"h-6 w-6 text-red-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Product Details"})]})}),h.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"mb-4",children:h.jsx(jh,{modules:[xg,$I,Q9],thumbs:{swiper:v},navigation:!0,zoom:!0,className:"h-80 rounded-lg",children:t.images.map((L,U)=>h.jsx(Mh,{children:h.jsx("div",{className:"swiper-zoom-container",children:h.jsx("img",{src:L,alt:`${t.name} - View ${U+1}`,className:"w-full h-full object-cover"})})},U))})}),h.jsx(jh,{onSwiper:b,modules:[xg,$I],watchSlidesProgress:!0,slidesPerView:4,spaceBetween:10,className:"h-20",children:t.images.map((L,U)=>h.jsx(Mh,{children:h.jsx("div",{className:"h-full cursor-pointer rounded-lg overflow-hidden border-2 border-transparent hover:border-red-500",children:h.jsx("img",{src:L,alt:`${t.name} - Thumbnail ${U+1}`,className:"w-full h-full object-cover"})})},U))})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:t.name}),h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((L,U)=>h.jsx("svg",{className:`h-5 w-5 ${U<Math.floor(t.rating||0)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},U)),h.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",(B=t.rating)==null?void 0:B.toFixed(1),")"]})]}),h.jsxs("span",{className:"ml-4 text-sm text-gray-500 capitalize",children:["Category: ",t.category]})]})]}),h.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500",children:h.jsx(fi,{className:"h-6 w-6"})})]}),h.jsx("div",{className:"text-2xl font-bold text-red-600 mb-4",children:vr(t.price)}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex space-x-4 mb-4",children:[h.jsx("button",{onClick:()=>w("description"),className:`px-4 py-2 rounded-md ${x==="description"?"bg-red-100 text-red-800":"text-gray-600 hover:bg-gray-100"}`,children:"Description"}),h.jsx("button",{onClick:()=>w("details"),className:`px-4 py-2 rounded-md ${x==="details"?"bg-red-100 text-red-800":"text-gray-600 hover:bg-gray-100"}`,children:"Details"}),h.jsx("button",{onClick:()=>w("reviews"),className:`px-4 py-2 rounded-md ${x==="reviews"?"bg-red-100 text-red-800":"text-gray-600 hover:bg-gray-100"}`,children:"Reviews"})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[x==="description"&&h.jsx("p",{className:"text-gray-700",children:t.description}),x==="details"&&t.details&&h.jsxs("div",{className:"space-y-4",children:[t.details.ingredients&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Ingredients"}),h.jsx("ul",{className:"list-disc list-inside text-gray-700",children:t.details.ingredients.map((L,U)=>h.jsx("li",{children:L},U))})]}),t.details.usage&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Usage Instructions"}),h.jsx("p",{className:"text-gray-700",children:t.details.usage})]}),t.details.benefits&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Benefits"}),h.jsx("ul",{className:"list-disc list-inside text-gray-700",children:t.details.benefits.map((L,U)=>h.jsx("li",{children:L},U))})]}),t.details.warnings&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Warnings"}),h.jsx("ul",{className:"list-disc list-inside text-gray-700",children:t.details.warnings.map((L,U)=>h.jsx("li",{children:L},U))})]})]}),x==="reviews"&&h.jsx("div",{className:"text-center py-4",children:h.jsx("p",{className:"text-gray-600",children:"Reviews coming soon!"})})]})]}),h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsx("span",{className:"text-gray-700 mr-4",children:"Quantity:"}),h.jsxs("div",{className:"flex items-center border rounded-md",children:[h.jsx("button",{onClick:()=>C(a-1),disabled:a<=1,className:"px-3 py-1 text-gray-600 hover:bg-gray-100 disabled:opacity-50",children:h.jsx(ID,{className:"h-4 w-4"})}),h.jsx("span",{className:"px-4 py-1 border-l border-r",children:a}),h.jsx("button",{onClick:()=>C(a+1),disabled:a>=10,className:"px-3 py-1 text-gray-600 hover:bg-gray-100 disabled:opacity-50",children:h.jsx(ff,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"flex items-center",children:h.jsx("button",{onClick:D,disabled:f,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-md flex items-center disabled:opacity-50",children:f?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Adding..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hg,{className:"h-5 w-5 mr-2"}),"Add to Cart"]})})}),h.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Tags"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(L=>h.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-3 py-1 rounded-full",children:L},L))})]})]})]})}),s.length>0&&h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Related Products"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(L=>h.jsxs(it,{to:`/shop/product/${L.id}`,className:"bg-white border rounded-lg overflow-hidden hover:shadow-md transition-shadow duration-300",children:[h.jsx("div",{className:"h-40 overflow-hidden",children:h.jsx("img",{src:L.images[0],alt:L.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:"text-md font-semibold text-gray-800",children:L.name}),h.jsx("span",{className:"font-bold text-red-600",children:vr(L.price)})]}),h.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-1",children:L.description})]})]},L.id))})]})]}):h.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[h.jsx("p",{className:"text-gray-600",children:"Product not found."}),h.jsxs(it,{to:"/shop",className:"mt-4 inline-flex items-center text-red-600 hover:text-red-800",children:[h.jsx(mu,{className:"h-4 w-4 mr-1"}),"Back to Shop"]})]})},uX=()=>{const{currentUser:n}=xn(),e=jl(),[t,r]=F.useState([]),[s,i]=F.useState(!0),[a,l]=F.useState(!1);F.useEffect(()=>{n?c():(i(!1),r([]))},[n]);const c=async()=>{try{if(i(!0),!(n!=null&&n.uid)){r([]);return}const w=us(at,"carts",n.uid),T=await ll(w);if(T.exists()){const P=T.data();r(P.items||[])}else r([])}catch(w){console.error("Error fetching cart:",w),r([])}finally{i(!1)}},d=async(w,T)=>{if(!(!(n!=null&&n.uid)||a))try{l(!0);const P=us(at,"carts",n.uid),C=await ll(P);if(!C.exists())return;const B=C.data().items.map(L=>L.productId===w?{...L,quantity:T}:L);await nw(P,{items:B,updatedAt:new Date}),r(B)}catch(P){console.error("Error updating cart item:",P)}finally{l(!1)}},f=async w=>{if(!(!(n!=null&&n.uid)||a))try{l(!0);const T=us(at,"carts",n.uid),P=await ll(T);if(!P.exists())return;const D=P.data().items.find(L=>L.productId===w);if(!D)return;await nw(T,{items:Rz(D),updatedAt:new Date});const B=await ll(T);B.exists()&&B.data().items.length===0&&await yD(T),r(L=>L.filter(U=>U.productId!==w))}catch(T){console.error("Error removing cart item:",T)}finally{l(!1)}},p=()=>t.reduce((w,T)=>w+T.price*T.quantity,0),v=()=>p()*.1,b=()=>p()+v(),x=()=>{e("/checkout")};return s?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):h.jsxs("div",{children:[h.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(hg,{className:"h-6 w-6 text-red-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Your Cart"})]})}),t.length>0?h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Cart Items (",t.length,")"]})}),h.jsx("div",{className:"divide-y divide-gray-200",children:t.map(w=>h.jsxs("div",{className:"p-6 flex flex-col sm:flex-row",children:[h.jsx("div",{className:"sm:w-24 h-24 flex-shrink-0 overflow-hidden rounded-md mb-4 sm:mb-0",children:h.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"sm:ml-6 flex-1",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-medium text-gray-800",children:h.jsx(it,{to:`/shop/product/${w.productId}`,className:"hover:text-red-600",children:w.name})}),h.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[vr(w.price)," each"]})]}),h.jsx("p",{className:"text-base font-medium text-gray-800",children:vr(w.price*w.quantity)})]}),h.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center border rounded-md",children:[h.jsx("button",{onClick:()=>d(w.productId,Math.max(1,w.quantity-1)),disabled:a||w.quantity<=1,className:"px-2 py-1 text-gray-600 hover:bg-gray-100 disabled:opacity-50",children:h.jsx(ID,{className:"h-4 w-4"})}),h.jsx("span",{className:"px-4 py-1 border-l border-r",children:w.quantity}),h.jsx("button",{onClick:()=>d(w.productId,Math.min(10,w.quantity+1)),disabled:a||w.quantity>=10,className:"px-2 py-1 text-gray-600 hover:bg-gray-100 disabled:opacity-50",children:h.jsx(ff,{className:"h-4 w-4"})})]}),h.jsx("button",{onClick:()=>f(w.productId),disabled:a,className:"text-red-600 hover:text-red-800 disabled:opacity-50",children:h.jsx(b$,{className:"h-5 w-5"})})]})]})]},w.productId))}),h.jsx("div",{className:"p-6 border-t border-gray-200",children:h.jsxs(it,{to:"/shop",className:"inline-flex items-center text-red-600 hover:text-red-800",children:[h.jsx(mu,{className:"h-4 w-4 mr-1"}),"Continue Shopping"]})})]})}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sticky top-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Summary"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Subtotal"}),h.jsx("span",{className:"text-gray-800",children:vr(p())})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Tax (10%)"}),h.jsx("span",{className:"text-gray-800",children:vr(v())})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4 flex justify-between font-semibold",children:[h.jsx("span",{className:"text-gray-800",children:"Total"}),h.jsx("span",{className:"text-red-600",children:vr(b())})]})]}),h.jsxs("button",{onClick:x,className:"mt-6 w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md flex items-center justify-center",children:["Proceed to Checkout",h.jsx(Fr,{className:"h-4 w-4 ml-1"})]}),h.jsxs("div",{className:"mt-6 text-xs text-gray-500",children:[h.jsx("p",{children:"Shipping costs will be calculated at checkout."}),h.jsx("p",{className:"mt-1",children:"By proceeding to checkout, you agree to our terms and conditions."})]})]})})]}):h.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx(hg,{className:"h-16 w-16 text-gray-300"})}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Your cart is empty"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added any products to your cart yet."}),h.jsxs(it,{to:"/shop",className:"inline-flex items-center bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md",children:[h.jsx(mu,{className:"h-4 w-4 mr-1"}),"Start Shopping"]})]})]})},dX=n=>new Promise((e,t)=>{const r=document.createElement("script");r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>{e(!0)},r.onerror=()=>{t(!1)},document.body.appendChild(r)}),hX=async(n,e,t)=>{if(!await dX()){alert("Razorpay SDK failed to load");return}const s={key:void 0,amount:n*100,currency:"INR",name:"IRA Health",description:"Women's Health Products",order_id:e,handler:function(a){t()},prefill:{name:"User Name",email:"user@example.com",contact:"9999999999"},theme:{color:"#9333EA"}};new window.Razorpay(s).open()},fX=()=>{const{currentUser:n,userProfile:e}=xn(),t=jl(),[r,s]=F.useState([]),[i,a]=F.useState(null),[l,c]=F.useState(!0),[d,f]=F.useState(!1),[p,v]=F.useState(1),[b,x]=F.useState("credit_card"),[w,T]=F.useState({fullName:(e==null?void 0:e.name)||"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"United States",phone:""}),[P,C]=F.useState({cardNumber:"",cardholderName:"",expiryDate:"",cvv:""});F.useEffect(()=>{n&&D()},[n]);const D=async()=>{try{c(!0);const G=br(yn(at,"carts"),Cn("userId","==",n==null?void 0:n.uid)),J=await _r(G);if(J.empty)s([]),a(null);else{const ie=J.docs[0],ue=ie.data();s(ue.items||[]),a(ie.id)}}catch(G){console.error("Error fetching cart:",G),s([{productId:"1",name:"Organic Cotton Pads",price:8.99,quantity:2,imageUrl:"https://images.unsplash.com/photo-1628259212737-9f64a8e0d29f?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},{productId:"3",name:"Iron & Vitamin B Complex",price:19.99,quantity:1,imageUrl:"https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"}]),a("sample-cart-id")}finally{c(!1)}},B=()=>r.reduce((G,J)=>G+J.price*J.quantity,0),L=()=>B()*.1,U=()=>5.99,M=()=>B()+L()+U(),I=G=>{const{name:J,value:ie}=G.target;T(ue=>({...ue,[J]:ie}))},N=G=>{const{name:J,value:ie}=G.target;C(ue=>({...ue,[J]:ie}))},j=()=>w.fullName&&w.addressLine1&&w.city&&w.state&&w.postalCode&&w.country&&w.phone,A=()=>b==="credit_card"?P.cardNumber&&P.cardholderName&&P.expiryDate&&P.cvv:!0,O=async()=>{p===1?j()&&v(2):A()&&await R()},R=async()=>{if(!(!n||!i))try{f(!0);const G={userId:n.uid,items:r,total:M(),status:"pending",shippingAddress:w,paymentMethod:b,createdAt:new Date,updatedAt:new Date},J=`order_${Date.now()}`;await hX(M(),J,async()=>{i!=="sample-cart-id"&&await yD(us(at,"carts",i)),t("/order-success/demo-order-id")})}catch(G){console.error("Error placing order:",G)}finally{f(!1)}};return l?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):r.length===0?h.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[h.jsx("p",{className:"text-gray-600 mb-4",children:"Your cart is empty. Add some products before checkout."}),h.jsxs(it,{to:"/shop",className:"inline-flex items-center bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md",children:[h.jsx(pu,{className:"h-4 w-4 mr-1"}),"Continue Shopping"]})]}):h.jsxs("div",{children:[h.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(pu,{className:"h-6 w-6 text-red-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Checkout"})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-red-600 text-white font-semibold mr-3",children:"1"}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Shipping Information"}),p>1&&h.jsx(Dh,{className:"ml-2 h-5 w-5 text-green-600"})]})}),p===1&&h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),h.jsx("input",{type:"text",id:"fullName",name:"fullName",value:w.fullName,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),h.jsx("input",{type:"tel",id:"phone",name:"phone",value:w.phone,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),h.jsx("input",{type:"text",id:"addressLine1",name:"addressLine1",value:w.addressLine1,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"addressLine2",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2 (Optional)"}),h.jsx("input",{type:"text",id:"addressLine2",name:"addressLine2",value:w.addressLine2,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),h.jsx("input",{type:"text",id:"city",name:"city",value:w.city,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State/Province *"}),h.jsx("input",{type:"text",id:"state",name:"state",value:w.state,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),h.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:w.postalCode,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),h.jsxs("select",{id:"country",name:"country",value:w.country,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0,children:[h.jsx("option",{value:"United States",children:"United States"}),h.jsx("option",{value:"Canada",children:"Canada"}),h.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),h.jsx("option",{value:"Australia",children:"Australia"}),h.jsx("option",{value:"Germany",children:"Germany"}),h.jsx("option",{value:"France",children:"France"})]})]})]}),h.jsxs("div",{className:"mt-6 bg-gray-50 p-4 rounded-md",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(aw,{className:"h-5 w-5 text-gray-600 mr-2"}),h.jsx("h3",{className:"text-base font-medium text-gray-800",children:"Shipping Method"})]}),h.jsx("div",{className:"mt-3",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"standard-shipping",name:"shipping-method",type:"radio",defaultChecked:!0,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),h.jsx("label",{htmlFor:"standard-shipping",className:"ml-3 block text-sm font-medium text-gray-700",children:"Standard Shipping (5-7 business days)"}),h.jsx("span",{className:"ml-auto font-medium",children:vr(5.99)})]})})]})]}),h.jsx("div",{className:"p-6 border-t border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-red-600 text-white font-semibold mr-3",children:"2"}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Payment Method"}),p>2&&h.jsx(Dh,{className:"ml-2 h-5 w-5 text-green-600"})]})}),p===2&&h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"credit-card",name:"payment-method",type:"radio",checked:b==="credit_card",onChange:()=>x("credit_card"),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),h.jsx("label",{htmlFor:"credit-card",className:"ml-3 block text-sm font-medium text-gray-700",children:"Credit Card"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"paypal",name:"payment-method",type:"radio",checked:b==="paypal",onChange:()=>x("paypal"),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),h.jsx("label",{htmlFor:"paypal",className:"ml-3 block text-sm font-medium text-gray-700",children:"PayPal"})]})]}),b==="credit_card"&&h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),h.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",value:P.cardNumber,onChange:N,placeholder:"1234 5678 9012 3456",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"cardholderName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),h.jsx("input",{type:"text",id:"cardholderName",name:"cardholderName",value:P.cardholderName,onChange:N,placeholder:"John Doe",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),h.jsx("input",{type:"text",id:"expiryDate",name:"expiryDate",value:P.expiryDate,onChange:N,placeholder:"MM/YY",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),h.jsx("input",{type:"text",id:"cvv",name:"cvv",value:P.cvv,onChange:N,placeholder:"123",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50",required:!0})]})]})]}),h.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"This is a demo application. No actual payment will be processed."})]}),b==="paypal"&&h.jsxs("div",{className:"border p-4 rounded-md",children:[h.jsx("p",{className:"text-gray-600",children:'You will be redirected to PayPal to complete your payment after clicking "Place Order".'}),h.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"This is a demo application. No actual payment will be processed."})]})]}),h.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-between",children:[p===1?h.jsxs(it,{to:"/cart",className:"inline-flex items-center text-gray-600 hover:text-gray-800",children:[h.jsx(mu,{className:"h-4 w-4 mr-1"}),"Back to Cart"]}):h.jsxs("button",{onClick:()=>v(1),className:"inline-flex items-center text-gray-600 hover:text-gray-800",children:[h.jsx(mu,{className:"h-4 w-4 mr-1"}),"Back to Shipping"]}),h.jsx("button",{onClick:O,disabled:d||p===1&&!j()||p===2&&!A(),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-md flex items-center disabled:opacity-50",children:d?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Processing..."]}):p===1?"Continue to Payment":"Place Order"})]})]})}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sticky top-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Summary"}),h.jsx("div",{className:"max-h-60 overflow-y-auto mb-4",children:r.map(G=>h.jsxs("div",{className:"flex items-center py-2 border-b border-gray-200 last:border-b-0",children:[h.jsx("div",{className:"h-12 w-12 flex-shrink-0 overflow-hidden rounded-md",children:h.jsx("img",{src:G.imageUrl,alt:G.name,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"ml-4 flex-1",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-800",children:G.name}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",G.quantity]})]}),h.jsx("p",{className:"text-sm font-medium text-gray-800",children:vr(G.price*G.quantity)})]},G.productId))}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Subtotal"}),h.jsx("span",{className:"text-gray-800",children:vr(B())})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Tax (10%)"}),h.jsx("span",{className:"text-gray-800",children:vr(L())})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Shipping"}),h.jsx("span",{className:"text-gray-800",children:vr(U())})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2 flex justify-between font-semibold",children:[h.jsx("span",{className:"text-gray-800",children:"Total"}),h.jsx("span",{className:"text-red-600",children:vr(M())})]})]}),h.jsxs("div",{className:"mt-6 text-xs text-gray-500",children:[h.jsx("p",{children:"By placing your order, you agree to our terms and conditions and privacy policy."}),h.jsx("p",{className:"mt-2",children:"All transactions are secure and encrypted."})]})]})})]})]})},mX=()=>{const{id:n}=hk(),{currentUser:e,userProfile:t}=xn(),[r,s]=F.useState(null),[i,a]=F.useState(!0);F.useEffect(()=>{e&&n&&l()},[e,n]);const l=async()=>{try{if(a(!0),n==="demo-order-id"){const d={id:"demo-order-id",userId:(e==null?void 0:e.uid)||"demo-user",items:[{productId:"1",name:"Organic Cotton Pads",price:8.99,quantity:2,imageUrl:"https://images.unsplash.com/photo-1628259212737-9f64a8e0d29f?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},{productId:"3",name:"Iron & Vitamin B Complex",price:19.99,quantity:1,imageUrl:"https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"}],total:43.97,status:"pending",shippingAddress:{fullName:(t==null?void 0:t.name)||"Jane Doe",addressLine1:"123 Main St",city:"Anytown",state:"CA",postalCode:"12345",country:"United States",phone:"555-123-4567"},paymentMethod:"credit_card",paymentId:"demo-payment-123",createdAt:new Date,updatedAt:new Date};s(d)}else{const d=await ll(us(at,"orders",n));if(d.exists()){const f=d.data();s({...f,id:d.id})}else console.error("Order not found")}}catch(d){console.error("Error fetching order:",d)}finally{a(!1)}},c=()=>{const d=new Date,f=new Date(d);return f.setDate(d.getDate()+5),f.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})};return i?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):r?h.jsxs("div",{children:[h.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(kI,{className:"h-8 w-8 text-green-600 mr-3"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Confirmed!"}),h.jsx("p",{className:"text-gray-600",children:"Thank you for your purchase."})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Order Details"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Order Number"}),h.jsx("p",{className:"font-medium",children:r.id.substring(0,8).toUpperCase()})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),h.jsx("p",{className:"font-medium",children:new Date(r.createdAt).toLocaleDateString()})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),h.jsx("p",{className:"font-medium capitalize",children:r.status})]})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[h.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Items"}),h.jsx("div",{className:"space-y-4",children:r.items.map(d=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md",children:h.jsx("img",{src:d.imageUrl,alt:d.name,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"ml-4 flex-1",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-800",children:d.name}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",d.quantity]})]}),h.jsxs("p",{className:"text-sm font-medium text-gray-800",children:["$",(d.price*d.quantity).toFixed(2)]})]},d.productId))})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[h.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[h.jsx("span",{className:"text-gray-600",children:"Subtotal"}),h.jsxs("span",{className:"text-gray-800",children:["$",r.items.reduce((d,f)=>d+f.price*f.quantity,0).toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[h.jsx("span",{className:"text-gray-600",children:"Tax"}),h.jsxs("span",{className:"text-gray-800",children:["$",(r.total-r.items.reduce((d,f)=>d+f.price*f.quantity,0)-5.99).toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[h.jsx("span",{className:"text-gray-600",children:"Shipping"}),h.jsx("span",{className:"text-gray-800",children:"$5.99"})]}),h.jsxs("div",{className:"flex justify-between font-semibold text-base pt-2 border-t border-gray-200 mt-2",children:[h.jsx("span",{className:"text-gray-800",children:"Total"}),h.jsxs("span",{className:"text-red-600",children:["$",r.total.toFixed(2)]})]})]})]})]}),h.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Shipping Information"})}),h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center mb-3",children:[h.jsx(e_,{className:"h-5 w-5 text-gray-600 mr-2"}),h.jsx("h3",{className:"font-medium text-gray-800",children:"Shipping Address"})]}),h.jsxs("div",{className:"text-gray-600",children:[h.jsx("p",{children:r.shippingAddress.fullName}),h.jsx("p",{children:r.shippingAddress.addressLine1}),r.shippingAddress.addressLine2&&h.jsx("p",{children:r.shippingAddress.addressLine2}),h.jsxs("p",{children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.postalCode]}),h.jsx("p",{children:r.shippingAddress.country}),h.jsxs("p",{className:"mt-1",children:["Phone: ",r.shippingAddress.phone]})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center mb-3",children:[h.jsx(y$,{className:"h-5 w-5 text-gray-600 mr-2"}),h.jsx("h3",{className:"font-medium text-gray-800",children:"Shipping Method"})]}),h.jsx("p",{className:"text-gray-600",children:"Standard Shipping"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"$5.99"}),h.jsxs("div",{className:"flex items-center mt-4 mb-3",children:[h.jsx(Nn,{className:"h-5 w-5 text-gray-600 mr-2"}),h.jsx("h3",{className:"font-medium text-gray-800",children:"Estimated Delivery"})]}),h.jsx("p",{className:"text-gray-600",children:c()})]})]})})]})]}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sticky top-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(kI,{className:"h-6 w-6 text-green-600 mr-2"}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Thank You!"})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Your order has been confirmed and will be shipped soon. We'll send you a shipping confirmation email once your order has been shipped."}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(it,{to:"/",className:"block w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md text-center",children:"Return to Dashboard"}),h.jsx(it,{to:"/shop",className:"block w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-4 rounded-md text-center",children:"Continue Shopping"})]}),h.jsxs("div",{className:"mt-6 text-center",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Questions about your order?"}),h.jsx("a",{href:"#",className:"text-sm font-medium text-red-600 hover:text-red-800",children:"Contact Customer Support"})]})]})})]})]}):h.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[h.jsx("p",{className:"text-gray-600",children:"Order not found."}),h.jsxs(it,{to:"/shop",className:"mt-4 inline-flex items-center text-red-600 hover:text-red-800",children:[h.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Continue Shopping"]})]})},pX=()=>{const{currentUser:n}=xn(),[e,t]=F.useState([]),[r,s]=F.useState([]),[i,a]=F.useState(!0),[l,c]=F.useState(!1),[d,f]=F.useState({doctorId:"",date:"",time:"",virtual:!0,notes:""}),[p,v]=F.useState(!1),[b,x]=F.useState(""),[w,T]=F.useState("");F.useEffect(()=>{n&&(P(),C())},[n]);const P=async()=>{try{a(!0);const A=br(yn(at,"appointments"),Cn("userId","==",n==null?void 0:n.uid),oi("date","asc")),O=await _r(A),R=[];O.forEach(G=>{const J=G.data();R.push({...J,id:G.id})}),t(R)}catch(A){console.error("Error fetching appointments:",A);const O=new Date,R=new Date(O);R.setDate(O.getDate()+1);const G=new Date(O);G.setDate(O.getDate()+7);const J=[{id:"1",userId:(n==null?void 0:n.uid)||"sample-user",doctorId:"1",doctorName:"Dr. Sarah Johnson",specialization:"Gynecologist",date:G.toISOString().split("T")[0],time:"10:00 AM",status:"scheduled",virtual:!0,meetingLink:"https://meet.example.com/dr-sarah"},{id:"2",userId:(n==null?void 0:n.uid)||"sample-user",doctorId:"3",doctorName:"Dr. Emily Chen",specialization:"Nutritionist",date:R.toISOString().split("T")[0],time:"2:30 PM",status:"scheduled",virtual:!1}];t(J)}finally{a(!1)}},C=async()=>{try{const A=br(yn(at,"doctors"),Cn("available","==",!0)),O=await _r(A),R=[];O.forEach(G=>{const J=G.data();R.push({...J,id:G.id})}),s(R),R.length>0&&f(G=>({...G,doctorId:R[0].id}))}catch(A){console.error("Error fetching doctors:",A);const O=[{id:"1",name:"Dr. Sarah Johnson",specialization:"Gynecologist",experience:12,rating:4.8,photoURL:"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80",availability:{"2025-06-15":["9:00 AM","10:00 AM","11:00 AM","2:00 PM"],"2025-06-16":["10:00 AM","11:00 AM","3:00 PM","4:00 PM"],"2025-06-17":["9:00 AM","1:00 PM","2:00 PM","3:00 PM"]}},{id:"2",name:"Dr. Michael Rodriguez",specialization:"Endocrinologist",experience:15,rating:4.7,photoURL:"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80",availability:{"2025-06-15":["10:00 AM","11:00 AM","1:00 PM"],"2025-06-16":["9:00 AM","10:00 AM","4:00 PM"],"2025-06-18":["11:00 AM","1:00 PM","2:00 PM"]}},{id:"3",name:"Dr. Emily Chen",specialization:"Nutritionist",experience:8,rating:4.9,photoURL:"https://images.unsplash.com/photo-1594824476967-48c8b964273f?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80",availability:{"2025-06-15":["9:00 AM","10:00 AM","2:00 PM","3:00 PM"],"2025-06-17":["10:00 AM","11:00 AM","1:00 PM","2:00 PM"],"2025-06-19":["9:00 AM","10:00 AM","11:00 AM","3:00 PM"]}}];s(O),O.length>0&&f(R=>({...R,doctorId:O[0].id}))}},D=A=>{const{name:O,value:R}=A.target;f({...d,[O]:R})},B=A=>{const{name:O,checked:R}=A.target;f({...d,[O]:R})},L=async A=>{if(A.preventDefault(),!!n){if(!d.doctorId||!d.date||!d.time){x("Please fill in all required fields");return}try{v(!0),x("");const O=r.find(G=>G.id===d.doctorId);if(!O){x("Selected doctor not found");return}const R={userId:n.uid,doctorId:d.doctorId,doctorName:O.name,specialization:O.specialization,date:d.date,time:d.time,status:"scheduled",notes:d.notes,virtual:d.virtual,meetingLink:d.virtual?`https://meet.example.com/${d.doctorId}`:void 0};await og(yn(at,"appointments"),R),f({doctorId:"",date:"",time:"",virtual:!0,notes:""}),T("Appointment scheduled successfully!"),setTimeout(()=>{T(""),c(!1)},3e3),P()}catch(O){console.error("Error scheduling appointment:",O),x("Failed to schedule appointment. Please try again.")}finally{v(!1)}}},U=async A=>{try{a(!0),await nw(us(at,"appointments",A),{status:"cancelled"}),P()}catch(O){console.error("Error cancelling appointment:",O)}finally{a(!1)}},M=()=>{if(!d.doctorId||!d.date)return[];const A=r.find(O=>O.id===d.doctorId);return A?A.availability[d.date]||[]:[]},I=()=>{if(!d.doctorId)return[];const A=r.find(O=>O.id===d.doctorId);return A?Object.keys(A.availability).sort():[]},N=(A,O)=>new Date(`${A}T${O}`)>new Date,j=A=>{const O={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(A).toLocaleDateString(void 0,O)};return i?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):h.jsxs("div",{children:[h.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(eo,{className:"h-6 w-6 text-green-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Appointments"})]}),h.jsx("button",{onClick:()=>c(!l),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:l?h.jsxs(h.Fragment,{children:[h.jsx(Rh,{className:"h-4 w-4 mr-1"}),"Cancel"]}):h.jsxs(h.Fragment,{children:[h.jsx(ff,{className:"h-4 w-4 mr-1"}),"Schedule Appointment"]})})]})}),l&&h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Schedule New Appointment"}),b&&h.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:b})}),w&&h.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:w})}),h.jsxs("form",{onSubmit:L,children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"doctorId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Doctor *"}),h.jsxs("select",{id:"doctorId",name:"doctorId",value:d.doctorId,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50",required:!0,children:[h.jsx("option",{value:"",children:"Select a doctor"}),r.map(A=>h.jsxs("option",{value:A.id,children:[A.name," - ",A.specialization]},A.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Date *"}),h.jsxs("select",{id:"date",name:"date",value:d.date,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50",required:!0,children:[h.jsx("option",{value:"",children:"Select a date"}),I().map(A=>h.jsx("option",{value:A,children:j(A)},A))]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Time *"}),h.jsxs("select",{id:"time",name:"time",value:d.time,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50",required:!0,children:[h.jsx("option",{value:"",children:"Select a time"}),M().map(A=>h.jsx("option",{value:A,children:A},A))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Appointment Type"}),h.jsxs("div",{className:"mt-2 space-y-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"virtual",name:"virtual",type:"checkbox",checked:d.virtual,onChange:B,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),h.jsx("label",{htmlFor:"virtual",className:"ml-2 block text-sm text-gray-700",children:"Virtual Appointment"})]}),d.virtual&&h.jsx("p",{className:"text-sm text-gray-500",children:"You will receive a meeting link via email before your appointment."}),!d.virtual&&h.jsx("p",{className:"text-sm text-gray-500",children:"In-person appointment at our clinic. Address details will be sent via email."})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),h.jsx("textarea",{id:"notes",name:"notes",value:d.notes,onChange:D,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring focus:ring-green-500 focus:ring-opacity-50",placeholder:"Briefly describe your reason for the appointment or any specific concerns..."})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"submit",disabled:p,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-md flex items-center disabled:opacity-50",children:p?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Scheduling..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Schedule Appointment"]})})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Appointments"})}),h.jsx("div",{className:"divide-y divide-gray-200",children:e.filter(A=>A.status==="scheduled"&&N(A.date,A.time)).length>0?e.filter(A=>A.status==="scheduled"&&N(A.date,A.time)).sort((A,O)=>new Date(A.date).getTime()-new Date(O.date).getTime()).map(A=>h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{className:"flex items-start",children:[h.jsx("div",{className:"mr-4 flex-shrink-0",children:h.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:h.jsx(Nn,{className:"h-8 w-8 text-green-600"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:A.doctorName}),h.jsx("p",{className:"text-gray-600",children:A.specialization}),h.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[h.jsx(Nn,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:j(A.date)})]}),h.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[h.jsx(eo,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:A.time})]}),h.jsx("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:A.virtual?h.jsxs(h.Fragment,{children:[h.jsx(A0,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:"Virtual Appointment"})]}):h.jsxs(h.Fragment,{children:[h.jsx(aw,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:"In-person Appointment"})]})})]})]}),h.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col items-start md:items-end",children:[A.virtual&&h.jsxs("a",{href:A.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center mb-2",children:[h.jsx(A0,{className:"h-4 w-4 mr-1"}),"Join Meeting"]}),h.jsx("button",{onClick:()=>U(A.id),className:"text-red-600 hover:text-red-800",children:"Cancel Appointment"})]})]}),A.notes&&h.jsx("div",{className:"mt-4 bg-gray-50 p-3 rounded-md",children:h.jsxs("p",{className:"text-sm text-gray-700",children:[h.jsx("span",{className:"font-medium",children:"Notes:"})," ",A.notes]})})]},A.id)):h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx(Nn,{className:"h-12 w-12 text-gray-300"})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"No upcoming appointments"}),h.jsx("p",{className:"text-gray-600",children:`You don't have any scheduled appointments. Click "Schedule Appointment" to book a consultation.`})]})})]}),h.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Past & Cancelled Appointments"})}),h.jsx("div",{className:"divide-y divide-gray-200",children:e.filter(A=>A.status==="cancelled"||A.status==="scheduled"&&!N(A.date,A.time)).length>0?e.filter(A=>A.status==="cancelled"||A.status==="scheduled"&&!N(A.date,A.time)).sort((A,O)=>new Date(O.date).getTime()-new Date(A.date).getTime()).map(A=>h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:h.jsxs("div",{className:"flex items-start",children:[h.jsx("div",{className:"mr-4 flex-shrink-0",children:h.jsx("div",{className:`h-16 w-16 rounded-full ${A.status==="cancelled"?"bg-red-100":"bg-gray-100"} flex items-center justify-center`,children:A.status==="cancelled"?h.jsx(Rh,{className:"h-8 w-8 text-red-600"}):h.jsx(Dh,{className:"h-8 w-8 text-gray-600"})})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:A.doctorName}),A.status==="cancelled"&&h.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Cancelled"})]}),h.jsx("p",{className:"text-gray-600",children:A.specialization}),h.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[h.jsx(Nn,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:j(A.date)})]}),h.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[h.jsx(eo,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:A.time})]}),h.jsx("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:A.virtual?h.jsxs(h.Fragment,{children:[h.jsx(A0,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:"Virtual Appointment"})]}):h.jsxs(h.Fragment,{children:[h.jsx(aw,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:"In-person Appointment"})]})})]})]})})},A.id)):h.jsx("div",{className:"p-6 text-center",children:h.jsx("p",{className:"text-gray-600",children:"No past or cancelled appointments."})})})]}),h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(Au,{className:"h-5 w-5 text-yellow-600 mr-2"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Important Information"})]}),h.jsxs("div",{className:"space-y-4 text-gray-600",children:[h.jsx("p",{children:"Please arrive 15 minutes before your scheduled in-person appointment time. For virtual appointments, ensure you have a stable internet connection and join the meeting 5 minutes early."}),h.jsx("p",{children:"If you need to cancel or reschedule, please do so at least 24 hours in advance to avoid any cancellation fees."}),h.jsx("p",{children:"For urgent medical concerns, please contact emergency services or visit your nearest emergency room."})]})]})]})]})},gX=()=>{const{currentUser:n}=xn(),[e,t]=F.useState(!0),[r,s]=F.useState([]),[i,a]=F.useState(null),[l,c]=F.useState(new Date().toISOString().split("T")[0]),[d,f]=F.useState("balanced"),[p,v]=F.useState([]),[b,x]=F.useState(2e3),[w,T]=F.useState(!1),P=[{id:"balanced",name:"Balanced Diet"},{id:"vegetarian",name:"Vegetarian"},{id:"vegan",name:"Vegan"},{id:"low_carb",name:"Low Carb"},{id:"high_protein",name:"High Protein"},{id:"keto",name:"Ketogenic"}],C=[{id:"weight_loss",name:"Weight Loss"},{id:"weight_gain",name:"Weight Gain"},{id:"maintenance",name:"Weight Maintenance"},{id:"pcos_management",name:"PCOS Management"},{id:"hormone_balance",name:"Hormone Balance"},{id:"energy_boost",name:"Energy Boost"},{id:"immune_support",name:"Immune Support"}];F.useEffect(()=>{n&&D()},[n]);const D=async()=>{try{t(!0);const I=br(yn(at,"mealPlans"),Cn("userId","==",n==null?void 0:n.uid),oi("startDate","desc"),sh(5)),N=await _r(I),j=[];N.forEach(A=>{const O=A.data();j.push({...O,id:A.id})}),s(j),j.length>0&&a(j[0])}catch(I){console.error("Error fetching meal plans:",I);const N=new Date,j=new Date(N);j.setDate(N.getDate()+6);const A={id:"sample-plan-1",userId:(n==null?void 0:n.uid)||"sample-user",startDate:N.toISOString().split("T")[0],endDate:j.toISOString().split("T")[0],targetCalories:2e3,dietType:"balanced",healthGoals:["weight_loss","energy_boost"],dailyPlans:{[N.toISOString().split("T")[0]]:{breakfast:{name:"Greek Yogurt Parfait",ingredients:["Greek yogurt","Mixed berries","Granola","Honey"],nutritionalInfo:{calories:350,protein:20,carbs:45,fat:10},imageUrl:"https://images.unsplash.com/photo-1488477181946-6428a0291777?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},lunch:{name:"Quinoa Salad with Grilled Chicken",ingredients:["Quinoa","Grilled chicken breast","Mixed greens","Cherry tomatoes","Cucumber","Olive oil","Lemon juice"],nutritionalInfo:{calories:450,protein:35,carbs:40,fat:15},imageUrl:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},dinner:{name:"Baked Salmon with Roasted Vegetables",ingredients:["Salmon fillet","Broccoli","Carrots","Red bell pepper","Olive oil","Garlic","Lemon"],nutritionalInfo:{calories:500,protein:40,carbs:25,fat:25},imageUrl:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},snacks:[{name:"Apple with Almond Butter",ingredients:["Apple","Almond butter"],nutritionalInfo:{calories:200,protein:5,carbs:25,fat:10}},{name:"Protein Smoothie",ingredients:["Protein powder","Banana","Almond milk","Spinach"],nutritionalInfo:{calories:250,protein:20,carbs:30,fat:5}}]}}};for(let O=1;O<7;O++){const R=new Date(N);R.setDate(N.getDate()+O);const G=R.toISOString().split("T")[0];A.dailyPlans[G]={breakfast:{name:O%2===0?"Avocado Toast with Eggs":"Oatmeal with Fruits and Nuts",ingredients:O%2===0?["Whole grain bread","Avocado","Eggs","Salt","Pepper"]:["Oats","Almond milk","Banana","Berries","Walnuts","Cinnamon"],nutritionalInfo:{calories:O%2===0?400:350,protein:O%2===0?20:10,carbs:O%2===0?30:50,fat:O%2===0?25:10},imageUrl:O%2===0?"https://images.unsplash.com/photo-1525351484163-7529414344d8?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":"https://images.unsplash.com/photo-1517673132405-a56a62b18caf?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},lunch:{name:O%3===0?"Mediterranean Wrap":O%3===1?"Lentil Soup with Whole Grain Bread":"Tuna Salad Sandwich",ingredients:O%3===0?["Whole wheat wrap","Hummus","Feta cheese","Cucumber","Tomato","Olives"]:O%3===1?["Lentils","Carrots","Celery","Onion","Garlic","Whole grain bread"]:["Tuna","Greek yogurt","Whole grain bread","Lettuce","Tomato"],nutritionalInfo:{calories:O%3===0?450:O%3===1?400:420,protein:O%3===0?20:O%3===1?25:30,carbs:O%3===0?50:O%3===1?45:40,fat:O%3===0?20:O%3===1?10:15},imageUrl:O%3===0?"https://images.unsplash.com/photo-1540914124281-342587941389?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":O%3===1?"https://images.unsplash.com/photo-1547592180-85f173990554?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":"https://images.unsplash.com/photo-1554433607-66b5efe9d304?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},dinner:{name:O%4===0?"Stir-Fried Tofu with Vegetables":O%4===1?"Grilled Chicken with Sweet Potato":O%4===2?"Turkey Meatballs with Zucchini Noodles":"Vegetable Curry with Brown Rice",ingredients:O%4===0?["Tofu","Broccoli","Bell peppers","Carrots","Soy sauce","Ginger","Garlic"]:O%4===1?["Chicken breast","Sweet potato","Asparagus","Olive oil","Herbs"]:O%4===2?["Ground turkey","Zucchini","Tomato sauce","Garlic","Italian herbs"]:["Chickpeas","Cauliflower","Spinach","Coconut milk","Curry powder","Brown rice"],nutritionalInfo:{calories:O%4===0?400:O%4===1?450:O%4===2?420:500,protein:O%4===0?25:O%4===1?40:O%4===2?35:20,carbs:O%4===0?30:O%4===1?35:O%4===2?20:60,fat:O%4===0?20:O%4===1?15:(O%4===2,20)},imageUrl:O%4===0?"https://images.unsplash.com/photo-1512058564366-18510be2db19?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":O%4===1?"https://images.unsplash.com/photo-1532550907401-a500c9a57435?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":O%4===2?"https://images.unsplash.com/photo-1529042410759-befb1204b468?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":"https://images.unsplash.com/photo-1455619452474-d2be8b1e70cd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},snacks:[{name:O%2===0?"Greek Yogurt with Berries":"Hummus with Vegetable Sticks",ingredients:O%2===0?["Greek yogurt","Mixed berries","Honey"]:["Hummus","Carrot sticks","Cucumber sticks","Bell pepper sticks"],nutritionalInfo:{calories:O%2===0?150:200,protein:O%2===0?15:8,carbs:O%2===0?20:25,fat:O%2===0?3:10}}]}}s([A]),a(A)}finally{t(!1)}},B=I=>{v(N=>N.includes(I)?N.filter(j=>j!==I):[...N,I])},L=async()=>{if(n)try{T(!0),setTimeout(async()=>{try{const I=new Date,N=new Date(I);N.setDate(I.getDate()+6);const j={userId:n.uid,startDate:I.toISOString().split("T")[0],endDate:N.toISOString().split("T")[0],targetCalories:b,dietType:d,healthGoals:p,dailyPlans:{}};for(let O=0;O<7;O++){const R=new Date(I);R.setDate(I.getDate()+O);const G=R.toISOString().split("T")[0];j.dailyPlans[G]={breakfast:{name:d==="vegan"?"Vegan Smoothie Bowl":"Protein Oatmeal",ingredients:d==="vegan"?["Banana","Berries","Plant milk","Chia seeds","Granola"]:["Oats","Protein powder","Almond milk","Banana","Peanut butter"],nutritionalInfo:{calories:350,protein:d==="vegan"?10:25,carbs:45,fat:12},imageUrl:d==="vegan"?"https://images.unsplash.com/photo-1494597564530-871f2b93ac55?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":"https://images.unsplash.com/photo-1495214783159-3503fd1b572d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},lunch:{name:d==="keto"?"Avocado Chicken Salad":"Quinoa Buddha Bowl",ingredients:d==="keto"?["Chicken breast","Avocado","Mixed greens","Olive oil","Lemon juice"]:["Quinoa","Roasted vegetables","Chickpeas","Tahini dressing"],nutritionalInfo:{calories:450,protein:30,carbs:d==="keto"?10:50,fat:d==="keto"?35:15},imageUrl:d==="keto"?"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},dinner:{name:d==="vegetarian"?"Vegetable Stir Fry with Tofu":"Grilled Salmon with Asparagus",ingredients:d==="vegetarian"?["Tofu","Broccoli","Bell peppers","Carrots","Brown rice","Soy sauce"]:["Salmon fillet","Asparagus","Lemon","Olive oil","Garlic"],nutritionalInfo:{calories:500,protein:35,carbs:d==="low_carb"?15:40,fat:20},imageUrl:d==="vegetarian"?"https://images.unsplash.com/photo-1512058564366-18510be2db19?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60":"https://images.unsplash.com/photo-1467003909585-2f8a72700288?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},snacks:[{name:d==="high_protein"?"Protein Shake":"Mixed Nuts",ingredients:d==="high_protein"?["Protein powder","Almond milk","Banana"]:["Almonds","Walnuts","Cashews"],nutritionalInfo:{calories:200,protein:d==="high_protein"?25:8,carbs:15,fat:d==="high_protein"?5:15}}]}}const A={...j,id:`new-plan-${Date.now()}`};s(O=>[A,...O]),a(A)}catch(I){console.error("Error generating meal plan:",I)}finally{T(!1)}},2e3)}catch(I){console.error("Error generating meal plan:",I),T(!1)}},U=(I,N)=>{const j=[];let A=new Date(I);const O=new Date(N);for(;A<=O;)j.push(A.toISOString().split("T")[0]),A.setDate(A.getDate()+1);return j},M=I=>{if(!i||!i.dailyPlans[I])return{calories:0,protein:0,carbs:0,fat:0};const N=i.dailyPlans[I];let j=0,A=0,O=0,R=0;return N.breakfast&&(j+=N.breakfast.nutritionalInfo.calories,A+=N.breakfast.nutritionalInfo.protein,O+=N.breakfast.nutritionalInfo.carbs,R+=N.breakfast.nutritionalInfo.fat),N.lunch&&(j+=N.lunch.nutritionalInfo.calories,A+=N.lunch.nutritionalInfo.protein,O+=N.lunch.nutritionalInfo.carbs,R+=N.lunch.nutritionalInfo.fat),N.dinner&&(j+=N.dinner.nutritionalInfo.calories,A+=N.dinner.nutritionalInfo.protein,O+=N.dinner.nutritionalInfo.carbs,R+=N.dinner.nutritionalInfo.fat),N.snacks&&N.snacks.forEach(G=>{j+=G.nutritionalInfo.calories,A+=G.nutritionalInfo.protein,O+=G.nutritionalInfo.carbs,R+=G.nutritionalInfo.fat}),{calories:j,protein:A,carbs:O,fat:R}};return e?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-500"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ap,{className:"h-6 w-6 text-yellow-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Diet Planner"})]}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Get personalized meal plans based on your health data and nutritional needs."})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:i?h.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Your Meal Plan"}),h.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(i.startDate).toLocaleDateString()," - ",new Date(i.endDate).toLocaleDateString()]})]}),h.jsx("div",{className:"mt-4 flex space-x-2 overflow-x-auto pb-2",children:U(i.startDate,i.endDate).map(I=>h.jsx("button",{onClick:()=>c(I),className:`px-4 py-2 rounded-md whitespace-nowrap ${l===I?"bg-yellow-100 text-yellow-800 font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:new Date(I).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},I))})]}),i.dailyPlans[l]?h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Breakfast"}),h.jsxs("div",{className:"flex",children:[i.dailyPlans[l].breakfast.imageUrl&&h.jsx("div",{className:"w-24 h-24 rounded-md overflow-hidden mr-4",children:h.jsx("img",{src:i.dailyPlans[l].breakfast.imageUrl,alt:i.dailyPlans[l].breakfast.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:i.dailyPlans[l].breakfast.name}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.dailyPlans[l].breakfast.ingredients.join(", ")}),h.jsxs("div",{className:"mt-2 flex space-x-3 text-xs",children:[h.jsxs("span",{className:"text-gray-700",children:[h.jsx("span",{className:"font-medium",children:i.dailyPlans[l].breakfast.nutritionalInfo.calories})," cal"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].breakfast.nutritionalInfo.protein,"g"]})," protein"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].breakfast.nutritionalInfo.carbs,"g"]})," carbs"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].breakfast.nutritionalInfo.fat,"g"]})," fat"]})]})]})]})]}),h.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Lunch"}),h.jsxs("div",{className:"flex",children:[i.dailyPlans[l].lunch.imageUrl&&h.jsx("div",{className:"w-24 h-24 rounded-md overflow-hidden mr-4",children:h.jsx("img",{src:i.dailyPlans[l].lunch.imageUrl,alt:i.dailyPlans[l].lunch.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:i.dailyPlans[l].lunch.name}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.dailyPlans[l].lunch.ingredients.join(", ")}),h.jsxs("div",{className:"mt-2 flex space-x-3 text-xs",children:[h.jsxs("span",{className:"text-gray-700",children:[h.jsx("span",{className:"font-medium",children:i.dailyPlans[l].lunch.nutritionalInfo.calories})," cal"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].lunch.nutritionalInfo.protein,"g"]})," protein"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].lunch.nutritionalInfo.carbs,"g"]})," carbs"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].lunch.nutritionalInfo.fat,"g"]})," fat"]})]})]})]})]}),h.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Dinner"}),h.jsxs("div",{className:"flex",children:[i.dailyPlans[l].dinner.imageUrl&&h.jsx("div",{className:"w-24 h-24 rounded-md overflow-hidden mr-4",children:h.jsx("img",{src:i.dailyPlans[l].dinner.imageUrl,alt:i.dailyPlans[l].dinner.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:i.dailyPlans[l].dinner.name}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.dailyPlans[l].dinner.ingredients.join(", ")}),h.jsxs("div",{className:"mt-2 flex space-x-3 text-xs",children:[h.jsxs("span",{className:"text-gray-700",children:[h.jsx("span",{className:"font-medium",children:i.dailyPlans[l].dinner.nutritionalInfo.calories})," cal"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].dinner.nutritionalInfo.protein,"g"]})," protein"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].dinner.nutritionalInfo.carbs,"g"]})," carbs"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[i.dailyPlans[l].dinner.nutritionalInfo.fat,"g"]})," fat"]})]})]})]})]}),h.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Snacks"}),h.jsx("div",{className:"space-y-4",children:i.dailyPlans[l].snacks.map((I,N)=>h.jsx("div",{className:"flex",children:h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:I.name}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.ingredients.join(", ")}),h.jsxs("div",{className:"mt-2 flex space-x-3 text-xs",children:[h.jsxs("span",{className:"text-gray-700",children:[h.jsx("span",{className:"font-medium",children:I.nutritionalInfo.calories})," cal"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[I.nutritionalInfo.protein,"g"]})," protein"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[I.nutritionalInfo.carbs,"g"]})," carbs"]}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-medium",children:[I.nutritionalInfo.fat,"g"]})," fat"]})]})]})},N))})]})]}),h.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Daily Nutrition Summary"}),h.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:M(l).calories}),h.jsx("div",{className:"text-sm text-gray-600",children:"Calories"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[M(l).protein,"g"]}),h.jsx("div",{className:"text-sm text-gray-600",children:"Protein"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[M(l).carbs,"g"]}),h.jsx("div",{className:"text-sm text-gray-600",children:"Carbs"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[M(l).fat,"g"]}),h.jsx("div",{className:"text-sm text-gray-600",children:"Fat"})]})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Daily Target: "}),h.jsxs("span",{className:"font-medium",children:[i.targetCalories," calories"]})]}),h.jsxs("div",{className:"text-sm",children:[h.jsxs("span",{className:M(l).calories>i.targetCalories?"text-red-600":"text-green-600",children:[M(l).calories>i.targetCalories?"+":"",M(l).calories-i.targetCalories," calories"]})," from target"]})]})})]})]}):h.jsx("div",{className:"p-6 text-center",children:h.jsx("p",{className:"text-gray-600",children:"No meal plan available for this date."})})]}):h.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx(Ap,{className:"h-12 w-12 text-gray-300"})}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Meal Plan Available"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have any meal plans yet. Generate a personalized meal plan based on your preferences."})]})}),h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Generate New Meal Plan"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"dietType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Diet Type"}),h.jsx("select",{id:"dietType",value:d,onChange:I=>f(I.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-500 focus:ring-opacity-50",children:P.map(I=>h.jsx("option",{value:I.id,children:I.name},I.id))})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"calorieTarget",className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Calorie Target"}),h.jsx("input",{type:"number",id:"calorieTarget",value:b,onChange:I=>x(Number(I.target.value)),min:"1200",max:"4000",step:"100",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-500 focus:ring-opacity-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Goals (Select all that apply)"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:C.map(I=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:I.id,checked:p.includes(I.id),onChange:()=>B(I.id),className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),h.jsx("label",{htmlFor:I.id,className:"ml-2 block text-sm text-gray-700",children:I.name})]},I.id))})]}),h.jsx("button",{onClick:L,disabled:w,className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded-md flex items-center justify-center disabled:opacity-50",children:w?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Generating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Ap,{className:"h-4 w-4 mr-2"}),"Generate Meal Plan"]})})]})]}),r.length>0&&h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Your Meal Plans"}),h.jsx("div",{className:"space-y-3",children:r.map((I,N)=>h.jsxs("button",{onClick:()=>a(I),className:`w-full text-left p-3 rounded-md ${(i==null?void 0:i.id)===I.id?"bg-yellow-100 border border-yellow-300":"bg-gray-50 hover:bg-gray-100 border border-gray-200"}`,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-800",children:N===0?"Current Plan":`Plan ${r.length-N}`}),h.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(I.startDate).toLocaleDateString()," - ",new Date(I.endDate).toLocaleDateString()]})]}),(i==null?void 0:i.id)===I.id&&h.jsx(Dh,{className:"h-5 w-5 text-yellow-600"})]}),h.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[h.jsxs("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:[I.targetCalories," cal"]}),h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full capitalize",children:I.dietType.replace("_"," ")})]})]},I.id))})]}),h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(Au,{className:"h-5 w-5 text-yellow-600 mr-2"}),h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Nutrition Tips"})]}),h.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium text-gray-700",children:"Stay hydrated:"})," Drink at least 8 glasses of water daily, especially before meals."]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium text-gray-700",children:"Eat mindfully:"})," Pay attention to hunger and fullness cues, and avoid distractions while eating."]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium text-gray-700",children:"Include protein:"})," Aim to include a source of protein with each meal to help maintain muscle mass and feel fuller longer."]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium text-gray-700",children:"Fiber is essential:"})," Include plenty of fruits, vegetables, and whole grains for digestive health."]})]})]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Sf(n){return n+.5|0}const Ya=(n,e,t)=>Math.max(Math.min(n,t),e);function Gd(n){return Ya(Sf(n*2.55),0,255)}function to(n){return Ya(Sf(n*255),0,255)}function Bi(n){return Ya(Sf(n/2.55)/100,0,1)}function GC(n){return Ya(Sf(n*100),0,100)}const ss={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bw=[..."0123456789ABCDEF"],yX=n=>Bw[n&15],vX=n=>Bw[(n&240)>>4]+Bw[n&15],tp=n=>(n&240)>>4===(n&15),xX=n=>tp(n.r)&&tp(n.g)&&tp(n.b)&&tp(n.a);function wX(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ss[n[1]]*17,g:255&ss[n[2]]*17,b:255&ss[n[3]]*17,a:e===5?ss[n[4]]*17:255}:(e===7||e===9)&&(t={r:ss[n[1]]<<4|ss[n[2]],g:ss[n[3]]<<4|ss[n[4]],b:ss[n[5]]<<4|ss[n[6]],a:e===9?ss[n[7]]<<4|ss[n[8]]:255})),t}const bX=(n,e)=>n<255?e(n):"";function _X(n){var e=xX(n)?yX:vX;return n?"#"+e(n.r)+e(n.g)+e(n.b)+bX(n.a,e):void 0}const TX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gM(n,e,t){const r=e*Math.min(t,1-t),s=(i,a=(i+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function EX(n,e,t){const r=(s,i=(s+n/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function SX(n,e,t){const r=gM(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)r[s]*=1-e-t,r[s]+=e;return r}function IX(n,e,t,r,s){return n===s?(e-t)/r+(e<t?6:0):e===s?(t-n)/r+2:(n-e)/r+4}function tT(n){const t=n.r/255,r=n.g/255,s=n.b/255,i=Math.max(t,r,s),a=Math.min(t,r,s),l=(i+a)/2;let c,d,f;return i!==a&&(f=i-a,d=l>.5?f/(2-i-a):f/(i+a),c=IX(t,r,s,f,i),c=c*60+.5),[c|0,d||0,l]}function nT(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(to)}function rT(n,e,t){return nT(gM,n,e,t)}function PX(n,e,t){return nT(SX,n,e,t)}function CX(n,e,t){return nT(EX,n,e,t)}function yM(n){return(n%360+360)%360}function NX(n){const e=TX.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Gd(+e[5]):to(+e[5]));const s=yM(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=PX(s,i,a):e[1]==="hsv"?r=CX(s,i,a):r=rT(s,i,a),{r:r[0],g:r[1],b:r[2],a:t}}function kX(n,e){var t=tT(n);t[0]=yM(t[0]+e),t=rT(t),n.r=t[0],n.g=t[1],n.b=t[2]}function AX(n){if(!n)return;const e=tT(n),t=e[0],r=GC(e[1]),s=GC(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${s}%, ${Bi(n.a)})`:`hsl(${t}, ${r}%, ${s}%)`}const YC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},KC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function DX(){const n={},e=Object.keys(KC),t=Object.keys(YC);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<t.length;s++)i=t[s],l=l.replace(i,YC[i]);i=parseInt(KC[a],16),n[l]=[i>>16&255,i>>8&255,i&255]}return n}let np;function RX(n){np||(np=DX(),np.transparent=[0,0,0,0]);const e=np[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const jX=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function MX(n){const e=jX.exec(n);let t=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?Gd(a):Ya(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Gd(r):Ya(r,0,255)),s=255&(e[4]?Gd(s):Ya(s,0,255)),i=255&(e[6]?Gd(i):Ya(i,0,255)),{r,g:s,b:i,a:t}}}function OX(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Bi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const mx=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Rc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function LX(n,e,t){const r=Rc(Bi(n.r)),s=Rc(Bi(n.g)),i=Rc(Bi(n.b));return{r:to(mx(r+t*(Rc(Bi(e.r))-r))),g:to(mx(s+t*(Rc(Bi(e.g))-s))),b:to(mx(i+t*(Rc(Bi(e.b))-i))),a:n.a+t*(e.a-n.a)}}function rp(n,e,t){if(n){let r=tT(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=rT(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function vM(n,e){return n&&Object.assign(e||{},n)}function XC(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=to(n[3]))):(e=vM(n,{r:0,g:0,b:0,a:1}),e.a=to(e.a)),e}function VX(n){return n.charAt(0)==="r"?MX(n):NX(n)}class Gh{constructor(e){if(e instanceof Gh)return e;const t=typeof e;let r;t==="object"?r=XC(e):t==="string"&&(r=wX(e)||RX(e)||VX(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=vM(this._rgb);return e&&(e.a=Bi(e.a)),e}set rgb(e){this._rgb=XC(e)}rgbString(){return this._valid?OX(this._rgb):void 0}hexString(){return this._valid?_X(this._rgb):void 0}hslString(){return this._valid?AX(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,s=e.rgb;let i;const a=t===i?.5:t,l=2*a-1,c=r.a-s.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,r.r=255&d*r.r+i*s.r+.5,r.g=255&d*r.g+i*s.g+.5,r.b=255&d*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=LX(this._rgb,e._rgb,t)),this}clone(){return new Gh(this.rgb)}alpha(e){return this._rgb.a=to(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Sf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return rp(this._rgb,2,e),this}darken(e){return rp(this._rgb,2,-e),this}saturate(e){return rp(this._rgb,1,e),this}desaturate(e){return rp(this._rgb,1,-e),this}rotate(e){return kX(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Oi(){}const FX=(()=>{let n=0;return()=>n++})();function gt(n){return n==null}function gn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function fs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Qs(n,e){return fs(n)?n:e}function Je(n,e){return typeof n>"u"?e:n}const BX=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function _t(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ct(n,e,t,r){let s,i,a;if(gn(n))for(i=n.length,s=0;s<i;s++)e.call(t,n[s],s);else if(rt(n))for(a=Object.keys(n),i=a.length,s=0;s<i;s++)e.call(t,n[a[s]],a[s])}function jg(n,e){let t,r,s,i;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(s=n[t],i=e[t],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Mg(n){if(gn(n))return n.map(Mg);if(rt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let s=0;for(;s<r;++s)e[t[s]]=Mg(n[t[s]]);return e}return n}function xM(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function zX(n,e,t,r){if(!xM(n))return;const s=e[n],i=t[n];rt(s)&&rt(i)?Yh(s,i,r):e[n]=Mg(i)}function Yh(n,e,t){const r=gn(e)?e:[e],s=r.length;if(!rt(n))return n;t=t||{};const i=t.merger||zX;let a;for(let l=0;l<s;++l){if(a=r[l],!rt(a))continue;const c=Object.keys(a);for(let d=0,f=c.length;d<f;++d)i(c[d],n,a,t)}return n}function hh(n,e){return Yh(n,e,{merger:UX})}function UX(n,e,t){if(!xM(n))return;const r=e[n],s=t[n];rt(r)&&rt(s)?hh(r,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Mg(s))}const QC={"":n=>n,x:n=>n.x,y:n=>n.y};function $X(n){const e=n.split("."),t=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function WX(n){const e=$X(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Og(n,e){return(QC[e]||(QC[e]=WX(e)))(n)}function sT(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Lg=n=>typeof n<"u",uo=n=>typeof n=="function",JC=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function HX(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const vn=Math.PI,ui=2*vn,qX=ui+vn,Vg=Number.POSITIVE_INFINITY,GX=vn/180,js=vn/2,Yo=vn/4,ZC=vn*2/3,wM=Math.log10,xu=Math.sign;function fh(n,e,t){return Math.abs(n-e)<t}function eN(n){const e=Math.round(n);n=fh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(wM(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function YX(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((s,i)=>s-i).pop(),e}function KX(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Kh(n){return!KX(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function XX(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function QX(n,e,t){let r,s,i;for(r=0,s=n.length;r<s;r++)i=n[r][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function dl(n){return n*(vn/180)}function JX(n){return n*(180/vn)}function tN(n){if(!fs(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function ZX(n,e){const t=e.x-n.x,r=e.y-n.y,s=Math.sqrt(t*t+r*r);let i=Math.atan2(r,t);return i<-.5*vn&&(i+=ui),{angle:i,distance:s}}function zw(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function eQ(n,e){return(n-e+qX)%ui-vn}function La(n){return(n%ui+ui)%ui}function bM(n,e,t,r){const s=La(n),i=La(e),a=La(t),l=La(i-s),c=La(a-s),d=La(s-i),f=La(s-a);return s===i||s===a||r&&i===a||l>c&&d<f}function os(n,e,t){return Math.max(e,Math.min(t,n))}function tQ(n){return os(n,-32768,32767)}function Yd(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function iT(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,t(i)?s=i:r=i;return{lo:s,hi:r}}const hl=(n,e,t,r)=>iT(n,t,r?s=>{const i=n[s][e];return i<t||i===t&&n[s+1][e]===t}:s=>n[s][e]<t),nQ=(n,e,t)=>iT(n,t,r=>n[r][e]>=t);function rQ(n,e,t){let r=0,s=n.length;for(;r<s&&n[r]<e;)r++;for(;s>r&&n[s-1]>t;)s--;return r>0||s<n.length?n.slice(r,s):n}const _M=["push","pop","shift","splice","unshift"];function sQ(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_M.forEach(t=>{const r="_onData"+sT(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return n._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function nN(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(_M.forEach(i=>{delete n[i]}),delete n._chartjs)}function iQ(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const TM=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function EM(n,e){let t=[],r=!1;return function(...s){t=s,r||(r=!0,TM.call(window,()=>{r=!1,n.apply(e,t)}))}}function aQ(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const aT=n=>n==="start"?"left":n==="end"?"right":"center",Bn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,oQ=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function lQ(n,e,t){const r=e.length;let s=0,i=r;if(n._sorted){const{iScale:a,vScale:l,_parsed:c}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=a.axis,{min:p,max:v,minDefined:b,maxDefined:x}=a.getUserBounds();if(b){if(s=Math.min(hl(c,f,p).lo,t?r:hl(e,f,a.getPixelForValue(p)).lo),d){const w=c.slice(0,s+1).reverse().findIndex(T=>!gt(T[l.axis]));s-=Math.max(0,w)}s=os(s,0,r-1)}if(x){let w=Math.max(hl(c,a.axis,v,!0).hi+1,t?0:hl(e,f,a.getPixelForValue(v),!0).hi+1);if(d){const T=c.slice(w-1).findIndex(P=>!gt(P[l.axis]));w+=Math.max(0,T)}i=os(w,s,r)-s}else i=r-s}return{start:s,count:i}}function cQ(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,s),i}const sp=n=>n===0||n===1,rN=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ui/t)),sN=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ui/t)+1,mh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*js)+1,easeOutSine:n=>Math.sin(n*js),easeInOutSine:n=>-.5*(Math.cos(vn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>sp(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>sp(n)?n:rN(n,.075,.3),easeOutElastic:n=>sp(n)?n:sN(n,.075,.3),easeInOutElastic(n){return sp(n)?n:n<.5?.5*rN(n*2,.1125,.45):.5+.5*sN(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-mh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?mh.easeInBounce(n*2)*.5:mh.easeOutBounce(n*2-1)*.5+.5};function oT(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function iN(n){return oT(n)?n:new Gh(n)}function px(n){return oT(n)?n:new Gh(n).saturate(.5).darken(.1).hexString()}const uQ=["x","y","borderWidth","radius","tension"],dQ=["color","borderColor","backgroundColor"];function hQ(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:dQ},numbers:{type:"number",properties:uQ}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function fQ(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const aN=new Map;function mQ(n,e){e=e||{};const t=n+JSON.stringify(e);let r=aN.get(t);return r||(r=new Intl.NumberFormat(n,e),aN.set(t,r)),r}function SM(n,e,t){return mQ(e,t).format(n)}const pQ={values(n){return gn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let s,i=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),i=gQ(n,t)}const a=wM(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),SM(n,r,c)}};function gQ(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var IM={formatters:pQ};function yQ(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:IM.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Rl=Object.create(null),Uw=Object.create(null);function ph(n,e){if(!e)return n;const t=e.split(".");for(let r=0,s=t.length;r<s;++r){const i=t[r];n=n[i]||(n[i]=Object.create(null))}return n}function gx(n,e,t){return typeof e=="string"?Yh(ph(n,e),t):Yh(ph(n,""),e)}class vQ{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>px(s.backgroundColor),this.hoverBorderColor=(r,s)=>px(s.borderColor),this.hoverColor=(r,s)=>px(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return gx(this,e,t)}get(e){return ph(this,e)}describe(e,t){return gx(Uw,e,t)}override(e,t){return gx(Rl,e,t)}route(e,t,r,s){const i=ph(this,e),a=ph(this,r),l="_"+t;Object.defineProperties(i,{[l]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=a[s];return rt(c)?Object.assign({},d,c):Je(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var Gt=new vQ({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hQ,fQ,yQ]);function xQ(n){return!n||gt(n.size)||gt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function oN(n,e,t,r,s){let i=e[s];return i||(i=e[s]=n.measureText(s).width,t.push(s)),i>r&&(r=i),r}function Ko(n,e,t){const r=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*r)/r+s}function lN(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function $w(n,e,t,r){PM(n,e,t,r,null)}function PM(n,e,t,r,s){let i,a,l,c,d,f,p,v;const b=e.pointStyle,x=e.rotation,w=e.radius;let T=(x||0)*GX;if(b&&typeof b=="object"&&(i=b.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(T),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),b){default:s?n.ellipse(t,r,s/2,w,0,0,ui):n.arc(t,r,w,0,ui),n.closePath();break;case"triangle":f=s?s/2:w,n.moveTo(t+Math.sin(T)*f,r-Math.cos(T)*w),T+=ZC,n.lineTo(t+Math.sin(T)*f,r-Math.cos(T)*w),T+=ZC,n.lineTo(t+Math.sin(T)*f,r-Math.cos(T)*w),n.closePath();break;case"rectRounded":d=w*.516,c=w-d,a=Math.cos(T+Yo)*c,p=Math.cos(T+Yo)*(s?s/2-d:c),l=Math.sin(T+Yo)*c,v=Math.sin(T+Yo)*(s?s/2-d:c),n.arc(t-p,r-l,d,T-vn,T-js),n.arc(t+v,r-a,d,T-js,T),n.arc(t+p,r+l,d,T,T+js),n.arc(t-v,r+a,d,T+js,T+vn),n.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*w,f=s?s/2:c,n.rect(t-f,r-c,2*f,2*c);break}T+=Yo;case"rectRot":p=Math.cos(T)*(s?s/2:w),a=Math.cos(T)*w,l=Math.sin(T)*w,v=Math.sin(T)*(s?s/2:w),n.moveTo(t-p,r-l),n.lineTo(t+v,r-a),n.lineTo(t+p,r+l),n.lineTo(t-v,r+a),n.closePath();break;case"crossRot":T+=Yo;case"cross":p=Math.cos(T)*(s?s/2:w),a=Math.cos(T)*w,l=Math.sin(T)*w,v=Math.sin(T)*(s?s/2:w),n.moveTo(t-p,r-l),n.lineTo(t+p,r+l),n.moveTo(t+v,r-a),n.lineTo(t-v,r+a);break;case"star":p=Math.cos(T)*(s?s/2:w),a=Math.cos(T)*w,l=Math.sin(T)*w,v=Math.sin(T)*(s?s/2:w),n.moveTo(t-p,r-l),n.lineTo(t+p,r+l),n.moveTo(t+v,r-a),n.lineTo(t-v,r+a),T+=Yo,p=Math.cos(T)*(s?s/2:w),a=Math.cos(T)*w,l=Math.sin(T)*w,v=Math.sin(T)*(s?s/2:w),n.moveTo(t-p,r-l),n.lineTo(t+p,r+l),n.moveTo(t+v,r-a),n.lineTo(t-v,r+a);break;case"line":a=s?s/2:Math.cos(T)*w,l=Math.sin(T)*w,n.moveTo(t-a,r-l),n.lineTo(t+a,r+l);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(T)*(s?s/2:w),r+Math.sin(T)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Xh(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function lT(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function cT(n){n.restore()}function wQ(n,e,t,r,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const i=(e.x+t.x)/2;n.lineTo(i,e.y),n.lineTo(i,t.y)}else s==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function bQ(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function _Q(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),gt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function TQ(n,e,t,r,s){if(s.strikethrough||s.underline){const i=n.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=t-i.actualBoundingBoxAscent,d=t+i.actualBoundingBoxDescent,f=s.strikethrough?(c+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,f),n.lineTo(l,f),n.stroke()}}function EQ(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Qh(n,e,t,r,s,i={}){const a=gn(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(n.save(),n.font=s.string,_Q(n,i),c=0;c<a.length;++c)d=a[c],i.backdrop&&EQ(n,i.backdrop),l&&(i.strokeColor&&(n.strokeStyle=i.strokeColor),gt(i.strokeWidth)||(n.lineWidth=i.strokeWidth),n.strokeText(d,t,r,i.maxWidth)),n.fillText(d,t,r,i.maxWidth),TQ(n,t,r,d,i),r+=Number(s.lineHeight);n.restore()}function Ww(n,e){const{x:t,y:r,w:s,h:i,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*vn,vn,!0),n.lineTo(t,r+i-a.bottomLeft),n.arc(t+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,vn,js,!0),n.lineTo(t+s-a.bottomRight,r+i),n.arc(t+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,js,0,!0),n.lineTo(t+s,r+a.topRight),n.arc(t+s-a.topRight,r+a.topRight,a.topRight,0,-js,!0),n.lineTo(t+a.topLeft,r)}const SQ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,IQ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function PQ(n,e){const t=(""+n).match(SQ);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const CQ=n=>+n||0;function CM(n,e){const t={},r=rt(e),s=r?Object.keys(e):e,i=rt(n)?r?a=>Je(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of s)t[a]=CQ(i(a));return t}function NQ(n){return CM(n,{top:"y",right:"x",bottom:"y",left:"x"})}function gh(n){return CM(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ms(n){const e=NQ(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Hn(n,e){n=n||{},e=e||Gt.font;let t=Je(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Je(n.style,e.style);r&&!(""+r).match(IQ)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Je(n.family,e.family),lineHeight:PQ(Je(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Je(n.weight,e.weight),string:""};return s.string=xQ(s),s}function ip(n,e,t,r){let s,i,a;for(s=0,i=n.length;s<i;++s)if(a=n[s],a!==void 0&&a!==void 0)return a}function kQ(n,e,t){const{min:r,max:s}=n,i=BX(e,(s-r)/2),a=(l,c)=>t&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function Wl(n,e){return Object.assign(Object.create(n),e)}function uT(n,e=[""],t,r,s=()=>n[0]){const i=t||n;typeof r>"u"&&(r=DM("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>uT([l,...n],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return kM(l,c,()=>VQ(c,e,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return uN(l).includes(c)},ownKeys(l){return uN(l)},set(l,c,d){const f=l._storage||(l._storage=s());return l[c]=f[c]=d,delete l._keys,!0}})}function wu(n,e,t,r){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:NM(n,r),setContext:i=>wu(n,i,t,r),override:i=>wu(n.override(i),e,t,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete n[a],!0},get(i,a,l){return kM(i,a,()=>DQ(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(i,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(i,a,l){return n[a]=l,delete i[a],!0}})}function NM(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:r,isScriptable:uo(t)?t:()=>t,isIndexable:uo(r)?r:()=>r}}const AQ=(n,e)=>n?n+sT(e):e,dT=(n,e)=>rt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kM(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function DQ(n,e,t){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=n;let l=r[e];return uo(l)&&a.isScriptable(e)&&(l=RQ(e,l,n,t)),gn(l)&&l.length&&(l=jQ(e,l,n,a.isIndexable)),dT(e,l)&&(l=wu(l,s,i&&i[e],a)),l}function RQ(n,e,t,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(i,a||r);return l.delete(n),dT(n,c)&&(c=hT(s._scopes,s,n,c)),c}function jQ(n,e,t,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=t;if(typeof i.index<"u"&&r(n))return e[i.index%e.length];if(rt(e[0])){const c=e,d=s._scopes.filter(f=>f!==c);e=[];for(const f of c){const p=hT(d,s,n,f);e.push(wu(p,i,a&&a[n],l))}}return e}function AM(n,e,t){return uo(n)?n(e,t):n}const MQ=(n,e)=>n===!0?e:typeof n=="string"?Og(e,n):void 0;function OQ(n,e,t,r,s){for(const i of e){const a=MQ(t,i);if(a){n.add(a);const l=AM(a._fallback,t,s);if(typeof l<"u"&&l!==t&&l!==r)return l}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function hT(n,e,t,r){const s=e._rootScopes,i=AM(e._fallback,t,r),a=[...n,...s],l=new Set;l.add(r);let c=cN(l,a,t,i||t,r);return c===null||typeof i<"u"&&i!==t&&(c=cN(l,a,i,c,r),c===null)?!1:uT(Array.from(l),[""],s,i,()=>LQ(e,t,r))}function cN(n,e,t,r,s){for(;t;)t=OQ(n,e,t,r,s);return t}function LQ(n,e,t){const r=n._getTarget();e in r||(r[e]={});const s=r[e];return gn(s)&&rt(t)?t:s||{}}function VQ(n,e,t,r){let s;for(const i of e)if(s=DM(AQ(i,n),t),typeof s<"u")return dT(n,s)?hT(t,r,n,s):s}function DM(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function uN(n){let e=n._keys;return e||(e=n._keys=FQ(n._scopes)),e}function FQ(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const BQ=Number.EPSILON||1e-14,bu=(n,e)=>e<n.length&&!n[e].skip&&n[e],RM=n=>n==="x"?"y":"x";function zQ(n,e,t,r){const s=n.skip?e:n,i=e,a=t.skip?e:t,l=zw(i,s),c=zw(a,i);let d=l/(l+c),f=c/(l+c);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const p=r*d,v=r*f;return{previous:{x:i.x-p*(a.x-s.x),y:i.y-p*(a.y-s.y)},next:{x:i.x+v*(a.x-s.x),y:i.y+v*(a.y-s.y)}}}function UQ(n,e,t){const r=n.length;let s,i,a,l,c,d=bu(n,0);for(let f=0;f<r-1;++f)if(c=d,d=bu(n,f+1),!(!c||!d)){if(fh(e[f],0,BQ)){t[f]=t[f+1]=0;continue}s=t[f]/e[f],i=t[f+1]/e[f],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),t[f]=s*a*e[f],t[f+1]=i*a*e[f])}}function $Q(n,e,t="x"){const r=RM(t),s=n.length;let i,a,l,c=bu(n,0);for(let d=0;d<s;++d){if(a=l,l=c,c=bu(n,d+1),!l)continue;const f=l[t],p=l[r];a&&(i=(f-a[t])/3,l[`cp1${t}`]=f-i,l[`cp1${r}`]=p-i*e[d]),c&&(i=(c[t]-f)/3,l[`cp2${t}`]=f+i,l[`cp2${r}`]=p+i*e[d])}}function WQ(n,e="x"){const t=RM(e),r=n.length,s=Array(r).fill(0),i=Array(r);let a,l,c,d=bu(n,0);for(a=0;a<r;++a)if(l=c,c=d,d=bu(n,a+1),!!c){if(d){const f=d[e]-c[e];s[a]=f!==0?(d[t]-c[t])/f:0}i[a]=l?d?xu(s[a-1])!==xu(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}UQ(n,s,i),$Q(n,i,e)}function ap(n,e,t){return Math.max(Math.min(n,t),e)}function HQ(n,e){let t,r,s,i,a,l=Xh(n[0],e);for(t=0,r=n.length;t<r;++t)a=i,i=l,l=t<r-1&&Xh(n[t+1],e),i&&(s=n[t],a&&(s.cp1x=ap(s.cp1x,e.left,e.right),s.cp1y=ap(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=ap(s.cp2x,e.left,e.right),s.cp2y=ap(s.cp2y,e.top,e.bottom)))}function qQ(n,e,t,r,s){let i,a,l,c;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")WQ(n,s);else{let d=r?n[n.length-1]:n[0];for(i=0,a=n.length;i<a;++i)l=n[i],c=zQ(d,l,n[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&HQ(n,t)}function fT(){return typeof window<"u"&&typeof document<"u"}function mT(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Fg(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Vy=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function GQ(n,e){return Vy(n).getPropertyValue(e)}const YQ=["top","right","bottom","left"];function vl(n,e,t){const r={};t=t?"-"+t:"";for(let s=0;s<4;s++){const i=YQ[s];r[i]=parseFloat(n[e+"-"+i+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const KQ=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function XQ(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(KQ(s,i,n.target))l=s,c=i;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,c=r.clientY-d.top,a=!0}return{x:l,y:c,box:a}}function nl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,s=Vy(t),i=s.boxSizing==="border-box",a=vl(s,"padding"),l=vl(s,"border","width"),{x:c,y:d,box:f}=XQ(n,t),p=a.left+(f&&l.left),v=a.top+(f&&l.top);let{width:b,height:x}=e;return i&&(b-=a.width+l.width,x-=a.height+l.height),{x:Math.round((c-p)/b*t.width/r),y:Math.round((d-v)/x*t.height/r)}}function QQ(n,e,t){let r,s;if(e===void 0||t===void 0){const i=n&&mT(n);if(!i)e=n.clientWidth,t=n.clientHeight;else{const a=i.getBoundingClientRect(),l=Vy(i),c=vl(l,"border","width"),d=vl(l,"padding");e=a.width-d.width-c.width,t=a.height-d.height-c.height,r=Fg(l.maxWidth,i,"clientWidth"),s=Fg(l.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:r||Vg,maxHeight:s||Vg}}const op=n=>Math.round(n*10)/10;function JQ(n,e,t,r){const s=Vy(n),i=vl(s,"margin"),a=Fg(s.maxWidth,n,"clientWidth")||Vg,l=Fg(s.maxHeight,n,"clientHeight")||Vg,c=QQ(n,e,t);let{width:d,height:f}=c;if(s.boxSizing==="content-box"){const v=vl(s,"border","width"),b=vl(s,"padding");d-=b.width+v.width,f-=b.height+v.height}return d=Math.max(0,d-i.width),f=Math.max(0,r?d/r:f-i.height),d=op(Math.min(d,a,c.maxWidth)),f=op(Math.min(f,l,c.maxHeight)),d&&!f&&(f=op(d/2)),(e!==void 0||t!==void 0)&&r&&c.height&&f>c.height&&(f=c.height,d=op(Math.floor(f*r))),{width:d,height:f}}function dN(n,e,t){const r=e||1,s=Math.floor(n.height*r),i=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(n.currentDevicePixelRatio=r,a.height=s,a.width=i,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const ZQ=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};fT()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function hN(n,e){const t=GQ(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function rl(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function eJ(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function tJ(n,e,t,r){const s={x:n.cp2x,y:n.cp2y},i={x:e.cp1x,y:e.cp1y},a=rl(n,s,t),l=rl(s,i,t),c=rl(i,e,t),d=rl(a,l,t),f=rl(l,c,t);return rl(d,f,t)}const nJ=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},rJ=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ru(n,e,t){return n?nJ(e,t):rJ()}function jM(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function MM(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function OM(n){return n==="angle"?{between:bM,compare:eQ,normalize:La}:{between:Yd,compare:(e,t)=>e-t,normalize:e=>e}}function fN({start:n,end:e,count:t,loop:r,style:s}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:s}}function sJ(n,e,t){const{property:r,start:s,end:i}=t,{between:a,normalize:l}=OM(r),c=e.length;let{start:d,end:f,loop:p}=n,v,b;if(p){for(d+=c,f+=c,v=0,b=c;v<b&&a(l(e[d%c][r]),s,i);++v)d--,f--;d%=c,f%=c}return f<d&&(f+=c),{start:d,end:f,loop:p,style:n.style}}function iJ(n,e,t){if(!t)return[n];const{property:r,start:s,end:i}=t,a=e.length,{compare:l,between:c,normalize:d}=OM(r),{start:f,end:p,loop:v,style:b}=sJ(n,e,t),x=[];let w=!1,T=null,P,C,D;const B=()=>c(s,D,P)&&l(s,D)!==0,L=()=>l(i,P)===0||c(i,D,P),U=()=>w||B(),M=()=>!w||L();for(let I=f,N=f;I<=p;++I)C=e[I%a],!C.skip&&(P=d(C[r]),P!==D&&(w=c(P,s,i),T===null&&U()&&(T=l(P,s)===0?I:N),T!==null&&M()&&(x.push(fN({start:T,end:I,loop:v,count:a,style:b})),T=null),N=I,D=P));return T!==null&&x.push(fN({start:T,end:p,loop:v,count:a,style:b})),x}function aJ(n,e){const t=[],r=n.segments;for(let s=0;s<r.length;s++){const i=iJ(r[s],n.points,e);i.length&&t.push(...i)}return t}function oJ(n,e,t,r){let s=0,i=e-1;if(t&&!r)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(i+=s);i>s&&n[i%e].skip;)i--;return i%=e,{start:s,end:i}}function lJ(n,e,t,r){const s=n.length,i=[];let a=e,l=n[e],c;for(c=e+1;c<=t;++c){const d=n[c%s];d.skip||d.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=d.stop?c:null):(a=c,l.skip&&(e=c)),l=d}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function cJ(n,e){const t=n.points,r=n.options.spanGaps,s=t.length;if(!s)return[];const i=!!n._loop,{start:a,end:l}=oJ(t,s,i,r);if(r===!0)return mN(n,[{start:a,end:l,loop:i}],t,e);const c=l<a?l+s:l,d=!!n._fullLoop&&a===0&&l===s-1;return mN(n,lJ(t,a,c,d),t,e)}function mN(n,e,t,r){return!r||!r.setContext||!t?e:uJ(n,e,t,r)}function uJ(n,e,t,r){const s=n._chart.getContext(),i=pN(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,c=t.length,d=[];let f=i,p=e[0].start,v=p;function b(x,w,T,P){const C=l?-1:1;if(x!==w){for(x+=c;t[x%c].skip;)x-=C;for(;t[w%c].skip;)w+=C;x%c!==w%c&&(d.push({start:x%c,end:w%c,loop:T,style:P}),f=P,p=w%c)}}for(const x of e){p=l?p:x.start;let w=t[p%c],T;for(v=p+1;v<=x.end;v++){const P=t[v%c];T=pN(r.setContext(Wl(s,{type:"segment",p0:w,p1:P,p0DataIndex:(v-1)%c,p1DataIndex:v%c,datasetIndex:a}))),dJ(T,f)&&b(p,v-1,x.loop,f),w=P,f=T}p<v-1&&b(p,v-1,x.loop,f)}return d}function pN(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function dJ(n,e){if(!e)return!1;const t=[],r=function(s,i){return oT(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(n,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class hJ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,s){const i=t.listeners[s],a=t.duration;i.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=TM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Vi=new hJ;const gN="transparent",fJ={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=iN(n||gN),s=r.valid&&iN(e||gN);return s&&s.valid?s.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class mJ{constructor(e,t,r,s){const i=t[r];s=ip([e.to,s,i,e.from]);const a=ip([e.from,i,s]);this._active=!0,this._fn=e.fn||fJ[e.type||typeof a],this._easing=mh[e.easing]||mh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=ip([e.to,t,s,e.from]),this._from=ip([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||t<r),!this._active){this._target[s]=l,this._notify(!0);return}if(t<0){this._target[s]=i;return}c=t/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][t]()}}class LM{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!rt(e))return;const t=Object.keys(Gt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!rt(i))return;const a={};for(const l of t)a[l]=i[l];(gn(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,t){const r=t.options,s=gJ(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&pJ(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,t){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,t));continue}const f=t[d];let p=i[d];const v=r.get(d);if(p)if(v&&p.active()){p.update(v,f,l);continue}else p.cancel();if(!v||!v.duration){e[d]=f;continue}i[d]=p=new mJ(v,e,d,f),s.push(p)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Vi.add(this._chart,r),!0}}function pJ(n,e){const t=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=n[r[s]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function gJ(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function yN(n,e){const t=n&&n.options||{},r=t.reverse,s=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function yJ(n,e,t){if(t===!1)return!1;const r=yN(n,t),s=yN(e,t);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function vJ(n){let e,t,r,s;return rt(n)?(e=n.top,t=n.right,r=n.bottom,s=n.left):e=t=r=s=n,{top:e,right:t,bottom:r,left:s,disabled:n===!1}}function VM(n,e){const t=[],r=n._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)t.push(r[s].index);return t}function vN(n,e,t,r={}){const s=n.keys,i=r.mode==="single";let a,l,c,d;if(e===null)return;let f=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===t){if(f=!0,r.all)continue;break}d=n.values[c],fs(d)&&(i||e===0||xu(e)===xu(d))&&(e+=d)}return!f&&!r.all?0:e}function xJ(n,e){const{iScale:t,vScale:r}=e,s=t.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let c,d,f;for(c=0,d=a.length;c<d;++c)f=a[c],l[c]={[s]:f,[i]:n[f]};return l}function yx(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function wJ(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function bJ(n){const{min:e,max:t,minDefined:r,maxDefined:s}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function _J(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function xN(n,e,t,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=n[s.index];if(t&&i>0||!t&&i<0)return s.index}return null}function wN(n,e){const{chart:t,_cachedMeta:r}=n,s=t._stacks||(t._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,d=a.axis,f=wJ(i,a,r),p=e.length;let v;for(let b=0;b<p;++b){const x=e[b],{[c]:w,[d]:T}=x,P=x._stacks||(x._stacks={});v=P[d]=_J(s,f,w),v[l]=T,v._top=xN(v,a,!0,r.type),v._bottom=xN(v,a,!1,r.type);const C=v._visualValues||(v._visualValues={});C[l]=T}}function vx(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function TJ(n,e){return Wl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function EJ(n,e,t){return Wl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Nd(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][t]===void 0)return;delete i[r][t],i[r]._visualValues!==void 0&&i[r]._visualValues[t]!==void 0&&delete i[r]._visualValues[t]}}}const xx=n=>n==="reset"||n==="none",bN=(n,e)=>e?n:Object.assign({},n),SJ=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:VM(t,!0),values:null};class yh{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=yx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Nd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),s=(p,v,b,x)=>p==="x"?v:p==="r"?x:b,i=t.xAxisID=Je(r.xAxisID,vx(e,"x")),a=t.yAxisID=Je(r.yAxisID,vx(e,"y")),l=t.rAxisID=Je(r.rAxisID,vx(e,"r")),c=t.indexAxis,d=t.iAxisID=s(c,i,a,l),f=t.vAxisID=s(c,a,i,l);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&nN(this._data,this),e._stacked&&Nd(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(rt(t)){const s=this._cachedMeta;this._data=xJ(t,s)}else if(r!==t){if(r){nN(r,this);const s=this._cachedMeta;Nd(s),s._parsed=[]}t&&Object.isExtensible(t)&&sQ(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=t._stacked;t._stacked=yx(t.vScale,t),t.stack!==r.stack&&(s=!0,Nd(t),t.stack=r.stack),this._resyncElements(e),(s||i!==t._stacked)&&(wN(this,t._parsed),t._stacked=yx(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&t===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],f,p,v;if(this._parsing===!1)r._parsed=s,r._sorted=!0,v=s;else{gn(s[e])?v=this.parseArrayData(r,s,e,t):rt(s[e])?v=this.parseObjectData(r,s,e,t):v=this.parsePrimitiveData(r,s,e,t);const b=()=>p[l]===null||d&&p[l]<d[l];for(f=0;f<t;++f)r._parsed[f+e]=p=v[f],c&&(b()&&(c=!1),d=p);r._sorted=c}a&&wN(this,v)}parsePrimitiveData(e,t,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,d=i.getLabels(),f=i===a,p=new Array(s);let v,b,x;for(v=0,b=s;v<b;++v)x=v+r,p[v]={[l]:f||i.parse(d[x],x),[c]:a.parse(t[x],x)};return p}parseArrayData(e,t,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,d,f,p;for(c=0,d=s;c<d;++c)f=c+r,p=t[f],l[c]={x:i.parse(p[0],f),y:a.parse(p[1],f)};return l}parseObjectData(e,t,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let f,p,v,b;for(f=0,p=s;f<p;++f)v=f+r,b=t[v],d[f]={x:i.parse(Og(b,l),v),y:a.parse(Og(b,c),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const s=this.chart,i=this._cachedMeta,a=t[e.axis],l={keys:VM(s,!0),values:t._stacks[e.axis]._visualValues};return vN(l,a,i.index,{mode:r})}updateRangeFromParsed(e,t,r,s){const i=r[t.axis];let a=i===null?NaN:i;const l=s&&r._stacks[t.axis];s&&l&&(s.values=l,a=vN(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=SJ(t,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=bJ(l);let v,b;function x(){b=s[v];const w=b[l.axis];return!fs(b[e.axis])||f>w||p<w}for(v=0;v<a&&!(!x()&&(this.updateRangeFromParsed(d,e,b,c),i));++v);if(i){for(v=a-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(d,e,b,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=t.length;s<i;++s)a=t[s][e.axis],fs(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,s=t.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=vJ(Je(this.options.clip,yJ(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,s=r.data||[],i=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,i,l,c),f=l;f<l+c;++f){const p=s[f];p.hidden||(p.active&&d?a.push(p):p.draw(e,i))}for(f=0;f<a.length;++f)a[f].draw(e,i)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=EJ(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=TJ(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const s=t==="active",i=this._cachedDataOpts,a=e+"-"+t,l=i[a],c=this.enableOptionSharing&&Lg(r);if(l)return bN(l,c);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),p=s?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),f),b=Object.keys(Gt.elements[e]),x=()=>this.getContext(r,s,t),w=d.resolveNamedOptions(v,b,x,p);return w.$shared&&(w.$shared=c,i[a]=Object.freeze(bN(w,c))),w}_resolveAnimations(e,t,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${t}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,t),v=f.getOptionScopes(this.getDataset(),p);c=f.createResolver(v,this.getContext(e,r,t))}const d=new LM(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||xx(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(t,i)||i!==s;return this.updateSharedOptions(i,t,r),{sharedOptions:i,includeOptions:a}}updateElement(e,t,r,s){xx(s)?Object.assign(e,r):this._resolveAnimations(t,s).update(e,r)}updateSharedOptions(e,t,r){e&&!xx(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,s){e.active=s;const i=this.getStyle(t,s);this._resolveAnimations(t,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const s=r.length,i=t.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,t,r=!0){const s=this._cachedMeta,i=s.data,a=e+t;let l;const c=d=>{for(d.length+=t,l=d.length-1;l>=a;l--)d[l]=d[l-t]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,t),r&&this.updateElements(i,e,t,"reset")}updateElements(e,t,r,s){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,t);r._stacked&&Nd(r,s)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,s]=e;this[t](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$e(yh,"defaults",{}),$e(yh,"datasetElementType",null),$e(yh,"dataElementType",null);class Op extends yh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:l,count:c}=lQ(t,s,a);this._drawStart=l,this._drawCount=c,cQ(t)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(s,l,c,e)}updateElements(e,t,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,s),v=a.axis,b=l.axis,{spanGaps:x,segment:w}=this.options,T=Kh(x)?x:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||i||s==="none",C=t+r,D=e.length;let B=t>0&&this.getParsed(t-1);for(let L=0;L<D;++L){const U=e[L],M=P?U:{};if(L<t||L>=C){M.skip=!0;continue}const I=this.getParsed(L),N=gt(I[b]),j=M[v]=a.getPixelForValue(I[v],L),A=M[b]=i||N?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,I,c):I[b],L);M.skip=isNaN(j)||isNaN(A)||N,M.stop=L>0&&Math.abs(I[v]-B[v])>T,w&&(M.parsed=I,M.raw=d.data[L]),p&&(M.options=f||this.resolveDataElementOptions(L,U.active?"active":s)),P||this.updateElement(U,L,M,s),B=I}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$e(Op,"id","line"),$e(Op,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$e(Op,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Xo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class pT{constructor(e){$e(this,"options");this.options=e||{}}static override(e){Object.assign(pT.prototype,e)}init(){}formats(){return Xo()}parse(){return Xo()}format(){return Xo()}add(){return Xo()}diff(){return Xo()}startOf(){return Xo()}endOf(){return Xo()}}var IJ={_date:pT};function PJ(n,e,t,r){const{controller:s,data:i,_sorted:a}=n,l=s._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const d=l._reversePixels?nQ:hl;if(r){if(s._sharedOptions){const f=i[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const v=d(i,e,t-p),b=d(i,e,t+p);return{lo:v.lo,hi:b.hi}}}}else{const f=d(i,e,t);if(c){const{vScale:p}=s._cachedMeta,{_parsed:v}=n,b=v.slice(0,f.lo+1).reverse().findIndex(w=>!gt(w[p.axis]));f.lo-=Math.max(0,b);const x=v.slice(f.hi).findIndex(w=>!gt(w[p.axis]));f.hi+=Math.max(0,x)}return f}}return{lo:0,hi:i.length-1}}function Fy(n,e,t,r,s){const i=n.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:f}=i[l],{lo:p,hi:v}=PJ(i[l],e,a,s);for(let b=p;b<=v;++b){const x=f[b];x.skip||r(x,d,b)}}}function CJ(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=t?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function wx(n,e,t,r,s){const i=[];return!s&&!n.isPointInArea(e)||Fy(n,t,e,function(l,c,d){!s&&!Xh(l,n.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function NJ(n,e,t,r){let s=[];function i(a,l,c){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],r),{angle:p}=ZX(a,{x:e.x,y:e.y});bM(p,d,f)&&s.push({element:a,datasetIndex:l,index:c})}return Fy(n,t,e,i),s}function kJ(n,e,t,r,s,i){let a=[];const l=CJ(t);let c=Number.POSITIVE_INFINITY;function d(f,p,v){const b=f.inRange(e.x,e.y,s);if(r&&!b)return;const x=f.getCenterPoint(s);if(!(!!i||n.isPointInArea(x))&&!b)return;const T=l(e,x);T<c?(a=[{element:f,datasetIndex:p,index:v}],c=T):T===c&&a.push({element:f,datasetIndex:p,index:v})}return Fy(n,t,e,d),a}function bx(n,e,t,r,s,i){return!i&&!n.isPointInArea(e)?[]:t==="r"&&!r?NJ(n,e,t,s):kJ(n,e,t,r,s,i)}function _N(n,e,t,r,s){const i=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return Fy(n,t,e,(c,d,f)=>{c[a]&&c[a](e[t],s)&&(i.push({element:c,datasetIndex:d,index:f}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var AJ={modes:{index(n,e,t,r){const s=nl(e,n),i=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?wx(n,s,i,r,a):bx(n,s,i,!1,r,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,p=d.data[f];p&&!p.skip&&c.push({element:p,datasetIndex:d.index,index:f})}),c):[]},dataset(n,e,t,r){const s=nl(e,n),i=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?wx(n,s,i,r,a):bx(n,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,d=n.getDatasetMeta(c).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:c,index:f})}return l},point(n,e,t,r){const s=nl(e,n),i=t.axis||"xy",a=t.includeInvisible||!1;return wx(n,s,i,r,a)},nearest(n,e,t,r){const s=nl(e,n),i=t.axis||"xy",a=t.includeInvisible||!1;return bx(n,s,i,t.intersect,r,a)},x(n,e,t,r){const s=nl(e,n);return _N(n,s,"x",t.intersect,r)},y(n,e,t,r){const s=nl(e,n);return _N(n,s,"y",t.intersect,r)}}};const FM=["left","top","right","bottom"];function kd(n,e){return n.filter(t=>t.pos===e)}function TN(n,e){return n.filter(t=>FM.indexOf(t.pos)===-1&&t.box.axis===e)}function Ad(n,e){return n.sort((t,r)=>{const s=e?r:t,i=e?t:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function DJ(n){const e=[];let t,r,s,i,a,l;for(t=0,r=(n||[]).length;t<r;++t)s=n[t],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:t,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function RJ(n){const e={};for(const t of n){const{stack:r,pos:s,stackWeight:i}=t;if(!r||!FM.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function jJ(n,e){const t=RJ(n),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=n.length;i<a;++i){l=n[i];const{fullSize:c}=l.box,d=t[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=f?f*s:c&&e.availableHeight)}return t}function MJ(n){const e=DJ(n),t=Ad(e.filter(d=>d.box.fullSize),!0),r=Ad(kd(e,"left"),!0),s=Ad(kd(e,"right")),i=Ad(kd(e,"top"),!0),a=Ad(kd(e,"bottom")),l=TN(e,"x"),c=TN(e,"y");return{fullSize:t,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:kd(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function EN(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function BM(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function OJ(n,e,t,r){const{pos:s,box:i}=t,a=n.maxPadding;if(!rt(s)){t.size&&(n[s]-=t.size);const p=r[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?i.height:i.width),t.size=p.size/p.count,n[s]+=t.size}i.getPadding&&BM(a,i.getPadding());const l=Math.max(0,e.outerWidth-EN(a,n,"left","right")),c=Math.max(0,e.outerHeight-EN(a,n,"top","bottom")),d=l!==n.w,f=c!==n.h;return n.w=l,n.h=c,t.horizontal?{same:d,other:f}:{same:f,other:d}}function LJ(n){const e=n.maxPadding;function t(r){const s=Math.max(e[r]-n[r],0);return n[r]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function VJ(n,e){const t=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],t[a])}),i}return r(n?["left","right"]:["top","bottom"])}function Kd(n,e,t,r){const s=[];let i,a,l,c,d,f;for(i=0,a=n.length,d=0;i<a;++i){l=n[i],c=l.box,c.update(l.width||e.w,l.height||e.h,VJ(l.horizontal,e));const{same:p,other:v}=OJ(e,t,l,r);d|=p&&s.length,f=f||v,c.fullSize||s.push(l)}return d&&Kd(s,e,t,r)||f}function lp(n,e,t,r,s){n.top=t,n.left=e,n.right=e+r,n.bottom=t+s,n.width=r,n.height=s}function SN(n,e,t,r){const s=t.padding;let{x:i,y:a}=e;for(const l of n){const c=l.box,d=r[l.stack]||{placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const p=e.w*f,v=d.size||c.height;Lg(d.start)&&(a=d.start),c.fullSize?lp(c,s.left,a,t.outerWidth-s.right-s.left,v):lp(c,e.left+d.placed,a,p,v),d.start=a,d.placed+=p,a=c.bottom}else{const p=e.h*f,v=d.size||c.width;Lg(d.start)&&(i=d.start),c.fullSize?lp(c,i,s.top,v,t.outerHeight-s.bottom-s.top):lp(c,i,e.top+d.placed,v,p),d.start=i,d.placed+=p,i=c.right}}e.x=i,e.y=a}var ls={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const s=ms(n.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(t-s.height,0),l=MJ(n.boxes),c=l.vertical,d=l.horizontal;ct(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const f=c.reduce((w,T)=>T.box.options&&T.box.options.display===!1?w:w+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/f,hBoxMaxHeight:a/2}),v=Object.assign({},s);BM(v,ms(r));const b=Object.assign({maxPadding:v,w:i,h:a,x:s.left,y:s.top},s),x=jJ(c.concat(d),p);Kd(l.fullSize,b,p,x),Kd(c,b,p,x),Kd(d,b,p,x)&&Kd(c,b,p,x),LJ(b),SN(l.leftAndTop,b,p,x),b.x+=b.w,b.y+=b.h,SN(l.rightAndBottom,b,p,x),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},ct(l.chartArea,w=>{const T=w.box;Object.assign(T,n.chartArea),T.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class zM{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,s){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):r)}}isAttached(e){return!0}updateConfig(e){}}class FJ extends zM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lp="$chartjs",BJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},IN=n=>n===null||n==="";function zJ(n,e){const t=n.style,r=n.getAttribute("height"),s=n.getAttribute("width");if(n[Lp]={initial:{height:r,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",IN(s)){const i=hN(n,"width");i!==void 0&&(n.width=i)}if(IN(r))if(n.style.height==="")n.height=n.width/(e||2);else{const i=hN(n,"height");i!==void 0&&(n.height=i)}return n}const UM=ZQ?{passive:!0}:!1;function UJ(n,e,t){n&&n.addEventListener(e,t,UM)}function $J(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,UM)}function WJ(n,e){const t=BJ[n.type]||n.type,{x:r,y:s}=nl(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Bg(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function HJ(n,e,t){const r=n.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Bg(l.addedNodes,r),a=a&&!Bg(l.removedNodes,r);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function qJ(n,e,t){const r=n.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Bg(l.removedNodes,r),a=a&&!Bg(l.addedNodes,r);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Jh=new Map;let PN=0;function $M(){const n=window.devicePixelRatio;n!==PN&&(PN=n,Jh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function GJ(n,e){Jh.size||window.addEventListener("resize",$M),Jh.set(n,e)}function YJ(n){Jh.delete(n),Jh.size||window.removeEventListener("resize",$M)}function KJ(n,e,t){const r=n.canvas,s=r&&mT(r);if(!s)return;const i=EM((l,c)=>{const d=s.clientWidth;t(l,c),d<s.clientWidth&&t()},window),a=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,f=c.contentRect.height;d===0&&f===0||i(d,f)});return a.observe(s),GJ(n,i),a}function _x(n,e,t){t&&t.disconnect(),e==="resize"&&YJ(n)}function XJ(n,e,t){const r=n.canvas,s=EM(i=>{n.ctx!==null&&t(WJ(i,n))},n);return UJ(r,e,s),s}class QJ extends zM{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(zJ(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Lp])return!1;const r=t[Lp].initial;["height","width"].forEach(i=>{const a=r[i];gt(a)?t.removeAttribute(i):t.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{t.style[i]=s[i]}),t.width=t.width,delete t[Lp],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),a={attach:HJ,detach:qJ,resize:KJ}[t]||XJ;s[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),s=r[t];if(!s)return;({attach:_x,detach:_x,resize:_x}[t]||$J)(e,t,s),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,s){return JQ(e,t,r,s)}isAttached(e){const t=e&&mT(e);return!!(t&&t.isConnected)}}function JJ(n){return!fT()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?FJ:QJ}var pp;let Hl=(pp=class{constructor(){$e(this,"x");$e(this,"y");$e(this,"active",!1);$e(this,"options");$e(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Kh(this.x)&&Kh(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},$e(pp,"defaults",{}),$e(pp,"defaultRoutes"),pp);function ZJ(n,e){const t=n.options.ticks,r=eZ(n),s=Math.min(t.maxTicksLimit||r,r),i=t.major.enabled?nZ(e):[],a=i.length,l=i[0],c=i[a-1],d=[];if(a>s)return rZ(e,d,i,a/s),d;const f=tZ(i,e,s);if(a>0){let p,v;const b=a>1?Math.round((c-l)/(a-1)):null;for(cp(e,d,f,gt(b)?0:l-b,l),p=0,v=a-1;p<v;p++)cp(e,d,f,i[p],i[p+1]);return cp(e,d,f,c,gt(b)?e.length:c+b),d}return cp(e,d,f),d}function eZ(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(r,s))}function tZ(n,e,t){const r=sZ(n),s=e.length/t;if(!r)return Math.max(s,1);const i=YX(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function nZ(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function rZ(n,e,t,r){let s=0,i=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===i&&(e.push(n[a]),s++,i=t[s*r])}function cp(n,e,t,r,s){const i=Je(r,0),a=Math.min(Je(s,n.length),n.length);let l=0,c,d,f;for(t=Math.ceil(t),s&&(c=s-r,t=c/Math.floor(c/t)),f=i;f<0;)l++,f=Math.round(i+l*t);for(d=Math.max(i,0);d<a;d++)d===f&&(e.push(n[d]),l++,f=Math.round(i+l*t))}function sZ(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const iZ=n=>n==="left"?"right":n==="right"?"left":n,CN=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,NN=(n,e)=>Math.min(e||n,n);function kN(n,e){const t=[],r=n.length/e,s=n.length;let i=0;for(;i<s;i+=r)t.push(n[Math.floor(i)]);return t}function aZ(n,e,t){const r=n.ticks.length,s=Math.min(e,r-1),i=n._startPixel,a=n._endPixel,l=1e-6;let c=n.getPixelForTick(s),d;if(!(t&&(r===1?d=Math.max(c-i,a-c):e===0?d=(n.getPixelForTick(1)-c)/2:d=(c-n.getPixelForTick(s-1))/2,c+=s<e?d:-d,c<i-l||c>a+l)))return c}function oZ(n,e){ct(n,t=>{const r=t.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete t.data[r[i]];r.splice(0,s)}})}function Dd(n){return n.drawTicks?n.tickLength:0}function AN(n,e){if(!n.display)return 0;const t=Hn(n.font,e),r=ms(n.padding);return(gn(n.text)?n.text.length:1)*t.lineHeight+r.height}function lZ(n,e){return Wl(n,{scale:e,type:"scale"})}function cZ(n,e,t){return Wl(n,{tick:t,index:e,type:"tick"})}function uZ(n,e,t){let r=aT(n);return(t&&e!=="right"||!t&&e==="right")&&(r=iZ(r)),r}function dZ(n,e,t,r){const{top:s,left:i,bottom:a,right:l,chart:c}=n,{chartArea:d,scales:f}=c;let p=0,v,b,x;const w=a-s,T=l-i;if(n.isHorizontal()){if(b=Bn(r,i,l),rt(t)){const P=Object.keys(t)[0],C=t[P];x=f[P].getPixelForValue(C)+w-e}else t==="center"?x=(d.bottom+d.top)/2+w-e:x=CN(n,t,e);v=l-i}else{if(rt(t)){const P=Object.keys(t)[0],C=t[P];b=f[P].getPixelForValue(C)-T+e}else t==="center"?b=(d.left+d.right)/2-T+e:b=CN(n,t,e);x=Bn(r,a,s),p=t==="left"?-js:js}return{titleX:b,titleY:x,maxWidth:v,rotation:p}}class Lu extends Hl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:s}=this;return e=Qs(e,Number.POSITIVE_INFINITY),t=Qs(t,Number.NEGATIVE_INFINITY),r=Qs(r,Number.POSITIVE_INFINITY),s=Qs(s,Number.NEGATIVE_INFINITY),{min:Qs(e,r),max:Qs(t,s),minDefined:fs(e),maxDefined:fs(t)}}getMinMax(e){let{min:t,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:t,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)a=l[c].controller.getMinMax(this,e),s||(t=Math.min(t,a.min)),i||(r=Math.max(r,a.max));return t=i&&t>r?r:t,r=s&&t>r?t:r,{min:Qs(t,Qs(r,t)),max:Qs(r,Qs(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_t(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kQ(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?kN(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=ZJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_t(this.options.afterUpdate,[this])}beforeSetDimensions(){_t(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_t(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),_t(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_t(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=_t(t.callback,[i.value,r,e],this)}afterTickToLabelConversion(){_t(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_t(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=NN(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,i=t.maxRotation;let a=s,l,c,d;if(!this._isVisible()||!t.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),p=f.widest.width,v=f.highest.height,b=os(this.chart.width-p,0,this.maxWidth);l=e.offset?this.maxWidth/r:b/(r-1),p+6>l&&(l=b/(r-(e.offset?.5:1)),c=this.maxHeight-Dd(e.grid)-t.padding-AN(e.title,this.chart.options.font),d=Math.sqrt(p*p+v*v),a=JX(Math.min(Math.asin(os((f.highest.height+6)/l,-1,1)),Math.asin(os(c/d,-1,1))-Math.asin(os(v/d,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){_t(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_t(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=AN(s,t.options.font);if(l?(e.width=this.maxWidth,e.height=Dd(i)+c):(e.height=this.maxHeight,e.width=Dd(i)+c),r.display&&this.ticks.length){const{first:d,last:f,widest:p,highest:v}=this._getLabelSizes(),b=r.padding*2,x=dl(this.labelRotation),w=Math.cos(x),T=Math.sin(x);if(l){const P=r.mirror?0:T*p.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+P+b)}else{const P=r.mirror?0:w*p.width+T*v.height;e.width=Math.min(this.maxWidth,e.width+P+b)}this._calculatePadding(d,f,T,w)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;c?d?(v=s*e.width,b=r*t.height):(v=r*e.height,b=s*t.width):i==="start"?b=t.width:i==="end"?v=e.width:i!=="inner"&&(v=e.width/2,b=t.width/2),this.paddingLeft=Math.max((v-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((b-p+a)*this.width/(this.width-p),0)}else{let f=t.height/2,p=e.height/2;i==="start"?(f=0,p=e.height):i==="end"&&(f=t.height,p=0),this.paddingTop=f+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_t(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)gt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=kN(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(t/NN(t,r));let d=0,f=0,p,v,b,x,w,T,P,C,D,B,L;for(p=0;p<t;p+=c){if(x=e[p].label,w=this._resolveTickFontOptions(p),s.font=T=w.string,P=i[T]=i[T]||{data:{},gc:[]},C=w.lineHeight,D=B=0,!gt(x)&&!gn(x))D=oN(s,P.data,P.gc,D,x),B=C;else if(gn(x))for(v=0,b=x.length;v<b;++v)L=x[v],!gt(L)&&!gn(L)&&(D=oN(s,P.data,P.gc,D,L),B+=C);a.push(D),l.push(B),d=Math.max(D,d),f=Math.max(B,f)}oZ(i,t);const U=a.indexOf(d),M=l.indexOf(f),I=N=>({width:a[N]||0,height:l[N]||0});return{first:I(0),last:I(t-1),widest:I(U),highest:I(M),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return tQ(this._alignToPixels?Ko(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=cZ(this.getContext(),e,r))}return this.$context||(this.$context=lZ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=dl(this.labelRotation),r=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,d=this.isHorizontal(),p=this.ticks.length+(c?1:0),v=Dd(i),b=[],x=l.setContext(this.getContext()),w=x.display?x.width:0,T=w/2,P=function(ie){return Ko(r,ie,w)};let C,D,B,L,U,M,I,N,j,A,O,R;if(a==="top")C=P(this.bottom),M=this.bottom-v,N=C-T,A=P(e.top)+T,R=e.bottom;else if(a==="bottom")C=P(this.top),A=e.top,R=P(e.bottom)-T,M=C+T,N=this.top+v;else if(a==="left")C=P(this.right),U=this.right-v,I=C-T,j=P(e.left)+T,O=e.right;else if(a==="right")C=P(this.left),j=e.left,O=P(e.right)-T,U=C+T,I=this.left+v;else if(t==="x"){if(a==="center")C=P((e.top+e.bottom)/2+.5);else if(rt(a)){const ie=Object.keys(a)[0],ue=a[ie];C=P(this.chart.scales[ie].getPixelForValue(ue))}A=e.top,R=e.bottom,M=C+T,N=M+v}else if(t==="y"){if(a==="center")C=P((e.left+e.right)/2);else if(rt(a)){const ie=Object.keys(a)[0],ue=a[ie];C=P(this.chart.scales[ie].getPixelForValue(ue))}U=C-T,I=U-v,j=e.left,O=e.right}const G=Je(s.ticks.maxTicksLimit,p),J=Math.max(1,Math.ceil(p/G));for(D=0;D<p;D+=J){const ie=this.getContext(D),ue=i.setContext(ie),ee=l.setContext(ie),ce=ue.lineWidth,se=ue.color,H=ee.dash||[],te=ee.dashOffset,be=ue.tickWidth,Ee=ue.tickColor,re=ue.tickBorderDash||[],le=ue.tickBorderDashOffset;B=aZ(this,D,c),B!==void 0&&(L=Ko(r,B,ce),d?U=I=j=O=L:M=N=A=R=L,b.push({tx1:U,ty1:M,tx2:I,ty2:N,x1:j,y1:A,x2:O,y2:R,width:ce,color:se,borderDash:H,borderDashOffset:te,tickWidth:be,tickColor:Ee,tickBorderDash:re,tickBorderDashOffset:le}))}return this._ticksLength=p,this._borderValue=C,b}_computeLabelItems(e){const t=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:f,mirror:p}=i,v=Dd(r.grid),b=v+f,x=p?-f:b,w=-dl(this.labelRotation),T=[];let P,C,D,B,L,U,M,I,N,j,A,O,R="middle";if(s==="top")U=this.bottom-x,M=this._getXAxisLabelAlignment();else if(s==="bottom")U=this.top+x,M=this._getXAxisLabelAlignment();else if(s==="left"){const J=this._getYAxisLabelAlignment(v);M=J.textAlign,L=J.x}else if(s==="right"){const J=this._getYAxisLabelAlignment(v);M=J.textAlign,L=J.x}else if(t==="x"){if(s==="center")U=(e.top+e.bottom)/2+b;else if(rt(s)){const J=Object.keys(s)[0],ie=s[J];U=this.chart.scales[J].getPixelForValue(ie)+b}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")L=(e.left+e.right)/2-b;else if(rt(s)){const J=Object.keys(s)[0],ie=s[J];L=this.chart.scales[J].getPixelForValue(ie)}M=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(c==="start"?R="top":c==="end"&&(R="bottom"));const G=this._getLabelSizes();for(P=0,C=l.length;P<C;++P){D=l[P],B=D.label;const J=i.setContext(this.getContext(P));I=this.getPixelForTick(P)+i.labelOffset,N=this._resolveTickFontOptions(P),j=N.lineHeight,A=gn(B)?B.length:1;const ie=A/2,ue=J.color,ee=J.textStrokeColor,ce=J.textStrokeWidth;let se=M;a?(L=I,M==="inner"&&(P===C-1?se=this.options.reverse?"left":"right":P===0?se=this.options.reverse?"right":"left":se="center"),s==="top"?d==="near"||w!==0?O=-A*j+j/2:d==="center"?O=-G.highest.height/2-ie*j+j:O=-G.highest.height+j/2:d==="near"||w!==0?O=j/2:d==="center"?O=G.highest.height/2-ie*j:O=G.highest.height-A*j,p&&(O*=-1),w!==0&&!J.showLabelBackdrop&&(L+=j/2*Math.sin(w))):(U=I,O=(1-A)*j/2);let H;if(J.showLabelBackdrop){const te=ms(J.backdropPadding),be=G.heights[P],Ee=G.widths[P];let re=O-te.top,le=0-te.left;switch(R){case"middle":re-=be/2;break;case"bottom":re-=be;break}switch(M){case"center":le-=Ee/2;break;case"right":le-=Ee;break;case"inner":P===C-1?le-=Ee:P>0&&(le-=Ee/2);break}H={left:le,top:re,width:Ee+te.width,height:be+te.height,color:J.backdropColor}}T.push({label:B,font:N,textOffset:O,options:{rotation:w,color:ue,strokeColor:ee,strokeWidth:ce,textAlign:se,textBaseline:R,translation:[L,U],backdrop:H}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-dl(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let d,f;return t==="left"?s?(f=this.right+i,r==="near"?d="left":r==="center"?(d="center",f+=c/2):(d="right",f+=c)):(f=this.right-l,r==="near"?d="right":r==="center"?(d="center",f-=c/2):(d="left",f=this.left)):t==="right"?s?(f=this.left+i,r==="near"?d="right":r==="center"?(d="center",f-=c/2):(d="left",f-=c)):(f=this.left+l,r==="near"?d="left":r==="center"?(d="center",f+=c/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:s,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,d,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(t.display)for(i=0,a=s.length;i<a;++i){const c=s[i];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,f,p,v;this.isHorizontal()?(d=Ko(e,this.left,a)-a/2,f=Ko(e,this.right,l)+l/2,p=v=c):(p=Ko(e,this.top,a)-a/2,v=Ko(e,this.bottom,l)+l/2,d=f=c),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(d,p),t.lineTo(f,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&lT(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,d=a.label,f=a.textOffset;Qh(r,d,0,f,c,l)}s&&cT(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:s}}=this;if(!r.display)return;const i=Hn(r.font),a=ms(r.padding),l=r.align;let c=i.lineHeight/2;t==="bottom"||t==="center"||rt(t)?(c+=a.bottom,gn(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:d,titleY:f,maxWidth:p,rotation:v}=dZ(this,c,t,l);Qh(e,r.text,0,0,i,{color:r.color,maxWidth:p,rotation:v,textAlign:uZ(l,t,s),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Je(e.grid&&e.grid.z,-1),s=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Lu.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Hn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class up{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;mZ(t)&&(r=this.register(t));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,hZ(e,a,r),this.override&&Gt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,s=this.scope;r in t&&delete t[r],s&&r in Gt[s]&&(delete Gt[s][r],this.override&&delete Rl[r])}}function hZ(n,e,t){const r=Yh(Object.create(null),[t?Gt.get(t):{},Gt.get(e),n.defaults]);Gt.set(e,r),n.defaultRoutes&&fZ(e,n.defaultRoutes),n.descriptors&&Gt.describe(e,n.descriptors)}function fZ(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),s=r.pop(),i=[n].concat(r).join("."),a=e[t].split("."),l=a.pop(),c=a.join(".");Gt.route(i,s,c,l)})}function mZ(n){return"id"in n&&"defaults"in n}class pZ{constructor(){this.controllers=new up(yh,"datasets",!0),this.elements=new up(Hl,"elements"),this.plugins=new up(Object,"plugins"),this.scales=new up(Lu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):ct(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,r){const s=sT(e);_t(r["before"+s],[],r),t[e](r),_t(r["after"+s],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Zs=new pZ;class gZ{constructor(){this._init=[]}notify(e,t,r,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,t,r);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[t,s,i.options];if(_t(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,s=Je(r.options&&r.options.plugins,{}),i=yZ(r);return s===!1&&!t?[]:xZ(e,i,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(t,r),e,"stop"),this._notify(s(r,t),e,"start")}}function yZ(n){const e={},t=[],r=Object.keys(Zs.plugins.items);for(let i=0;i<r.length;i++)t.push(Zs.getPlugin(r[i]));const s=n.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function vZ(n,e){return!e&&n===!1?null:n===!0?{}:n}function xZ(n,{plugins:e,localIds:t},r,s){const i=[],a=n.getContext();for(const l of e){const c=l.id,d=vZ(r[c],s);d!==null&&i.push({plugin:l,options:wZ(n.config,{plugin:l,local:t[c]},d,a)})}return i}function wZ(n,{plugin:e,local:t},r,s){const i=n.pluginScopeKeys(e),a=n.getOptionScopes(r,i);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hw(n,e){const t=Gt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function bZ(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function _Z(n,e){return n===e?"_index_":"_value_"}function DN(n){if(n==="x"||n==="y"||n==="r")return n}function TZ(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function qw(n,...e){if(DN(n))return n;for(const t of e){const r=t.axis||TZ(t.position)||n.length>1&&DN(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function RN(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function EZ(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return RN(n,"x",t[0])||RN(n,"y",t[0])}return{}}function SZ(n,e){const t=Rl[n.type]||{scales:{}},r=e.scales||{},s=Hw(n.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!rt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=qw(a,l,EZ(a,n),Gt.scales[l.type]),d=_Z(c,s),f=t.scales||{};i[a]=hh(Object.create(null),[{axis:c},l,f[c],f[d]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||Hw(l,e),f=(Rl[l]||{}).scales||{};Object.keys(f).forEach(p=>{const v=bZ(p,c),b=a[v+"AxisID"]||v;i[b]=i[b]||Object.create(null),hh(i[b],[{axis:v},r[b],f[p]])})}),Object.keys(i).forEach(a=>{const l=i[a];hh(l,[Gt.scales[l.type],Gt.scale])}),i}function WM(n){const e=n.options||(n.options={});e.plugins=Je(e.plugins,{}),e.scales=SZ(n,e)}function HM(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function IZ(n){return n=n||{},n.data=HM(n.data),WM(n),n}const jN=new Map,qM=new Set;function dp(n,e){let t=jN.get(n);return t||(t=e(),jN.set(n,t),qM.add(t)),t}const Rd=(n,e,t)=>{const r=Og(e,t);r!==void 0&&n.add(r)};class PZ{constructor(e){this._config=IZ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=HM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),WM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return dp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return dp(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return dp(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return dp(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let s=r.get(e);return(!s||t)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,t,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(t);if(l)return l;const c=new Set;t.forEach(f=>{e&&(c.add(e),f.forEach(p=>Rd(c,e,p))),f.forEach(p=>Rd(c,s,p)),f.forEach(p=>Rd(c,Rl[i]||{},p)),f.forEach(p=>Rd(c,Gt,p)),f.forEach(p=>Rd(c,Uw,p))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),qM.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Rl[t]||{},Gt.datasets[t]||{},{type:t},Gt,Uw]}resolveNamedOptions(e,t,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=MN(this._resolverCache,e,s);let c=a;if(NZ(a,t)){i.$shared=!1,r=uo(r)?r():r;const d=this.createResolver(e,r,l);c=wu(a,r,d)}for(const d of t)i[d]=c[d];return i}createResolver(e,t,r=[""],s){const{resolver:i}=MN(this._resolverCache,e,r);return rt(t)?wu(i,t,void 0,s):i}}function MN(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const s=t.join();let i=r.get(s);return i||(i={resolver:uT(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const CZ=n=>rt(n)&&Object.getOwnPropertyNames(n).some(e=>uo(n[e]));function NZ(n,e){const{isScriptable:t,isIndexable:r}=NM(n);for(const s of e){const i=t(s),a=r(s),l=(a||i)&&n[s];if(i&&(uo(l)||CZ(l))||a&&gn(l))return!0}return!1}var kZ="4.4.8";const AZ=["top","bottom","left","right","chartArea"];function ON(n,e){return n==="top"||n==="bottom"||AZ.indexOf(n)===-1&&e==="x"}function LN(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function VN(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),_t(t&&t.onComplete,[n],e)}function DZ(n){const e=n.chart,t=e.options.animation;_t(t&&t.onProgress,[n],e)}function GM(n){return fT()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Vp={},FN=n=>{const e=GM(n);return Object.values(Vp).filter(t=>t.canvas===e).pop()};function RZ(n,e,t){const r=Object.keys(n);for(const s of r){const i=+s;if(i>=e){const a=n[s];delete n[s],(t>0||i>e)&&(n[i+t]=a)}}}function jZ(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}function hp(n,e,t){return n.options.clip?n[t]:e[t]}function MZ(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:hp(t,e,"left"),right:hp(t,e,"right"),top:hp(r,e,"top"),bottom:hp(r,e,"bottom")}:e}var Ma;let By=(Ma=class{static register(...e){Zs.add(...e),BN()}static unregister(...e){Zs.remove(...e),BN()}constructor(e,t){const r=this.config=new PZ(t),s=GM(e),i=FN(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||JJ(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,f=c&&c.width;if(this.id=FX(),this.ctx=l,this.canvas=c,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aQ(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],Vp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Vi.listen(this,"complete",VN),Vi.listen(this,"progress",DZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:s,_aspectRatio:i}=this;return gt(e)?t&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lN(this.canvas,this.ctx),this}stop(){return Vi.stop(this),this}resize(e,t){Vi.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,t,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,dN(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),_t(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ct(t,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];t&&(i=i.concat(Object.keys(t).map(a=>{const l=t[a],c=qw(a,l),d=c==="r",f=c==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),ct(i,a=>{const l=a.options,c=l.id,d=qw(c,l),f=Je(l.type,a.dtype);(l.position===void 0||ON(l.position,d)!==ON(a.dposition))&&(l.position=a.dposition),s[c]=!0;let p=null;if(c in r&&r[c].type===f)p=r[c];else{const v=Zs.getScale(f);p=new v({id:c,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(l,e)}),ct(s,(a,l)=>{a||delete r[l]}),ct(r,a=>{ls.configure(this,a,a.options),ls.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>t){for(let s=t;s<r;++s)this._destroyDatasetMeta(s);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(LN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,s)=>{t.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=t.length;r<s;r++){const i=t[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||Hw(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Zs.getController(l),{datasetElementType:d,dataElementType:f}=Gt.datasets[l];Object.assign(c,{dataElementType:Zs.getElement(f),datasetElementType:d&&Zs.getElement(d)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ct(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:p}=this.getDatasetMeta(d),v=!s&&i.indexOf(p)===-1;p.buildOrUpdateElements(v),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||ct(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(LN("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ct(this.scales,e=>{ls.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!JC(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of t){const a=r==="_removeElements"?-i:i;RZ(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<t;i++)if(!JC(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ls.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],ct(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,uo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vi.has(this)?this.attached&&!Vi.running(this)&&Vi.start(this):(this.draw(),VN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let s,i;for(s=0,i=t.length;s<i;++s){const a=t[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,s=!r.disabled,i=MZ(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&lT(t,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),s&&cT(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Xh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,s){const i=AJ.modes[t];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Wl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Lg(t)?(i.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Vi.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),lN(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Vp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(i,a)=>{t.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};ct(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},s=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){ct(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ct(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const s=r?"set":"remove";let i,a,l,c;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!jg(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const s=this.options.hover,i=(c,d)=>c.filter(f=>!d.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),a=i(t,e),l=r?e:i(e,t);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:s=[],options:i}=this,a=t,l=this._getActiveElements(e,s,r,a),c=HX(e),d=jZ(e,this._lastEvent,r,c);r&&(this._lastEvent=null,_t(i.onHover,[e,l,this],this),c&&_t(i.onClick,[e,l,this],this));const f=!jg(l,s);return(f||t)&&(this._active=l,this._updateHoverStyles(l,s,t)),this._lastEvent=d,f}_getActiveElements(e,t,r,s){if(e.type==="mouseout")return[];if(!r)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},$e(Ma,"defaults",Gt),$e(Ma,"instances",Vp),$e(Ma,"overrides",Rl),$e(Ma,"registry",Zs),$e(Ma,"version",kZ),$e(Ma,"getChart",FN),Ma);function BN(){return ct(By.instances,n=>n._plugins.invalidate())}function YM(n,e,t=e){n.lineCap=Je(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Je(t.borderDash,e.borderDash)),n.lineDashOffset=Je(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Je(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Je(t.borderWidth,e.borderWidth),n.strokeStyle=Je(t.borderColor,e.borderColor)}function OZ(n,e,t){n.lineTo(t.x,t.y)}function LZ(n){return n.stepped?wQ:n.tension||n.cubicInterpolationMode==="monotone"?bQ:OZ}function KM(n,e,t={}){const r=n.length,{start:s=0,end:i=r-1}=t,{start:a,end:l}=e,c=Math.max(s,a),d=Math.min(i,l),f=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:d<c&&!f?r+d-c:d-c}}function VZ(n,e,t,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:d}=KM(s,t,r),f=LZ(i);let{move:p=!0,reverse:v}=r||{},b,x,w;for(b=0;b<=d;++b)x=s[(l+(v?d-b:b))%a],!x.skip&&(p?(n.moveTo(x.x,x.y),p=!1):f(n,w,x,v,i.stepped),w=x);return c&&(x=s[(l+(v?d:0))%a],f(n,w,x,v,i.stepped)),!!c}function FZ(n,e,t,r){const s=e.points,{count:i,start:a,ilen:l}=KM(s,t,r),{move:c=!0,reverse:d}=r||{};let f=0,p=0,v,b,x,w,T,P;const C=B=>(a+(d?l-B:B))%i,D=()=>{w!==T&&(n.lineTo(f,T),n.lineTo(f,w),n.lineTo(f,P))};for(c&&(b=s[C(0)],n.moveTo(b.x,b.y)),v=0;v<=l;++v){if(b=s[C(v)],b.skip)continue;const B=b.x,L=b.y,U=B|0;U===x?(L<w?w=L:L>T&&(T=L),f=(p*f+B)/++p):(D(),n.lineTo(B,L),x=U,p=0,w=T=L),P=L}D()}function Gw(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?FZ:VZ}function BZ(n){return n.stepped?eJ:n.tension||n.cubicInterpolationMode==="monotone"?tJ:rl}function zZ(n,e,t,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,r)&&s.closePath()),YM(n,e.options),n.stroke(s)}function UZ(n,e,t,r){const{segments:s,options:i}=e,a=Gw(e);for(const l of s)YM(n,i,l.style),n.beginPath(),a(n,e,l,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const $Z=typeof Path2D=="function";function WZ(n,e,t,r){$Z&&!e.options.segment?zZ(n,e,t,r):UZ(n,e,t,r)}class Xd extends Hl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;qQ(this._points,r,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=cJ(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,s=e[t],i=this.points,a=aJ(this,{property:t,start:s,end:s});if(!a.length)return;const l=[],c=BZ(r);let d,f;for(d=0,f=a.length;d<f;++d){const{start:p,end:v}=a[d],b=i[p],x=i[v];if(b===x){l.push(b);continue}const w=Math.abs((s-b[t])/(x[t]-b[t])),T=c(b,x,w,r.stepped);T[t]=e[t],l.push(T)}return l.length===1?l[0]:l}pathSegment(e,t,r){return Gw(this)(e,this,t,r)}path(e,t,r){const s=this.segments,i=Gw(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const l of s)a&=i(e,this,l,{start:t,end:t+r-1});return!!a}draw(e,t,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),WZ(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$e(Xd,"id","line"),$e(Xd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$e(Xd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$e(Xd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function zN(n,e,t,r){const s=n.options,{[t]:i}=n.getProps([t],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Fp extends Hl{constructor(t){super();$e(this,"parsed");$e(this,"skip");$e(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(t-a,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,r){return zN(this,t,"x",r)}inYRange(t,r){return zN(this,t,"y",r)}getCenterPoint(t){const{x:r,y:s}=this.getProps(["x","y"],t);return{x:r,y:s}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const s=r&&t.borderWidth||0;return(r+s)*2}draw(t,r){const s=this.options;this.skip||s.radius<.1||!Xh(this,r,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,$w(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}$e(Fp,"id","point"),$e(Fp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$e(Fp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const UN=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},HZ=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class $N extends Hl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=_t(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Hn(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=UN(r,i);let d,f;t.font=s.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,i,l,c)+10):(f=this.maxHeight,d=this._fitCols(a,s,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],f=s+l;let p=e;i.textAlign="left",i.textBaseline="middle";let v=-1,b=-f;return this.legendItems.forEach((x,w)=>{const T=r+t/2+i.measureText(x.text).width;(w===0||d[d.length-1]+T+2*l>a)&&(p+=f,d[d.length-(w>0?0:1)]=0,b+=f,v++),c[w]={left:0,top:b,row:v,width:T,height:s},d[d.length-1]+=T+l}),p}_fitCols(e,t,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-e;let p=l,v=0,b=0,x=0,w=0;return this.legendItems.forEach((T,P)=>{const{itemWidth:C,itemHeight:D}=qZ(r,t,i,T,s);P>0&&b+D+2*l>f&&(p+=v+l,d.push({width:v,height:b}),x+=v+l,w++,v=b=0),c[P]={left:x,top:b,col:w,width:C,height:D},v=Math.max(v,C),b+=D+l}),p+=v,d.push({width:v,height:b}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:s},rtl:i}}=this,a=ru(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Bn(r,this.left+s,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=Bn(r,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+e+s,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+s}else{let l=0,c=Bn(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=Bn(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;lT(e,this),this._draw(),cT(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=Gt.color,c=ru(e.rtl,this.left,this.width),d=Hn(a.font),{padding:f}=a,p=d.size,v=p/2;let b;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:x,boxHeight:w,itemHeight:T}=UN(a,p),P=function(U,M,I){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;s.save();const N=Je(I.lineWidth,1);if(s.fillStyle=Je(I.fillStyle,l),s.lineCap=Je(I.lineCap,"butt"),s.lineDashOffset=Je(I.lineDashOffset,0),s.lineJoin=Je(I.lineJoin,"miter"),s.lineWidth=N,s.strokeStyle=Je(I.strokeStyle,l),s.setLineDash(Je(I.lineDash,[])),a.usePointStyle){const j={radius:w*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:N},A=c.xPlus(U,x/2),O=M+v;PM(s,j,A,O,a.pointStyleWidth&&x)}else{const j=M+Math.max((p-w)/2,0),A=c.leftForLtr(U,x),O=gh(I.borderRadius);s.beginPath(),Object.values(O).some(R=>R!==0)?Ww(s,{x:A,y:j,w:x,h:w,radius:O}):s.rect(A,j,x,w),s.fill(),N!==0&&s.stroke()}s.restore()},C=function(U,M,I){Qh(s,I.text,U,M+T/2,d,{strikethrough:I.hidden,textAlign:c.textAlign(I.textAlign)})},D=this.isHorizontal(),B=this._computeTitleHeight();D?b={x:Bn(i,this.left+f,this.right-r[0]),y:this.top+f+B,line:0}:b={x:this.left+f,y:Bn(i,this.top+B+f,this.bottom-t[0].height),line:0},jM(this.ctx,e.textDirection);const L=T+f;this.legendItems.forEach((U,M)=>{s.strokeStyle=U.fontColor,s.fillStyle=U.fontColor;const I=s.measureText(U.text).width,N=c.textAlign(U.textAlign||(U.textAlign=a.textAlign)),j=x+v+I;let A=b.x,O=b.y;c.setWidth(this.width),D?M>0&&A+j+f>this.right&&(O=b.y+=L,b.line++,A=b.x=Bn(i,this.left+f,this.right-r[b.line])):M>0&&O+L>this.bottom&&(A=b.x=A+t[b.line].width+f,b.line++,O=b.y=Bn(i,this.top+B+f,this.bottom-t[b.line].height));const R=c.x(A);if(P(R,O,U),A=oQ(N,A+x+v,D?A+j:this.right,e.rtl),C(c.x(A),O,U),D)b.x+=j+f;else if(typeof U.text!="string"){const G=d.lineHeight;b.y+=XM(U,G)+f}else b.y+=L}),MM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Hn(t.font),s=ms(t.padding);if(!t.display)return;const i=ru(e.rtl,this.left,this.width),a=this.ctx,l=t.position,c=r.size/2,d=s.top+c;let f,p=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),f=this.top+d,p=Bn(e.align,p,this.right-v);else{const x=this.columnSizes.reduce((w,T)=>Math.max(w,T.height),0);f=d+Bn(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const b=Bn(l,p,p+v);a.textAlign=i.textAlign(aT(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,Qh(a,t.text,b,f,r)}_computeTitleHeight(){const e=this.options.title,t=Hn(e.font),r=ms(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,s,i;if(Yd(e,this.left,this.right)&&Yd(t,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Yd(e,s.left,s.left+s.width)&&Yd(t,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!KZ(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=HZ(s,r);s&&!i&&_t(t.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&_t(t.onHover,[e,r,this],this)}else r&&_t(t.onClick,[e,r,this],this)}}function qZ(n,e,t,r,s){const i=GZ(r,n,e,t),a=YZ(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function GZ(n,e,t,r){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+t.size/2+r.measureText(s).width}function YZ(n,e,t){let r=n;return typeof e.text!="string"&&(r=XM(e,t)),r}function XM(n,e){const t=n.text?n.text.length:0;return e*t}function KZ(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var XZ={id:"legend",_element:$N,start(n,e,t){const r=n.legend=new $N({ctx:n.ctx,options:t,chart:n});ls.configure(n,r,t),ls.addBox(n,r)},stop(n){ls.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;ls.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,s=t.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),f=ms(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class QM extends Hl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=gn(r.text)?r.text.length:1;this._padding=ms(r.padding);const i=s*Hn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,d,f,p;return this.isHorizontal()?(f=Bn(l,r,i),p=t+e,d=i-r):(a.position==="left"?(f=r+e,p=Bn(l,s,t),c=vn*-.5):(f=i-e,p=Bn(l,t,s),c=vn*.5),d=s-t),{titleX:f,titleY:p,maxWidth:d,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Hn(t.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);Qh(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:d,textAlign:aT(t.align),textBaseline:"middle",translation:[a,l]})}}function QZ(n,e){const t=new QM({ctx:n.ctx,options:e,chart:n});ls.configure(n,t,e),ls.addBox(n,t),n.titleBlock=t}var JZ={id:"title",_element:QM,start(n,e,t){QZ(n,t)},stop(n){const e=n.titleBlock;ls.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;ls.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qd={average(n){if(!n.length)return!1;let e,t,r=new Set,s=0,i=0;for(e=0,t=n.length;e<t;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=n.length;i<a;++i){const c=n[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),f=zw(e,d);f<s&&(s=f,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function Js(n,e){return e&&(gn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Fi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function ZZ(n,e){const{element:t,datasetIndex:r,index:s}=e,i=n.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:n,label:a,parsed:i.getParsed(s),raw:n.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:t}}function WN(n,e){const t=n.chart.ctx,{body:r,footer:s,title:i}=n,{boxWidth:a,boxHeight:l}=e,c=Hn(e.bodyFont),d=Hn(e.titleFont),f=Hn(e.footerFont),p=i.length,v=s.length,b=r.length,x=ms(e.padding);let w=x.height,T=0,P=r.reduce((B,L)=>B+L.before.length+L.lines.length+L.after.length,0);if(P+=n.beforeBody.length+n.afterBody.length,p&&(w+=p*d.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),P){const B=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;w+=b*B+(P-b)*c.lineHeight+(P-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*f.lineHeight+(v-1)*e.footerSpacing);let C=0;const D=function(B){T=Math.max(T,t.measureText(B).width+C)};return t.save(),t.font=d.string,ct(n.title,D),t.font=c.string,ct(n.beforeBody.concat(n.afterBody),D),C=e.displayColors?a+2+e.boxPadding:0,ct(r,B=>{ct(B.before,D),ct(B.lines,D),ct(B.after,D)}),C=0,t.font=f.string,ct(n.footer,D),t.restore(),T+=x.width,{width:T,height:w}}function eee(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function tee(n,e,t,r){const{x:s,width:i}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&s+i+a>e.width||n==="right"&&s-i-a<0)return!0}function nee(n,e,t,r){const{x:s,width:i}=t,{width:a,chartArea:{left:l,right:c}}=n;let d="center";return r==="center"?d=s<=(l+c)/2?"left":"right":s<=i/2?d="left":s>=a-i/2&&(d="right"),tee(d,n,e,t)&&(d="center"),d}function HN(n,e,t){const r=t.yAlign||e.yAlign||eee(n,t);return{xAlign:t.xAlign||e.xAlign||nee(n,e,t,r),yAlign:r}}function ree(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function see(n,e,t){let{y:r,height:s}=n;return e==="top"?r+=t:e==="bottom"?r-=s+t:r-=s/2,r}function qN(n,e,t,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=n,{xAlign:l,yAlign:c}=t,d=s+i,{topLeft:f,topRight:p,bottomLeft:v,bottomRight:b}=gh(a);let x=ree(e,l);const w=see(e,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(f,v)+s:l==="right"&&(x+=Math.max(p,b)+s),{x:os(x,0,r.width-e.width),y:os(w,0,r.height-e.height)}}function fp(n,e,t){const r=ms(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function GN(n){return Js([],Fi(n))}function iee(n,e,t){return Wl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function YN(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const JM={beforeTitle:Oi,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Oi,beforeBody:Oi,beforeLabel:Oi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return gt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Oi,afterBody:Oi,beforeFooter:Oi,footer:Oi,afterFooter:Oi};function gr(n,e,t,r){const s=n[e].call(t,r);return typeof s>"u"?JM[e].call(t,r):s}class Yw extends Hl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&t.options.animation&&r.animations,i=new LM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=iee(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,s=gr(r,"beforeTitle",this,e),i=gr(r,"title",this,e),a=gr(r,"afterTitle",this,e);let l=[];return l=Js(l,Fi(s)),l=Js(l,Fi(i)),l=Js(l,Fi(a)),l}getBeforeBody(e,t){return GN(gr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,s=[];return ct(e,i=>{const a={before:[],lines:[],after:[]},l=YN(r,i);Js(a.before,Fi(gr(l,"beforeLabel",this,i))),Js(a.lines,gr(l,"label",this,i)),Js(a.after,Fi(gr(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,t){return GN(gr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,s=gr(r,"beforeFooter",this,e),i=gr(r,"footer",this,e),a=gr(r,"afterFooter",this,e);let l=[];return l=Js(l,Fi(s)),l=Js(l,Fi(i)),l=Js(l,Fi(a)),l}_createItems(e){const t=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push(ZZ(this.chart,t[c]));return e.filter&&(l=l.filter((f,p,v)=>e.filter(f,p,v,r))),e.itemSort&&(l=l.sort((f,p)=>e.itemSort(f,p,r))),ct(l,f=>{const p=YN(e.callbacks,f);s.push(gr(p,"labelColor",this,f)),i.push(gr(p,"labelPointStyle",this,f)),a.push(gr(p,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=Qd[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=WN(this,r),d=Object.assign({},l,c),f=HN(this.chart,r,d),p=qN(r,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,i={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,s){const i=this.getCaretPosition(e,r,s);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:p}=gh(l),{x:v,y:b}=e,{width:x,height:w}=t;let T,P,C,D,B,L;return i==="center"?(B=b+w/2,s==="left"?(T=v,P=T-a,D=B+a,L=B-a):(T=v+x,P=T+a,D=B-a,L=B+a),C=T):(s==="left"?P=v+Math.max(c,f)+a:s==="right"?P=v+x-Math.max(d,p)-a:P=this.caretX,i==="top"?(D=b,B=D-a,T=P-a,C=P+a):(D=b+w,B=D+a,T=P+a,C=P-a),L=D),{x1:T,x2:P,x3:C,y1:D,y2:B,y3:L}}drawTitle(e,t,r){const s=this.title,i=s.length;let a,l,c;if(i){const d=ru(r.rtl,this.x,this.width);for(e.x=fp(this,r.titleAlign,r),t.textAlign=d.textAlign(r.titleAlign),t.textBaseline="middle",a=Hn(r.titleFont),l=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,c=0;c<i;++c)t.fillText(s[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,t,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=i,f=Hn(i.bodyFont),p=fp(this,"left",i),v=s.x(p),b=c<f.lineHeight?(f.lineHeight-c)/2:0,x=t.y+b;if(i.usePointStyle){const w={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},T=s.leftForLtr(v,d)+d/2,P=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,$w(e,w,T,P),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,$w(e,w,T,P)}else{e.lineWidth=rt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=s.leftForLtr(v,d),T=s.leftForLtr(s.xPlus(v,1),d-2),P=gh(a.borderRadius);Object.values(P).some(C=>C!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ww(e,{x:w,y:x,w:d,h:c,radius:P}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Ww(e,{x:T,y:x+1,w:d-2,h:c-2,radius:P}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,x,d,c),e.strokeRect(w,x,d,c),e.fillStyle=a.backgroundColor,e.fillRect(T,x+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:f}=r,p=Hn(r.bodyFont);let v=p.lineHeight,b=0;const x=ru(r.rtl,this.x,this.width),w=function(I){t.fillText(I,x.x(e.x+b),e.y+v/2),e.y+=v+i},T=x.textAlign(a);let P,C,D,B,L,U,M;for(t.textAlign=a,t.textBaseline="middle",t.font=p.string,e.x=fp(this,T,r),t.fillStyle=r.bodyColor,ct(this.beforeBody,w),b=l&&T!=="right"?a==="center"?d/2+f:d+2+f:0,B=0,U=s.length;B<U;++B){for(P=s[B],C=this.labelTextColors[B],t.fillStyle=C,ct(P.before,w),D=P.lines,l&&D.length&&(this._drawColorBox(t,e,B,x,r),v=Math.max(p.lineHeight,c)),L=0,M=D.length;L<M;++L)w(D[L]),v=p.lineHeight;ct(P.after,w)}b=0,v=p.lineHeight,ct(this.afterBody,w),e.y-=i}drawFooter(e,t,r){const s=this.footer,i=s.length;let a,l;if(i){const c=ru(r.rtl,this.x,this.width);for(e.x=fp(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=c.textAlign(r.footerAlign),t.textBaseline="middle",a=Hn(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,l=0;l<i;++l)t.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:f}=r,{topLeft:p,topRight:v,bottomLeft:b,bottomRight:x}=gh(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(l+p,c),a==="top"&&this.drawCaret(e,t,r,s),t.lineTo(l+d-v,c),t.quadraticCurveTo(l+d,c,l+d,c+v),a==="center"&&i==="right"&&this.drawCaret(e,t,r,s),t.lineTo(l+d,c+f-x),t.quadraticCurveTo(l+d,c+f,l+d-x,c+f),a==="bottom"&&this.drawCaret(e,t,r,s),t.lineTo(l+b,c+f),t.quadraticCurveTo(l,c+f,l,c+f-b),a==="center"&&i==="left"&&this.drawCaret(e,t,r,s),t.lineTo(l,c+p),t.quadraticCurveTo(l,c,l+p,c),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=Qd[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=WN(this,e),c=Object.assign({},a,this._size),d=HN(t,e,c),f=qN(e,c,d,t);(s._to!==f.x||i._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=ms(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,t),jM(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),MM(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!jg(r,s),a=this._positionChanged(s,t);(i||a)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,r),l=this._positionChanged(a,e),c=t||!jg(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:s,options:i}=this,a=Qd[i.position].call(this,e,t);return a!==!1&&(r!==a.x||s!==a.y)}}$e(Yw,"positioners",Qd);var aee={id:"tooltip",_element:Yw,positioners:Qd,afterInit(n,e,t){t&&(n.tooltip=new Yw({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:JM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const oee=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function lee(n,e,t,r){const s=n.indexOf(e);if(s===-1)return oee(n,e,t,r);const i=n.lastIndexOf(e);return s!==i?t:s}const cee=(n,e)=>n===null?null:os(Math.round(n),0,e);function KN(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Kw extends Lu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:s,label:i}of t)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(gt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:lee(r,e,Je(t,e),this._addedLabels),cee(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)s.push({value:a});return s}getLabelForValue(e){return KN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$e(Kw,"id","category"),$e(Kw,"defaults",{ticks:{callback:KN}});function uee(n,e){const t=[],{bounds:s,step:i,min:a,max:l,precision:c,count:d,maxTicks:f,maxDigits:p,includeBounds:v}=n,b=i||1,x=f-1,{min:w,max:T}=e,P=!gt(a),C=!gt(l),D=!gt(d),B=(T-w)/(p+1);let L=eN((T-w)/x/b)*b,U,M,I,N;if(L<1e-14&&!P&&!C)return[{value:w},{value:T}];N=Math.ceil(T/L)-Math.floor(w/L),N>x&&(L=eN(N*L/x/b)*b),gt(c)||(U=Math.pow(10,c),L=Math.ceil(L*U)/U),s==="ticks"?(M=Math.floor(w/L)*L,I=Math.ceil(T/L)*L):(M=w,I=T),P&&C&&i&&XX((l-a)/i,L/1e3)?(N=Math.round(Math.min((l-a)/L,f)),L=(l-a)/N,M=a,I=l):D?(M=P?a:M,I=C?l:I,N=d-1,L=(I-M)/N):(N=(I-M)/L,fh(N,Math.round(N),L/1e3)?N=Math.round(N):N=Math.ceil(N));const j=Math.max(tN(L),tN(M));U=Math.pow(10,gt(c)?j:c),M=Math.round(M*U)/U,I=Math.round(I*U)/U;let A=0;for(P&&(v&&M!==a?(t.push({value:a}),M<a&&A++,fh(Math.round((M+A*L)*U)/U,a,XN(a,B,n))&&A++):M<a&&A++);A<N;++A){const O=Math.round((M+A*L)*U)/U;if(C&&O>l)break;t.push({value:O})}return C&&v&&I!==l?t.length&&fh(t[t.length-1].value,l,XN(l,B,n))?t[t.length-1].value=l:t.push({value:l}):(!C||I===l)&&t.push({value:I}),t}function XN(n,e,{horizontal:t,minRotation:r}){const s=dl(r),i=(t?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+n).length;return Math.min(e/i,a)}class dee extends Lu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return gt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=t?s:c,l=c=>i=r?i:c;if(e){const c=xu(s),d=xu(i);c<0&&d<0?l(0):c>0&&d>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,a=uee(s,i);return e.bounds==="ticks"&&QX(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-t)/Math.max(e.length-1,1)/2;t-=s,r+=s}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return SM(e,this.chart.options.locale,this.options.ticks.format)}}class Xw extends dee{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=fs(e)?e:0,this.max=fs(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=dl(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$e(Xw,"id","linear"),$e(Xw,"defaults",{ticks:{callback:IM.formatters.numeric}});const zy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xr=Object.keys(zy);function QN(n,e){return n-e}function JN(n,e){if(gt(e))return null;const t=n._adapter,{parser:r,round:s,isoWeekday:i}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),fs(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(s&&(a=s==="week"&&(Kh(i)||i===!0)?t.startOf(a,"isoWeek",i):t.startOf(a,s)),+a)}function ZN(n,e,t,r){const s=xr.length;for(let i=xr.indexOf(n);i<s-1;++i){const a=zy[xr[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=r)return xr[i]}return xr[s-1]}function hee(n,e,t,r,s){for(let i=xr.length-1;i>=xr.indexOf(t);i--){const a=xr[i];if(zy[a].common&&n._adapter.diff(s,r,a)>=e-1)return a}return xr[t?xr.indexOf(t):0]}function fee(n){for(let e=xr.indexOf(n)+1,t=xr.length;e<t;++e)if(zy[xr[e]].common)return xr[e]}function ek(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:s}=iT(t,e),i=t[r]>=e?t[r]:t[s];n[i]=!0}}function mee(n,e,t,r){const s=n._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=t[l],c>=0&&(e[c].major=!0);return e}function tk(n,e,t){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!t?r:mee(n,r,s,t)}class zg extends Lu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),s=this._adapter=new IJ._date(e.adapters.date);s.init(t),hh(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:JN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=fs(s)&&!isNaN(s)?s:+t.startOf(Date.now(),r),i=fs(i)&&!isNaN(i)?i:+t.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=rQ(s,i,a);return this._unit=t.unit||(r.autoSkip?ZN(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):hee(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:fee(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),tk(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=os(t,0,a),r=os(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||ZN(i.minUnit,t,r,this._getLabelCapacity(t)),l=Je(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,d=Kh(c)||c===!0,f={};let p=t,v,b;if(d&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,d?"day":a),e.diff(r,t,a)>1e5*l)throw new Error(t+" and "+r+" are too far apart with stepSize of "+l+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(v=p,b=0;v<r;v=+e.add(v,l,a),b++)ek(f,v,x);return(v===r||s.bounds==="ticks"||b===1)&&ek(f,v,x),Object.keys(f).sort(QN).map(w=>+w)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,i=this._unit,a=t||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,s){const i=this.options,a=i.ticks.callback;if(a)return _t(a,[e,t,r],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,f=c&&l[c],p=d&&l[d],v=r[t],b=d&&p&&v&&v.major;return this._adapter.format(e,s||(b?p:f))}generateTickLabels(e){let t,r,s;for(t=0,r=e.length;t<r;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,s=dl(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,s=r[t.unit]||r.millisecond,i=this._tickFormatFunction(e,0,tk(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,r=s.length;t<r;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const s=this.getLabels();for(t=0,r=s.length;t<r;++t)e.push(JN(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return iQ(e.sort(QN))}}$e(zg,"id","time"),$e(zg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function mp(n,e,t){let r=0,s=n.length-1,i,a,l,c;t?(e>=n[r].pos&&e<=n[s].pos&&({lo:r,hi:s}=hl(n,"pos",e)),{pos:i,time:l}=n[r],{pos:a,time:c}=n[s]):(e>=n[r].time&&e<=n[s].time&&({lo:r,hi:s}=hl(n,"time",e)),{time:i,pos:l}=n[r],{time:a,pos:c}=n[s]);const d=a-i;return d?l+(c-l)*(e-i)/d:l}class nk extends zg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=mp(t,this.min),this._tableRange=mp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,s=[],i=[];let a,l,c,d,f;for(a=0,l=e.length;a<l;++a)d=e[a],d>=t&&d<=r&&s.push(d);if(s.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)f=s[a+1],c=s[a-1],d=s[a],Math.round((f+c)/2)!==d&&i.push({time:d,pos:a/(l-1)});return i}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(mp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return mp(this._table,r*this._tableRange+this._minPos,!0)}}$e(nk,"id","timeseries"),$e(nk,"defaults",zg.defaults);const ZM="label";function rk(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function pee(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function eO(n,e){n.labels=e}function tO(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ZM;const r=[];n.datasets=e.map(s=>{const i=n.datasets.find(a=>a[t]===s[t]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function gee(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZM;const t={labels:[],datasets:[]};return eO(t,n.labels),tO(t,n.datasets,e),t}function yee(n,e){const{height:t=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:d=[],fallbackContent:f,updateMode:p,...v}=n,b=F.useRef(null),x=F.useRef(null),w=()=>{b.current&&(x.current=new By(b.current,{type:a,data:gee(l,i),options:c&&{...c},plugins:d}),rk(e,x.current))},T=()=>{rk(e,null),x.current&&(x.current.destroy(),x.current=null)};return F.useEffect(()=>{!s&&x.current&&c&&pee(x.current,c)},[s,c]),F.useEffect(()=>{!s&&x.current&&eO(x.current.config.data,l.labels)},[s,l.labels]),F.useEffect(()=>{!s&&x.current&&l.datasets&&tO(x.current.config.data,l.datasets,i)},[s,l.datasets]),F.useEffect(()=>{x.current&&(s?(T(),setTimeout(w)):x.current.update(p))},[s,c,l.labels,l.datasets,p]),F.useEffect(()=>{x.current&&(T(),setTimeout(w))},[a]),F.useEffect(()=>(w(),()=>T()),[]),pe.createElement("canvas",{ref:b,role:"img",height:t,width:r,...v},f)}const vee=F.forwardRef(yee);function xee(n,e){return By.register(e),F.forwardRef((t,r)=>pe.createElement(vee,{...t,ref:r,type:n}))}const sk=xee("line",Op);By.register(Kw,Xw,Fp,Xd,JZ,aee,XZ);const wee=()=>{const{currentUser:n}=xn(),[e,t]=F.useState(!0),[r,s]=F.useState([]),[i,a]=F.useState([]),[l,c]=F.useState([]),[d,f]=F.useState({bmi:[],cycle:[],risk:[],general:[]});F.useEffect(()=>{n&&p()},[n]);const p=async()=>{try{t(!0);const M=br(yn(at,"bmiRecords"),Cn("userId","==",n==null?void 0:n.uid),oi("date","asc")),I=await _r(M),N=[];I.forEach(ie=>{const ue=ie.data();N.push({...ue,id:ie.id})}),s(N);const j=br(yn(at,"cycles"),Cn("userId","==",n==null?void 0:n.uid),oi("startDate","asc")),A=await _r(j),O=[];A.forEach(ie=>{const ue=ie.data();O.push({...ue,id:ie.id})}),a(O);const R=br(yn(at,"diseaseAssessments"),Cn("userId","==",n==null?void 0:n.uid),oi("date","desc")),G=await _r(R),J=[];G.forEach(ie=>{const ue=ie.data();J.push({...ue,id:ie.id})}),c(J),w(N,O,J)}catch(M){console.error("Error fetching health data:",M);const I=v(),N=b(),j=x();s(I),a(N),c(j),w(I,N,j)}finally{t(!1)}},v=()=>{const M=new Date,I=[];for(let N=0;N<6;N++){const j=new Date(M);j.setMonth(M.getMonth()-N);let A=60,O=22,R="normal";N===1?(A=62,O=22.8):N===2?(A=64,O=23.5,R="normal"):N===3?(A=66,O=24.2,R="normal"):N===4?(A=68,O=25,R="overweight"):N===5&&(A=70,O=25.7,R="overweight"),I.push({id:`sample-bmi-${N}`,userId:(n==null?void 0:n.uid)||"sample-user",date:j.toISOString().split("T")[0],height:165,weight:A,bmi:O,category:R})}return I.reverse()},b=()=>{const M=new Date,I=[];for(let N=0;N<6;N++){const j=new Date(M);j.setDate(M.getDate()-N*28-10);const A=new Date(j);A.setDate(j.getDate()+5);const O=28+(N%3-1);I.push({id:`sample-cycle-${N}`,userId:(n==null?void 0:n.uid)||"sample-user",startDate:j.toISOString().split("T")[0],endDate:A.toISOString().split("T")[0],duration:O,days:[],predictedNextStart:new Date(j.getTime()+O*24*60*60*1e3).toISOString().split("T")[0]})}return I.reverse()},x=()=>{const M=new Date,I=[],N=["breast_cancer","pcos","pcod"];for(let j=0;j<3;j++){const A=new Date(M);A.setMonth(M.getMonth()-j*2);const O=N[j%3];let R=30;O==="pcos"?R=45:O==="pcod"&&(R=25),I.push({id:`sample-risk-${j}`,userId:(n==null?void 0:n.uid)||"sample-user",date:A.toISOString().split("T")[0],condition:O,riskScore:R,symptoms:["Irregular periods","Fatigue"],recommendations:["Maintain a healthy diet","Exercise regularly","Consult with a healthcare professional"]})}return I},w=(M,I,N)=>{const j={bmi:[],cycle:[],risk:[],general:["Stay hydrated by drinking at least 8 glasses of water daily","Aim for 7-9 hours of quality sleep each night","Practice stress-reduction techniques like meditation or deep breathing","Include a variety of fruits and vegetables in your diet for essential nutrients"]};if(M.length>0){const A=M[M.length-1];if(A.category==="underweight"?(j.bmi.push("Your BMI indicates you are underweight. Consider consulting with a nutritionist for a personalized plan to reach a healthy weight."),j.bmi.push("Focus on nutrient-dense foods and consider adding strength training to your exercise routine.")):A.category==="normal"?j.bmi.push("Your BMI is within the normal range. Keep up the good work with your healthy lifestyle habits!"):A.category==="overweight"?(j.bmi.push("Your BMI indicates you are overweight. Small, sustainable changes to diet and exercise can help you reach a healthier weight."),j.bmi.push("Consider incorporating more physical activity into your daily routine and focusing on portion control.")):A.category==="obese"&&(j.bmi.push("Your BMI indicates obesity, which increases risk for various health conditions. Consider consulting with a healthcare provider."),j.bmi.push("Focus on gradual, sustainable lifestyle changes rather than rapid weight loss for long-term success.")),M.length>1){const O=M[M.length-2],R=A.bmi-O.bmi;Math.abs(R)>1&&(R>0&&(A.category==="overweight"||A.category==="obese")?j.bmi.push(`Your BMI has increased by ${R.toFixed(1)} points since your last measurement. Consider reviewing your diet and exercise habits.`):R>0&&A.category==="normal"?j.bmi.push(`Your BMI has increased by ${R.toFixed(1)} points but remains in the normal range. Continue monitoring your health habits.`):R<0&&(O.category==="overweight"||O.category==="obese")?j.bmi.push(`Great progress! Your BMI has decreased by ${Math.abs(R).toFixed(1)} points since your last measurement.`):R<0&&A.category==="underweight"&&j.bmi.push(`Your BMI has decreased by ${Math.abs(R).toFixed(1)} points and is now in the underweight range. Consider consulting with a healthcare provider.`))}}else j.bmi.push("No BMI data available. Calculate your BMI to receive personalized insights.");if(I.length>0){const A=I[I.length-1],O=new Date,R=new Date(A.startDate),G=Math.floor((O.getTime()-R.getTime())/(1e3*60*60*24));if(A.duration&&(A.duration<21?j.cycle.push("Your last cycle was shorter than average. Short cycles can sometimes indicate hormonal imbalances or stress."):A.duration>35?j.cycle.push("Your last cycle was longer than average. Long cycles can sometimes be related to hormonal changes, stress, or other factors."):j.cycle.push("Your cycle length is within the normal range, which is a positive indicator of reproductive health.")),I.length>2){const J=I.slice(-3).map(ee=>ee.duration||28),ie=J.reduce((ee,ce)=>ee+ce,0)/J.length;Math.max(...J)-Math.min(...J)>7?j.cycle.push("Your cycle length has varied significantly in recent months. This can be normal, but if it concerns you, consider discussing it with a healthcare provider."):j.cycle.push("Your cycle has been relatively consistent in recent months, which is a positive sign of hormonal balance."),j.cycle.push(`Based on your history, your average cycle length is ${Math.round(ie)} days.`)}if(A.predictedNextStart){const J=new Date(A.predictedNextStart),ie=Math.floor((J.getTime()-O.getTime())/(1e3*60*60*24));ie>0?j.cycle.push(`Your next cycle is predicted to start in approximately ${ie} days.`):ie<0&&ie>-5?j.cycle.push("Your period appears to be late. This can be due to various factors including stress, exercise, or hormonal changes."):ie<-5&&j.cycle.push("Your period appears to be significantly delayed. If this is unusual for you, consider consulting with a healthcare provider.")}G<0?j.cycle.push("You are currently in your pre-menstrual phase. This is a good time to focus on self-care and stress management."):G<5?j.cycle.push("You are currently in your menstrual phase. Focus on iron-rich foods and gentle exercise to support your body."):G<14?j.cycle.push("You are currently in your follicular phase. Energy levels are typically higher during this time, making it ideal for more intense workouts."):j.cycle.push("You are currently in your luteal phase. You may experience changes in energy and mood. Prioritize balanced nutrition and adequate rest.")}else j.cycle.push("No cycle data available. Track your cycle to receive personalized insights.");if(N.length>0){const A=N[0];if(A.riskScore<30?j.risk.push(`Your risk assessment for ${A.condition.replace("_"," ")} shows a low risk level. Continue with preventive health measures.`):A.riskScore<70?j.risk.push(`Your risk assessment for ${A.condition.replace("_"," ")} shows a moderate risk level. Consider the recommended lifestyle modifications.`):j.risk.push(`Your risk assessment for ${A.condition.replace("_"," ")} shows a high risk level. It's recommended to consult with a healthcare provider.`),A.recommendations.length>0&&j.risk.push(`Key recommendation: ${A.recommendations[0]}`),N.length>1&&N[0].condition===N[1].condition){const O=N[0].riskScore-N[1].riskScore;O>5?j.risk.push(`Your risk for ${A.condition.replace("_"," ")} has increased since your last assessment. Review the recommendations and consider consulting a healthcare provider.`):O<-5&&j.risk.push(`Your risk for ${A.condition.replace("_"," ")} has decreased since your last assessment. Your health changes appear to be having a positive impact.`)}}else j.risk.push("No risk assessment data available. Complete a health assessment to receive personalized insights.");if(M.length>0&&I.length>0){const A=M[M.length-1];A.category==="underweight"&&I.some(O=>(O.duration||28)>35)?j.general.push("Being underweight can sometimes affect menstrual regularity. Maintaining a healthy weight may help regulate your cycle."):(A.category==="overweight"||A.category==="obese")&&I.some(O=>(O.duration||28)>35)&&j.general.push("Higher body weight can sometimes affect menstrual regularity. Gradual weight management may help improve cycle regularity.")}if(N.some(A=>A.condition==="pcos"&&A.riskScore>50)&&M.length>0){const A=M[M.length-1];(A.category==="overweight"||A.category==="obese")&&j.general.push("Weight management can be particularly beneficial for managing PCOS symptoms. Even a modest 5-10% weight reduction can help improve hormonal balance.")}f(j)},T=()=>r.length===0?null:{labels:r.map(M=>new Date(M.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"BMI",data:r.map(M=>M.bmi),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.5)",tension:.3}]},P=()=>i.length===0?null:{labels:i.map(M=>new Date(M.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Cycle Length (days)",data:i.map(M=>M.duration||28),borderColor:"rgb(236, 72, 153)",backgroundColor:"rgba(236, 72, 153, 0.5)",tension:.3}]},C={responsive:!0,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!1}}},D=M=>M<30?"text-green-600":M<70?"text-yellow-600":"text-red-600",B=M=>M<30?"bg-green-100":M<70?"bg-yellow-100":"bg-red-100";if(e)return h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})});const L=T(),U=P();return h.jsxs("div",{children:[h.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(dg,{className:"h-6 w-6 text-indigo-600 mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Health Insights"})]}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Personalized health insights based on your tracked data and patterns."})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Key Insights"}),h.jsxs("div",{className:"space-y-6",children:[d.bmi.length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx(tr,{className:"h-5 w-5 text-blue-600 mr-2"}),h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"BMI & Weight"})]}),h.jsx("ul",{className:"space-y-2",children:d.bmi.map((M,I)=>h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-blue-600 mr-2",children:"•"}),h.jsx("span",{className:"text-gray-700",children:M})]},I))}),h.jsx("div",{className:"mt-2",children:h.jsxs(it,{to:"/bmi-calculator",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-800",children:["Go to BMI Calculator",h.jsx(Fr,{className:"ml-1 h-4 w-4"})]})})]}),d.cycle.length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx(Nn,{className:"h-5 w-5 text-pink-600 mr-2"}),h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Menstrual Cycle"})]}),h.jsx("ul",{className:"space-y-2",children:d.cycle.map((M,I)=>h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-pink-600 mr-2",children:"•"}),h.jsx("span",{className:"text-gray-700",children:M})]},I))}),h.jsx("div",{className:"mt-2",children:h.jsxs(it,{to:"/cycle-tracker",className:"inline-flex items-center text-sm font-medium text-pink-600 hover:text-pink-800",children:["Go to Cycle Tracker",h.jsx(Fr,{className:"ml-1 h-4 w-4"})]})})]}),d.risk.length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx(fi,{className:"h-5 w-5 text-red-600 mr-2"}),h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Health Risk Assessment"})]}),h.jsx("ul",{className:"space-y-2",children:d.risk.map((M,I)=>h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-red-600 mr-2",children:"•"}),h.jsx("span",{className:"text-gray-700",children:M})]},I))}),h.jsx("div",{className:"mt-2",children:h.jsxs(it,{to:"/disease-detection",className:"inline-flex items-center text-sm font-medium text-red-600 hover:text-red-800",children:["Go to Health Assessment",h.jsx(Fr,{className:"ml-1 h-4 w-4"})]})})]}),d.general.length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx(dg,{className:"h-5 w-5 text-indigo-600 mr-2"}),h.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"General Wellness"})]}),h.jsx("ul",{className:"space-y-2",children:d.general.map((M,I)=>h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-indigo-600 mr-2",children:"•"}),h.jsx("span",{className:"text-gray-700",children:M})]},I))})]})]})]})}),h.jsx("div",{children:h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Health Summary"}),h.jsxs("div",{className:"space-y-4",children:[r.length>0&&h.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(tr,{className:"h-5 w-5 text-blue-600 mr-2"}),h.jsx("h3",{className:"font-medium text-gray-800",children:"Current BMI"})]}),h.jsx("span",{className:"text-xl font-bold text-blue-600",children:r[r.length-1].bmi.toFixed(1)})]}),h.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:["Category: ",r[r.length-1].category]}),r.length>1&&h.jsx("div",{className:"mt-2 flex items-center text-sm",children:r[r.length-1].bmi>r[r.length-2].bmi?h.jsxs(h.Fragment,{children:[h.jsx(T$,{className:"h-4 w-4 text-red-500 mr-1"}),h.jsxs("span",{className:"text-red-600",children:["+",(r[r.length-1].bmi-r[r.length-2].bmi).toFixed(1)," from last measurement"]})]}):h.jsxs(h.Fragment,{children:[h.jsx(_$,{className:"h-4 w-4 text-green-500 mr-1"}),h.jsxs("span",{className:"text-green-600",children:[(r[r.length-1].bmi-r[r.length-2].bmi).toFixed(1)," from last measurement"]})]})})]}),i.length>0&&h.jsxs("div",{className:"p-4 bg-pink-50 rounded-lg",children:[h.jsx("div",{className:"flex justify-between items-center mb-2",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Nn,{className:"h-5 w-5 text-pink-600 mr-2"}),h.jsx("h3",{className:"font-medium text-gray-800",children:"Cycle Status"})]})}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("p",{className:"text-sm text-gray-600",children:["Last period: ",new Date(i[i.length-1].startDate).toLocaleDateString()]}),i[i.length-1].predictedNextStart&&h.jsxs("p",{className:"text-sm text-gray-600",children:["Next predicted period: ",new Date(i[i.length-1].predictedNextStart).toLocaleDateString()]}),i.length>1&&h.jsxs("p",{className:"text-sm text-gray-600",children:["Average cycle length: ",Math.round(i.slice(-3).reduce((M,I)=>M+(I.duration||28),0)/Math.min(i.length,3))," days"]})]})]}),l.length>0&&h.jsxs("div",{className:`p-4 ${B(l[0].riskScore)} rounded-lg`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(fi,{className:"h-5 w-5 text-red-600 mr-2"}),h.jsx("h3",{className:"font-medium text-gray-800",children:"Latest Risk Assessment"})]}),h.jsxs("span",{className:`text-xl font-bold ${D(l[0].riskScore)}`,children:[l[0].riskScore,"%"]})]}),h.jsxs("p",{className:"text-sm text-gray-600 capitalize mb-1",children:["Condition: ",l[0].condition.replace("_"," ")]}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(l[0].date).toLocaleDateString()]})]}),h.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx(Au,{className:"h-5 w-5 text-indigo-600 mr-2"}),h.jsx("h3",{className:"font-medium text-gray-800",children:"Health Reminders"})]}),h.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[h.jsx("li",{children:"• Schedule your annual gynecological exam"}),h.jsx("li",{children:"• Update your health assessments regularly"}),h.jsx("li",{children:"• Track your cycle consistently for better insights"}),h.jsx("li",{children:"• Monitor your BMI every 1-2 months"})]})]})]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[L&&h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(tr,{className:"h-5 w-5 text-blue-600 mr-2"}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"BMI Trend"})]}),h.jsx("div",{className:"h-64",children:h.jsx(sk,{data:L,options:C})}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[h.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"BMI Categories"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full mr-2"}),h.jsx("span",{className:"text-gray-600",children:"Underweight: <18.5"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full mr-2"}),h.jsx("span",{className:"text-gray-600",children:"Normal: 18.5-24.9"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-yellow-600 rounded-full mr-2"}),h.jsx("span",{className:"text-gray-600",children:"Overweight: 25-29.9"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full mr-2"}),h.jsx("span",{className:"text-gray-600",children:"Obese: ≥30"})]})]})]})]}),U&&h.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(Nn,{className:"h-5 w-5 text-pink-600 mr-2"}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Cycle Length Trend"})]}),h.jsx("div",{className:"h-64",children:h.jsx(sk,{data:U,options:C})}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[h.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Cycle Length Reference"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-yellow-600 rounded-full mr-2"}),h.jsx("span",{className:"text-gray-600",children:"Short: <21 days"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full mr-2"}),h.jsx("span",{className:"text-gray-600",children:"Normal: 21-35 days"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-yellow-600 rounded-full mr-2"}),h.jsx("span",{className:"text-gray-600",children:"Long: >35 days"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-pink-600 rounded-full mr-2"}),h.jsx("span",{className:"text-gray-600",children:"Average: 28 days"})]})]})]})]})]})]})},bee=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-purple-100 to-pink-100 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(Au,{className:"h-16 w-16 text-purple-600"})}),h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"404"}),h.jsx("p",{className:"mt-2 text-center text-xl text-gray-600",children:"Page Not Found"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"The page you're looking for doesn't exist or has been moved."}),h.jsx("div",{className:"mt-8",children:h.jsxs(it,{to:"/",className:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[h.jsx(e_,{className:"h-5 w-5 mr-2"}),"Return to Dashboard"]})})]})}),jr=({children:n})=>{var f,p,v,b;const[e,t]=F.useState(!1),{currentUser:r,userProfile:s,logout:i}=xn(),a=Eu(),l=jl(),c=async()=>{try{await i(),l("/login")}catch(x){console.error("Failed to log out",x)}},d=[{name:"Dashboard",href:"/",icon:e_},{name:"Cycle Tracker",href:"/cycle-tracker",icon:Nn},{name:"BMI Calculator",href:"/bmi-calculator",icon:tr},{name:"Disease Detection",href:"/disease-detection",icon:fi},{name:"Diet Planner",href:"/diet-planner",icon:Ap},{name:"Appointments",href:"/appointments",icon:eo},{name:"Health Insights",href:"/health-insights",icon:dg},{name:"Shop",href:"/shop",icon:pu},{name:"Profile",href:"/profile",icon:fg}];return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"lg:hidden",children:h.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[h.jsx("div",{className:`fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity ease-in-out duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>t(!1)}),h.jsxs("div",{className:`relative flex-1 flex flex-col max-w-xs w-full bg-white transition ease-in-out duration-300 transform ${e?"translate-x-0":"-translate-x-full"}`,children:[h.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:h.jsxs("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>t(!1),children:[h.jsx("span",{className:"sr-only",children:"Close sidebar"}),h.jsx(Rh,{className:"h-6 w-6 text-white"})]})}),h.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[h.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:h.jsx("h1",{className:"text-2xl font-bold text-purple-600",children:"IRA"})}),h.jsx("nav",{className:"mt-5 px-2 space-y-1",children:d.map(x=>h.jsxs(it,{to:x.href,className:`group flex items-center px-2 py-2 text-base font-medium rounded-md ${a.pathname===x.href?"bg-purple-100 text-purple-900":"text-gray-600 hover:bg-purple-50 hover:text-purple-900"}`,onClick:()=>t(!1),children:[h.jsx(x.icon,{className:`mr-4 h-6 w-6 ${a.pathname===x.href?"text-purple-600":"text-gray-400 group-hover:text-purple-600"}`}),x.name]},x.name))})]}),h.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{children:h.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-200 flex items-center justify-center text-purple-600 font-semibold",children:((f=s==null?void 0:s.name)==null?void 0:f.charAt(0))||((p=r==null?void 0:r.email)==null?void 0:p.charAt(0))||"U"})}),h.jsxs("div",{className:"ml-3",children:[h.jsx("p",{className:"text-base font-medium text-gray-700 truncate",children:(s==null?void 0:s.name)||(r==null?void 0:r.email)}),h.jsxs("button",{onClick:c,className:"text-sm font-medium text-gray-500 hover:text-gray-700 flex items-center",children:[h.jsx(DI,{className:"h-4 w-4 mr-1"}),"Logout"]})]})]})})]})]})}),h.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:h.jsxs("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[h.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[h.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:h.jsx("h1",{className:"text-2xl font-bold text-purple-600",children:"IRA"})}),h.jsx("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:d.map(x=>h.jsxs(it,{to:x.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${a.pathname===x.href?"bg-purple-100 text-purple-900":"text-gray-600 hover:bg-purple-50 hover:text-purple-900"}`,children:[h.jsx(x.icon,{className:`mr-3 h-5 w-5 ${a.pathname===x.href?"text-purple-600":"text-gray-400 group-hover:text-purple-600"}`}),x.name]},x.name))})]}),h.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{children:h.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-200 flex items-center justify-center text-purple-600 font-semibold",children:((v=s==null?void 0:s.name)==null?void 0:v.charAt(0))||((b=r==null?void 0:r.email)==null?void 0:b.charAt(0))||"U"})}),h.jsxs("div",{className:"ml-3",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:(s==null?void 0:s.name)||(r==null?void 0:r.email)}),h.jsxs("button",{onClick:c,className:"text-xs font-medium text-gray-500 hover:text-gray-700 flex items-center",children:[h.jsx(DI,{className:"h-3 w-3 mr-1"}),"Logout"]})]})]})})]})}),h.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[h.jsx("div",{className:"sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-white",children:h.jsxs("button",{type:"button",className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-500",onClick:()=>t(!0),children:[h.jsx("span",{className:"sr-only",children:"Open sidebar"}),h.jsx(p$,{className:"h-6 w-6"})]})}),h.jsx("main",{className:"flex-1 pb-10",children:h.jsx("div",{className:"py-6",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:n})})})]})]})},Mr=({children:n})=>{const{currentUser:e,loading:t}=xn();return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):e?h.jsx(h.Fragment,{children:n}):h.jsx(iV,{to:"/login"})};function _ee(){const[n,e]=F.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>e(!n),className:`fixed bottom-6 right-6 p-4 rounded-full shadow-lg transition-all duration-300 transform
          ${n?"bg-purple-500 hover:bg-lightpurple-600 rotate-90":"bg-purple-500 hover:bg-lightpurple-600 hover:scale-110"}
          text-white z-50`,children:n?h.jsx(Rh,{size:24}):h.jsx(g$,{size:24})}),h.jsx("div",{className:`fixed bottom-24 right-6 w-[90vw] max-w-[400px] h-[70vh] max-h-[600px] 
        transition-all duration-300 transform
        ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0 pointer-events-none"} z-40 bg-white rounded-2xl shadow-2xl border border-cyan-500/20 overflow-hidden`,children:h.jsx("iframe",{src:"https://cdn.botpress.cloud/webchat/v2.2/shareable.html?configUrl=https://files.bpcontent.cloud/2025/03/06/09/20250306090320-3KU0XDDF.json",className:"w-full h-full",title:"Chatbot"})})]})}function Tee(){return h.jsx(mV,{children:h.jsxs(mU,{children:[h.jsx(i$,{}),h.jsx(Eee,{})]})})}const Eee=()=>h.jsxs(h.Fragment,{children:[h.jsxs(oV,{children:[h.jsx(fn,{path:"/login",element:h.jsx(mG,{})}),h.jsx(fn,{path:"/register",element:h.jsx(pG,{})}),h.jsx(fn,{path:"/forgot-password",element:h.jsx(gG,{})}),h.jsx(fn,{path:"/",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(fG,{})})})}),h.jsx(fn,{path:"/profile",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(yG,{})})})}),h.jsx(fn,{path:"/cycle-tracker",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(iX,{})})})}),h.jsx(fn,{path:"/bmi-calculator",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(aX,{})})})}),h.jsx(fn,{path:"/disease-detection",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(oX,{})})})}),h.jsx(fn,{path:"/shop",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(lX,{})})})}),h.jsx(fn,{path:"/shop/product/:id",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(cX,{})})})}),h.jsx(fn,{path:"/cart",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(uX,{})})})}),h.jsx(fn,{path:"/checkout",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(fX,{})})})}),h.jsx(fn,{path:"/order-success/:id",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(mX,{})})})}),h.jsx(fn,{path:"/appointments",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(pX,{})})})}),h.jsx(fn,{path:"/diet-planner",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(gX,{})})})}),h.jsx(fn,{path:"/health-insights",element:h.jsx(Mr,{children:h.jsx(jr,{children:h.jsx(wee,{})})})}),h.jsx(fn,{path:"*",element:h.jsx(bee,{})})]}),h.jsx(_ee,{})]});pL.createRoot(document.getElementById("root")).render(h.jsx(F.StrictMode,{children:h.jsx(Tee,{})}));
